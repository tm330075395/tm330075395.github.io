<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-CanaanK230/part8/K230SDKFrequentlyAskedQuestions（C）" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">K230 SDK 常见问题解答（C） | 正点原子</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://tm330075395.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://tm330075395.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://tm330075395.github.io/docs/CanaanK230/part8/K230SDKFrequentlyAskedQuestions（C）"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="K230 SDK 常见问题解答（C） | 正点原子"><meta data-rh="true" name="description" content="1 TF boot failed with exit code 13"><meta data-rh="true" property="og:description" content="1 TF boot failed with exit code 13"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://tm330075395.github.io/docs/CanaanK230/part8/K230SDKFrequentlyAskedQuestions（C）"><link data-rh="true" rel="alternate" href="https://tm330075395.github.io/docs/CanaanK230/part8/K230SDKFrequentlyAskedQuestions（C）" hreflang="en"><link data-rh="true" rel="alternate" href="https://tm330075395.github.io/docs/CanaanK230/part8/K230SDKFrequentlyAskedQuestions（C）" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="正点原子 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="正点原子 Atom Feed"><link rel="stylesheet" href="/assets/css/styles.ce37c9a8.css">
<script src="/assets/js/runtime~main.fcaa3de9.js" defer="defer"></script>
<script src="/assets/js/main.252b8acf.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">My Site</b></a><a class="navbar__item navbar__link" href="/docs/intro">Tutorial</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/CanaanK230/Userdoc">CanMV-K230教程</a><a href="http://www.alientek.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">正点原子官网<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="http://www.openedv.com/forum.php" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">论坛<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/tm330075395/tm330075395.github.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/CanaanK230/Userdoc">文档阅读指南</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/1开发板上手指南-1">1.开发板上手指南</a><button aria-label="Expand sidebar category &#x27;1.开发板上手指南&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/2开发环境搭建指南-1">2.开发环境搭建指南</a><button aria-label="Expand sidebar category &#x27;2.开发环境搭建指南&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/3嵌入式应用开发指南-1">3.嵌入式应用开发指南</a><button aria-label="Expand sidebar category &#x27;3.嵌入式应用开发指南&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/4ai应用开发指南-1">4.AI应用开发指南</a><button aria-label="Expand sidebar category &#x27;4.AI应用开发指南&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/5micropython应用开发指南-1">5.MicroPython应用开发指南</a><button aria-label="Expand sidebar category &#x27;5.MicroPython应用开发指南&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/6系统开发指南-1">6.系统开发指南</a><button aria-label="Expand sidebar category &#x27;6.系统开发指南&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/7sdk-api参考指南-1">7.SDK API参考指南</a><button aria-label="Expand sidebar category &#x27;7.SDK API参考指南&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/category/8常见问题-1">8.常见问题</a><button aria-label="Collapse sidebar category &#x27;8.常见问题&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/CanaanK230/part8/K230SDKFrequentlyAskedQuestions（C）">K230 SDK 常见问题解答（C）</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CanaanK230/part8/K230nncaseFrequentlyAskedQuestions">K230 nncase 常见问题解答</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CanaanK230/part8/K230AIdemoFrequentlyAskedQuestions（C++）">K230 AI demo 常见问题解答（C++）</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CanaanK230/part8/AICubeFrequentlyAskedQuestions">AI Cube常见问题解答</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/8常见问题-1"><span itemprop="name">8.常见问题</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">K230 SDK 常见问题解答（C）</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>K230 SDK 常见问题解答（C）</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-tf-boot-failed-with-exit-code-13">1 TF boot failed with exit code 13<a href="#1-tf-boot-failed-with-exit-code-13" class="hash-link" aria-label="Direct link to 1 TF boot failed with exit code 13" title="Direct link to 1 TF boot failed with exit code 13">​</a></h2>
<p>问题： TF卡启动报boot failed with exit code 13错误</p>
<p>答：原因如下 1.启动介质里面文件错误。2.启动管脚设置错误。</p>
<p>TF卡启动管脚设置特别说明： 两个启动管脚电平为高(需要拨到丝印的1和2，也就是ON的反方向)时才会从TF卡启  动。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-bootrom启动错误码">2 bootrom启动错误码<a href="#2-bootrom启动错误码" class="hash-link" aria-label="Direct link to 2 bootrom启动错误码" title="Direct link to 2 bootrom启动错误码">​</a></h2>
<p>问题：bootrom 启动错误码含义是什么？</p>
<p>bootrom引导失败时会打印类似下面错误 boot failed with exit code 19，最后的数字是错误原因，常见错误含义如下</p>
<table><thead><tr><th>值</th><th>含义</th></tr></thead><tbody><tr><td>13</td><td>启动介质里面文件错误</td></tr><tr><td>19</td><td>启动介质初始化失败，比如没有插sd卡等</td></tr><tr><td>17</td><td>otp要求必需是安全镜像，但是介质里面文件是非安全镜像</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-spi-nor-和-spi-nand-flash识别">3 spi nor 和 spi nand flash识别<a href="#3-spi-nor-和-spi-nand-flash识别" class="hash-link" aria-label="Direct link to 3 spi nor 和 spi nand flash识别" title="Direct link to 3 spi nor 和 spi nand flash识别">​</a></h2>
<p>问题： 怎么知道evb板上连接的是spi nor还是spi nand flash？</p>
<p>答：方法1：子板丝印不一样，丝印会有nor或nand标识。</p>
<p>方法2：linux启动log会有打印，比如连接spi nor时会有类似下面打印</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[root@canaan ~ ]#dmesg | grep spi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[    1.299989] spi spi0.0: setup mode 0, 8 bits/w, 100000000 Hz max --&gt; 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[    1.306704] spi-nor spi0.0: gd25lx256e (32768 Kbytes)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[    1.311786] 2 fixed-partitions partitions found on MTD device spi0.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[    1.318147] Creating 2 MTD partitions on &quot;spi0.0&quot;:</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="4-perf-使用">4 perf 使用<a href="#4-perf-使用" class="hash-link" aria-label="Direct link to 4 perf 使用" title="Direct link to 4 perf 使用">​</a></h2>
<p>问题：perf如何编译，支持那些硬件事件？</p>
<p>答：perf的时候可以使用raw事件，比如perf stat -e r12 ,perf工具编译命令如下:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd src/little/linux/tools</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">make CROSS_COMPILE=riscv64-unknown-linux-gnu- ARCH=riscv perf V=1 WERROR=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#目标文件是  perf/perf ，把这个文件复制到板子上就可以了。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>特别说明：1.1以前版本进行如下修改</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#src/little/linux/arch/riscv/boot/dts/kendryte/k230_evb.dtsi 添加如下内容</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pmu_thead: pmu_thead {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    interrupt-parent = &lt;&amp;cpu0_intc&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    interrupts = &lt;17&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    compatible = &quot;thead,c900_pmu&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#src/little/linux/arch/riscv/configs/k230_evb_defconfig  文件增加如下配置</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CONFIG_KALLSYMS=y</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CONFIG_KALLSYMS_ALL=y</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CONFIG_PERF_EVENTS=y</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CONFIG_DEBUG_PERF_USE_VMALLOC=y</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CONFIG_KUSER_HELPERS=y</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CONFIG_DEBUG_INFO=y</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CONFIG_FRAME_POINTER=y</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[root@canaan ~ ]#perf list hw cache  &gt; a ;cat a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  branch-instructions OR branches                    [Hardware event]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  branch-misses                                      [Hardware event]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  bus-cycles                                         [Hardware event]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  cache-misses                                       [Hardware event]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  cache-references                                   [Hardware event]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  cpu-cycles OR cycles                               [Hardware event]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  instructions                                       [Hardware event]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ref-cycles                                         [Hardware event]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  stalled-cycles-backend OR idle-cycles-backend      [Hardware event]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  stalled-cycles-frontend OR idle-cycles-frontend    [Hardware event]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  L1-dcache-load-misses                              [Hardware cache event]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  L1-dcache-loads                                    [Hardware cache event]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  L1-dcache-store-misses                             [Hardware cache event]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  L1-dcache-stores                                   [Hardware cache event]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  L1-icache-load-misses                              [Hardware cache event]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  L1-icache-loads                                    [Hardware cache event]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  LLC-load-misses                                    [Hardware cache event]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  LLC-loads                                          [Hardware cache event]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  LLC-store-misses                                   [Hardware cache event]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  LLC-stores                                         [Hardware cache event]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  dTLB-load-misses                                   [Hardware cache event]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  dTLB-loads                                         [Hardware cache event]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  dTLB-store-misses                                  [Hardware cache event]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  dTLB-stores                                        [Hardware cache event]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  iTLB-load-misses                                   [Hardware cache event]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  iTLB-loads                                         [Hardware cache event]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@canaan ~ ]#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="5大核运行vector-linux">5大核运行vector linux<a href="#5大核运行vector-linux" class="hash-link" aria-label="Direct link to 5大核运行vector linux" title="Direct link to 5大核运行vector linux">​</a></h2>
<p>问题：大核如何运行带vector的linux？</p>
<p>答：请使用如下命令编译</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">make CONF=k230_canmv_only_linux_defconfig</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#k230_canmv_only_linux_defconfig 对应的是带vector大核linux镜像</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="6-大核串口id">6 大核串口id<a href="#6-大核串口id" class="hash-link" aria-label="Direct link to 6 大核串口id" title="Direct link to 6 大核串口id">​</a></h2>
<p>问题：怎么修改大核的串口id？</p>
<p>答：configs下面配置文件 CONFIG_RTT_CONSOLE_ID代表大核串口id，修改为正确的值就可以了。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="7-uboot命令行">7 uboot命令行<a href="#7-uboot命令行" class="hash-link" aria-label="Direct link to 7 uboot命令行" title="Direct link to 7 uboot命令行">​</a></h2>
<p>怎么编译可以进入uboot命令行的版本</p>
<p>答： configs下面配置文件 CONFIG_QUICK_BOOT代表快起，修改为CONFIG_QUICK_BOOT=n 就可以生成可进去uboot命令行版本。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="8-慢启怎么变快启动">8 慢启怎么变快启动<a href="#8-慢启怎么变快启动" class="hash-link" aria-label="Direct link to 8 慢启怎么变快启动" title="Direct link to 8 慢启怎么变快启动">​</a></h2>
<p>答：进入uboot命令行执行如下命令：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">setenv quick_boot true;saveenv;reset;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="9-linux如何修改最后一个分区大小">9 linux如何修改最后一个分区大小<a href="#9-linux如何修改最后一个分区大小" class="hash-link" aria-label="Direct link to 9 linux如何修改最后一个分区大小" title="Direct link to 9 linux如何修改最后一个分区大小">​</a></h2>
<p>答：使用parted工具可以动态修改最后一个分区大小，参考命令如下：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">umount /sharefs/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">parted   -l /dev/mmcblk1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">parted  -a minimal  /dev/mmcblk1  resizepart 4  31.3GB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mkfs.ext2 /dev/mmcblk1p4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mount /dev/mmcblk1p4 /sharefs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#参考操作log如下</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@canaan ~ ]#parted   -l /dev/mmcblk1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Model: SD SD32G (sd/mmc)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Disk /dev/mmcblk1: 31.3GB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Sector size (logical/physical): 512B/512B</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Partition Table: gpt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Disk Flags: </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Number  Start   End     Size    File system  Name        Flags</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 1      10.5MB  31.5MB  21.0MB               rtt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 2      31.5MB  83.9MB  52.4MB               linux</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 3      134MB   218MB   83.9MB  ext4         rootfs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 4      218MB   487MB   268MB   fat16        fat32appfs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@canaan ~ ]#umount /sharefs/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@canaan ~ ]#parted  -a minimal  /dev/mmcblk1  resizepart 4  31.3GB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Information: You may need to update /etc/fstab.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@canaan ~ ]#parted   -l /dev/mmcblk1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Model: SD SD32G (sd/mmc)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Disk /dev/mmcblk1: 31.3GB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Sector size (logical/physical): 512B/512B</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Partition Table: gpt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Disk Flags: </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Number  Start   End     Size    File system  Name        Flags</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 1      10.5MB  31.5MB  21.0MB               rtt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 2      31.5MB  83.9MB  52.4MB               linux</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 3      134MB   218MB   83.9MB  ext4         rootfs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 4      218MB   31.3GB  31.1GB  fat16        fat32appfs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@canaan ~ ]#mkfs.ext2 /dev/mmcblk1p4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Filesystem label=</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">OS type: Linux</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Block size=4096 (log=2)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Fragment size=4096 (log=2)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1896832 inodes, 7586811 blocks</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">379340 blocks (5%) reserved for the super user</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">First data block=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Maximum filesystem blocks=8388608</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">232 block groups</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">32768 blocks per group, 32768 fragments per group</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">8176 inodes per group</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Superblock backups stored on blocks:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">32768, 98304, 163840, 229376, 294912, 819200, 884736, 1605632, 2654208, 4096000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@canaan ~ ]#parted   -l /dev/mmcblk1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Model: SD SD32G (sd/mmc)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Disk /dev/mmcblk1: 31.3GB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Sector size (logical/physical): 512B/512B</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Partition Table: gpt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Disk Flags: </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Number  Start   End     Size    File system  Name        Flags</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 1      10.5MB  31.5MB  21.0MB               rtt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 2      31.5MB  83.9MB  52.4MB               linux</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 3      134MB   218MB   83.9MB  ext4         rootfs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 4      218MB   31.3GB  31.1GB  ext2         fat32appfs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@canaan ~ ]#mount /dev/mmcblk1p4 /sharefs/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[  332.688642] EXT4-fs (mmcblk1p4): mounted filesystem without journal. Opts: (null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@canaan ~ ]#df -h</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Filesystem                Size      Used Available Use% Mounted on</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/dev/root                73.5M     60.9M     10.2M  86% /</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">devtmpfs                 41.7M         0     41.7M   0% /dev</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tmpfs                    51.8M         0     51.8M   0% /dev/shm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tmpfs                    51.8M     56.0K     51.7M   0% /tmp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tmpfs                    51.8M     36.0K     51.7M   0% /run</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/dev/mmcblk1p4           28.5G     20.0K     27.0G   0% /sharefs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@canaan ~ ]#</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="10如何修改bootargs">10如何修改bootargs<a href="#10如何修改bootargs" class="hash-link" aria-label="Direct link to 10如何修改bootargs" title="Direct link to 10如何修改bootargs">​</a></h2>
<p>答：方法1：修改使用env文件里面的bootargs 。比如可以在board/common/env/default.env文件里面添加如下内容：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">bootargs=root=/dev/mmcblk1p3 loglevel=8 rw rootdelay=4 rootfstype=ext4 console=ttyS0,115200 earlycon=sbi；</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>方法2：进入uboot命令行，参考下面命令修改bootargs。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">setenv bootargs  &quot;root=/dev/mmcblk1p3 loglevel=8 rw rootdelay=4 rootfstype=ext4 console=ttyS0,115200 earlycon=sbi&quot; ;saveenv;reset;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="11如何查看bootargs">11如何查看bootargs<a href="#11如何查看bootargs" class="hash-link" aria-label="Direct link to 11如何查看bootargs" title="Direct link to 11如何查看bootargs">​</a></h2>
<p>答：方法1：linux下 输入cat /proc/cmdline 查看</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[root@canaan ~ ]#cat /proc/cmdline </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">root=/dev/mmcblk0p3 loglevel=8 rw rootdelay=4 rootfstype=ext4 console=ttyS0,115200 crashkernel=256M-:128M earlycon=sbi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@canaan ~ ]#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>方法2：linux命令行输入 dmesg | grep command查看</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[root@canaan ~ ]#dmesg | grep  command</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[    0.000000] Kernel command line: root=/dev/mmcblk0p3 loglevel=8 rw rootdelay=4 rootfstype=ext4 console=ttyS0,115200 crashkernel=256M-:128M earlycon=sbi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@canaan </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="12小核默认串口修改">12小核默认串口修改<a href="#12小核默认串口修改" class="hash-link" aria-label="Direct link to 12小核默认串口修改" title="Direct link to 12小核默认串口修改">​</a></h2>
<p>答：目前sdk里面小核串口默认0，如果需要修改成其他串口(比如串口2)，请参考下面进行修改：</p>
<p>修改1：参考下面修改uboot设备树(比如arch/riscv/dts/k230_evb.dts)：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">aliases {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        uart2 = &amp;serial2;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    chosen {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        stdout-path = &quot;uart2:115200n8&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    serial2: serial@91402000 {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    compatible = &quot;snps,dw-apb-uart&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    reg = &lt;0x0 0x91402000 0x0 0x400&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    clock-frequency = &lt;50000000&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    clock-names = &quot;baudclk&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    reg-shift = &lt;2&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    reg-io-width = &lt;4&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    u-boot,dm-pre-reloc;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>修改2：参考下面修改linux设备树(比如arch/riscv/boot/dts/kendryte/k230_evb.dts)</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">aliases {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        serial2 = &amp;uart2;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">chosen {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        stdout-path = &quot;serial2&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&amp;uart2 {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    status = &quot;okay&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>修改3： 修改使用env文件里面的bootargs (参考2.10)。</p>
<p>比如可以在board/common/env/default.env文件里面添加如下内容：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">bootargs=root=/dev/mmcblk1p3 loglevel=8 rw rootdelay=4 rootfstype=ext4 console=ttyS2,115200 earlycon=sbi；</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="13如何彻底重编sdk">13如何彻底重编sdk<a href="#13如何彻底重编sdk" class="hash-link" aria-label="Direct link to 13如何彻底重编sdk" title="Direct link to 13如何彻底重编sdk">​</a></h2>
<p>答：更新修改SDK源代码之后，或者修改SDK源代码之后，建议输入如下命令彻底重  编下sdk。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">make clean; make;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="14-支持的sensor-list在哪里">14 支持的sensor list在哪里<a href="#14-支持的sensor-list在哪里" class="hash-link" aria-label="Direct link to 14 支持的sensor list在哪里" title="Direct link to 14 支持的sensor list在哪里">​</a></h2>
<p>答：请参考 <a href="https://developer.canaan-creative.com/k230/zh/dev/01_software/board/mpp/K230_Camera_Sensor%E9%80%82%E9%85%8D%E6%8C%87%E5%8D%97.html" target="_blank" rel="noopener noreferrer">K230_Camera_Sensor适配指南</a> 第4.1章节“支持的sensor类型”，目前支持</p>
<p>ov9732</p>
<p>ov9286</p>
<p>imx335</p>
<p>sc035</p>
<p>ov5647</p>
<p>sc201</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="15canmmv板子是否可以使用平头哥的cklink进行jtag调试">15canmmv板子是否可以使用平头哥的cklink进行jtag调试<a href="#15canmmv板子是否可以使用平头哥的cklink进行jtag调试" class="hash-link" aria-label="Direct link to 15canmmv板  子是否可以使用平头哥的cklink进行jtag调试" title="Direct link to 15canmmv板子是否可以使用平头哥的cklink进行jtag调试">​</a></h2>
<p>答：默认不可以(uboot会关闭jtag功能)，需要进行如下修改才可以使用平头哥cklink进行jtag调试。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    #src/little/uboot/arch/riscv/dts/k230_canmv.dts 文件gpio5和gipi6修改为如下内容</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    (IO5 ) ( 1&lt;&lt;SEL | 0&lt;&lt;SL | BANK_VOLTAGE_IO2_IO13 &lt;&lt;MSC | 1&lt;&lt;IE | 0&lt;&lt;OE | 0&lt;&lt;PU | 0&lt;&lt;PD | 4&lt;&lt;DS | 0&lt;&lt;ST )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    (IO6 ) ( 1&lt;&lt;SEL | 0&lt;&lt;SL | BANK_VOLTAGE_IO2_IO13 &lt;&lt;MSC | 1&lt;&lt;IE | 0&lt;&lt;OE | 1&lt;&lt;PU | 0&lt;&lt;PD | 4&lt;&lt;DS | 0&lt;&lt;ST )</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>修改完后需要重新编译uboot代码</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="16-如何快速编译buildroot下面的某一个软件包">16 如何快速编译buildroot下面的某一个软件包<a href="#16-如何快速编译buildroot下面的某一个软件包" class="hash-link" aria-label="Direct link to 16 如何快速编译buildroot下面的某一个软件包" title="Direct link to 16 如何快速编译buildroot下面的某一个软件包">​</a></h2>
<p>答：参考如下命令快速重编buildroot下面的某一个软件包</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    #重编lvgl软件包命令参考,   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cd output/k230_canmv_defconfig/little/buildroot-ext/; #以k230_canmv_defconfig 为例</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    make  lvgl-dirclean;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    make  lvgl &amp;&amp; make;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cd -  #切换到sdk主目录；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    make build-image #重新生成下镜像    </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>更多信息请百度搜索buildroot how to rebuild packages。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="17-canmv如何仅运行rtt系统并且挂载sd卡">17 canmv如何仅运行rtt系统，并且挂载sd卡？<a href="#17-canmv如何仅运行rtt系统并且挂载sd卡" class="hash-link" aria-label="Direct link to 17 canmv如何仅运行rtt系统，并且挂载sd卡？" title="Direct link to 17 canmv如何仅运行rtt系统，并且挂载sd卡？">​</a></h2>
<p>答：请使用如下命令编译</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">make CONF=k230_canmv_only_rtt_defconfig</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#k230_canmv_only_rtt_defconfig对应镜像仅运行rtt系统，并且rtt挂载sd。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="18-linux下如何快速验证下串口收发是否正常">18 linux下如何快速验证下串口收发是否正常？<a href="#18-linux下如何快速验证下串口收发是否正常" class="hash-link" aria-label="Direct link to 18 linux下如何快速验证下串口收发是否正常？" title="Direct link to 18 linux下如何快速验证下串口收发是否正常？">​</a></h2>
<p>答：参考如下命令，</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#以串口2为例,请根据实际情况修改命令</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stty -a  -F  /dev/ttyS2  #查看串口配置；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stty  -F  /dev/ttyS2 115200   #设置下波特率，默认9600</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo 00000000000000000000000000000011111111111111 &gt; /dev/ttyS2  #发送字符串，电脑可以收到正确数据</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cat  /dev/ttyS2   #接受串口数据</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="19-如何快速修改linux配置">19 如何快速修改linux配置？<a href="#19-如何快速修改linux配置" class="hash-link" aria-label="Direct link to 19 如何快速修改linux配置？" title="Direct link to 19 如何快速修改linux配置？">​</a></h2>
<p>答： 1).Makefile里面linux-savedefconfig目标修改为如下内容(382行附近)：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">linux-savedefconfig:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	cd $(LINUX_SRC_PATH); \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	make O=$(LINUX_BUILD_DIR) CROSS_COMPILE=$(LINUX_EXEC_PATH)/$(LINUX_CC_PREFIX) ARCH=riscv savedefconfig; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	cp $(LINUX_BUILD_DIR)/defconfig  arch/riscv/configs/$(LINUX_KERNEL_DEFCONFIG);\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	cd -</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>2).修改保存linux配置</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">make linux-menuconfig #修改linux配置</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">make linux-savedefconfig #保存linux配置</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="20大核如何切换自启动程序">20大核如何切换自启动程序<a href="#20大核如何切换自启动程序" class="hash-link" aria-label="Direct link to 20大核如何切换自启动程序" title="Direct link to 20大核如何切换自启动程序">​</a></h2>
<p>答： 如果自启动程序在/bin目录下，修改方法如下：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">//src/big/rt-smart/init.sh 文件里面修改为你需要自启动的程序，比如修改为</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/bin/fastboot_app.elf /bin/test.kmodel</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>如果自启动程在共享文件系统里面，需要修改2个地方，参考修改方法如下：</p>
<p>修改1：修改src/big/rt-smart/init.sh文件</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">//src/big/rt-smart/init.sh 文件里面修改为类似如下内容</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd /sdcard/app/onboard</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./sample_vo.elf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/sharefs/onboard/xxxx.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>修改2 添加等待共享文件系统动作（适应于sdk 1.5及以后版本）</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">//src/big/rt-smart/kernel/bsp/maix3/applications/main.c 文件 34行附近 修改为如下：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    struct stat stat_buf;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    while(stat(&quot;/sharefs/onboard&quot;,&amp;stat_buf));// 请根据实际情况修改为正确的文件 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    msh_exec(&quot;/bin/init.sh&quot;, 13); // 需要自启动的脚本,请根据实际情况修改为正确的文件</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>修改2 添加等待共享文件系统动作（适应于sdk 1.4及以前版本）</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">//src/big/rt-smart/kernel/rt-thread/components/finsh/shell.c 文件 456行附近 修改为如下：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if(shell_thread_first_run) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            struct stat stat_buf;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // shell_thread_first_run = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // msh_exec(&quot;/bin/init.sh&quot;, 13);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if(0 == stat(&quot;/sharefs/onboard&quot;,&amp;stat_buf)){ // 请根据实际情况修改为正确的文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                shell_thread_first_run = 0;               </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                msh_exec(&quot;/bin/init.sh&quot;, 13); // 需要自启动的脚本,请根据实际情况修改为正确的文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            continue;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="21是否可以使用libxml2">21是否可以使用libxml2？<a href="#21是否可以使用libxml2" class="hash-link" aria-label="Direct link to 21是否可以使用libxml2？" title="Direct link to 21是否可以使用libxml2？">​</a></h2>
<p>答：可以，参考下面方法在buildroot里面使能BR2_PACKAGE_LIBXML2就可以使用了。</p>
<p>使能libxml2方法1：备注sdk已经编译过</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#使用libxml2方法(以k230_canmv_defconfig为例),在sdk主目录执行下面命令</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">make -C output/k230_canmv_defconfig/little/buildroot-ext/ menuconfig</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#Target packages --&gt;Libraries---&gt;JSON/XML--&gt; libxml2 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#使能libxml2 库，并保存配置；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">make -C output/k230_canmv_defconfig/little/buildroot-ext/ savedefconfig  #保存配置</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">make -C output/k230_canmv_defconfig/little/buildroot-ext/  #编译buildroot</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">make build-image</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>使能libxml2方法2：sdk没有编译过</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#使用libxml2方法(以k230_canmv_defconfig为例) 在sdk主目录执行下面命令</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;BR2_PACKAGE_LIBXML2=y&quot; &gt;&gt; src/little/buildroot-ext/configs/k230_evb_defconfig</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">make CONF=k230_canmv_defconfig</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>libxml2使用例子</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">//把如下代码 保存成io.c,编译方法见后面</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#include &lt;libxml/parser.h&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#if defined(LIBXML_TREE_ENABLED) &amp;&amp; defined(LIBXML_OUTPUT_ENABLED)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">int main(void)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    xmlNodePtr n;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    xmlDocPtr doc;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    xmlChar *xmlbuff;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int buffersize;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * Create the document.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    doc = xmlNewDoc(BAD_CAST &quot;1.0&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    n = xmlNewDocNode(doc, NULL, BAD_CAST &quot;root&quot;, NULL);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    xmlNodeSetContent(n, BAD_CAST &quot;content&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    xmlDocSetRootElement(doc, n);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * Dump the document to a buffer and print it</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * for demonstration purposes.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    xmlDocDumpFormatMemory(doc, &amp;xmlbuff, &amp;buffersize, 1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    printf(&quot;%s&quot;, (char *) xmlbuff);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * Free associated memory.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    xmlFree(xmlbuff);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    xmlFreeDoc(doc);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return (0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#else</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#include &lt;stdio.h&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">int main(void)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fprintf(stderr,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;library not configured with tree and output support\n&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return (0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//编译方法 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/* 假设sdk主目录是SDK=/home/wangjianxin/k230_sdk</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SDK=/home/wangjianxin/k230_sdk</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">BD=${SDK}/output/k230_canmv_defconfig/little/buildroot-ext</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gcc=${SDK}/toolchain/Xuantie-900-gcc-linux-5.10.4-glibc-x86_64-V2.6.0/bin/riscv64-unknown-linux-gnu-gcc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">all:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ${gcc} io.c --sysroot=${BD}/host/riscv64-buildroot-linux-gnu/sysroot   -I=${sysroot}/usr/include/libxml2 -lxml2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#endif</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>特别说明：sdk不支持多进程编译，不要增加类似-j32多进程编译选项。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="22-支持的屏有哪些">22 支持的屏有哪些？<a href="#22-支持的屏有哪些" class="hash-link" aria-label="Direct link to 22 支持的屏有哪些？" title="Direct link to 22 支持的屏有哪些？">​</a></h2>
<p>答：移植新的屏请参考 <a href="https://developer.canaan-creative.com/k230/zh/dev/01_software/board/mpp/K230_LCD%E9%80%82%E9%85%8D%E6%8C%87%E5%8D%97.html" target="_blank" rel="noopener noreferrer">K230_LCD适配指南</a>。 目前我们支持的屏有</p>
<table><thead><tr><th>品牌</th><th>型号</th><th>屏驱型号</th><th>分辨率</th><th>帧率</th><th>备注</th></tr></thead><tbody><tr><td>今朝辉</td><td>FPC55MH907C</td><td>HX8399</td><td>1080x1920</td><td>30</td><td></td></tr><tr><td>大显伟业</td><td>D350T1013V1</td><td>ST7701</td><td>480x800</td><td>60</td><td></td></tr><tr><td>东大显控</td><td>TC045IVFS-V40</td><td>ST7701</td><td>480x854</td><td>30</td><td></td></tr><tr><td>龙迅</td><td>LT9611</td><td></td><td>1920x1080 1280x720 640x480</td><td>30/50/60 30/50/60 60</td><td>HDMI</td></tr></tbody></table>
<p>现有驱动移植，要注意驱动中使用的reset、背光脚管和i2c，这些都定义在k230_sdk/src/big/mpp/include/comm/k_board_config_comm.h文件里面，不同的板子这些定义可能不同。是通过板子的宏定义来进行区分的。例如</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#elif defined(CONFIG_BOARD_K230_CANMV)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// display gpio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define DISPLAY_LCD_RST_GPIO                            20</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define DISPLAY_LCD_BACKLIGHT_EN                        25</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#elif defined(CONFIG_BOARD_K230_CANMV_V2)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// display gpio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define DISPLAY_LCD_RST_GPIO                            22</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define DISPLAY_LCD_BACKLIGHT_EN                        25</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Canmv-K230-V1.0和V2.0板子的reset管脚不一样，移植时请修改相应的管脚编号。</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/CanaanK230/part8/01_K230SDKFrequentlyAskedQuestions（C）.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/category/8常见问题-1"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">8.常见问题</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/CanaanK230/part8/K230nncaseFrequentlyAskedQuestions"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">K230 nncase 常见问题解答</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-tf-boot-failed-with-exit-code-13" class="table-of-contents__link toc-highlight">1 TF boot failed with exit code 13</a></li><li><a href="#2-bootrom启动错误码" class="table-of-contents__link toc-highlight">2 bootrom启动错误码</a></li><li><a href="#3-spi-nor-和-spi-nand-flash识别" class="table-of-contents__link toc-highlight">3 spi nor 和 spi nand flash识别</a></li><li><a href="#4-perf-使用" class="table-of-contents__link toc-highlight">4 perf 使用</a></li><li><a href="#5大核运行vector-linux" class="table-of-contents__link toc-highlight">5大核运行vector linux</a></li><li><a href="#6-大核串口id" class="table-of-contents__link toc-highlight">6 大核串口id</a></li><li><a href="#7-uboot命令行" class="table-of-contents__link toc-highlight">7 uboot命令行</a></li><li><a href="#8-慢启怎么变快启动" class="table-of-contents__link toc-highlight">8 慢启怎么变快启动</a></li><li><a href="#9-linux如何修改最后一个分区大小" class="table-of-contents__link toc-highlight">9 linux如何修改最后一个分区大小</a></li><li><a href="#10如何修改bootargs" class="table-of-contents__link toc-highlight">10如何修改bootargs</a></li><li><a href="#11如何查看bootargs" class="table-of-contents__link toc-highlight">11如何查看bootargs</a></li><li><a href="#12小核默认串口修改" class="table-of-contents__link toc-highlight">12小核默认串口修改</a></li><li><a href="#13如何彻底重编sdk" class="table-of-contents__link toc-highlight">13如何彻底重编sdk</a></li><li><a href="#14-支持的sensor-list在哪里" class="table-of-contents__link toc-highlight">14 支持的sensor list在哪里</a></li><li><a href="#15canmmv板子是否可以使用平头哥的cklink进行jtag调试" class="table-of-contents__link toc-highlight">15canmmv板子是否可以使用平头哥的cklink进行jtag调试</a></li><li><a href="#16-如何快速编译buildroot下面的某一个软件包" class="table-of-contents__link toc-highlight">16 如何快速编译buildroot下面的某一个软件包</a></li><li><a href="#17-canmv如何仅运行rtt系统并且挂载sd卡" class="table-of-contents__link toc-highlight">17 canmv如何仅运行rtt系统，并且挂载sd卡？</a></li><li><a href="#18-linux下如何快速验证下串口收发是否正常" class="table-of-contents__link toc-highlight">18 linux下如何快速验证下串口收发是否正常？</a></li><li><a href="#19-如何快速修改linux配置" class="table-of-contents__link toc-highlight">19 如何快速修改linux配置？</a></li><li><a href="#20大核如何切换自启动程序" class="table-of-contents__link toc-highlight">20大核如何切换自启动程序</a></li><li><a href="#21是否可以使用libxml2" class="table-of-contents__link toc-highlight">21是否可以使用libxml2？</a></li><li><a href="#22-支持的屏有哪些" class="table-of-contents__link toc-highlight">22 支持的屏有哪些？</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://dongshanpi.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">DongshanPI<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://canaan-docs.100ask.net/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Canaan-Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://renesas-docs.100ask.net/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Renesas-Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://rtos.100ask.net/" target="_blank" rel="noopener noreferrer" class="footer__link-item">RTOS<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://tina.100ask.net/" target="_blank" rel="noopener noreferrer" class="footer__link-item">TinaSDK-Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://allwinner-docs.100ask.net/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Allwinner-Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://aw-r128.100ask.net/" target="_blank" rel="noopener noreferrer" class="footer__link-item">R128-Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://space.bilibili.com/275908810" target="_blank" rel="noopener noreferrer" class="footer__link-item">BiliBili<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://forums.100ask.net" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://video.100ask.net/" target="_blank" rel="noopener noreferrer" class="footer__link-item">VideoCenter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/dongshanpi" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://weidongshan.coding.net/public/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Coding<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/100askTeam" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://gitee.com/weidongshan" target="_blank" rel="noopener noreferrer" class="footer__link-item">Gitee<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>