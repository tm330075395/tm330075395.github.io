<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-CanaanK230/part3/K230audiopracticeaudiocollectionplaybackandencoding" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">K230 音频实战 - 音频采集、播放和编解码 | 正点原子</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://tm330075395.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://tm330075395.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://tm330075395.github.io/docs/CanaanK230/part3/K230audiopracticeaudiocollectionplaybackandencoding"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="K230 音频实战 - 音频采集、播放和编解码 | 正点原子"><meta data-rh="true" name="description" content="1. 概述"><meta data-rh="true" property="og:description" content="1. 概述"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://tm330075395.github.io/docs/CanaanK230/part3/K230audiopracticeaudiocollectionplaybackandencoding"><link data-rh="true" rel="alternate" href="https://tm330075395.github.io/docs/CanaanK230/part3/K230audiopracticeaudiocollectionplaybackandencoding" hreflang="en"><link data-rh="true" rel="alternate" href="https://tm330075395.github.io/docs/CanaanK230/part3/K230audiopracticeaudiocollectionplaybackandencoding" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="正点原子 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="正点原子 Atom Feed"><link rel="stylesheet" href="/assets/css/styles.ce37c9a8.css">
<script src="/assets/js/runtime~main.fcaa3de9.js" defer="defer"></script>
<script src="/assets/js/main.252b8acf.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">My Site</b></a><a class="navbar__item navbar__link" href="/docs/intro">Tutorial</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/CanaanK230/Userdoc">CanMV-K230教程</a><a href="http://www.alientek.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">正点原子官网<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="http://www.openedv.com/forum.php" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">论坛<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/tm330075395/tm330075395.github.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/CanaanK230/Userdoc">文档阅读指南</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/1开发板上手指南-1">1.开发板上手指南</a><button aria-label="Expand sidebar category &#x27;1.开发板上手指南&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/2开发环境搭建指南-1">2.开发环境搭建指南</a><button aria-label="Expand sidebar category &#x27;2.开发环境搭建指南&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/category/3嵌入式应用开发指南-1">3.嵌入式应用开发指南</a><button aria-label="Collapse sidebar category &#x27;3.嵌入式应用开发指南&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CanaanK230/part3/K230PracticalBasics-hello world">K230 实战基础篇 - hello world</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CanaanK230/part3/K230AIActualcombatHHBNeuralNetworkModelDeploymentTool">K230 AI实战 - HHB神经网络模型部署工具</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CanaanK230/part3/K230GPUPracticalapplication-VGLitedrawscoolgraphics">K230 GPU 应用实战 - VGLite 绘制酷炫图形</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CanaanK230/part3/K230GUIpractical LVGLportingtutorials">K230 GUI实战 - LVGL移植教程</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CanaanK230/part3/K230RVVActualcombat">K230 RVV实战</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CanaanK230/part3/K230USBapplicationisUVCtransmissionofYUVandcodedstreams">K230 USB应用实战-UVC传输YUV及编码码流</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CanaanK230/part3/K230imagepracticebootvideoandbootlogo">K230 图像实战 - 开机视频和开机logo</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CanaanK230/part3/K230codingpracticertspserverbuildandpushstreams">K230 编码实战 - rtsp sever搭建和推流</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/CanaanK230/part3/K230audiopracticeaudiocollectionplaybackandencoding">K230 音频实战 - 音频采集、播放和编解码</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CanaanK230/part3/K230SceneCombatSmartDoorLockPOC">K230 场景实战-智能门锁POC</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CanaanK230/part3/K230SceneCombatSmartDoorLockPOC3DStructuredLight">K230 场景实战-智能门锁POC</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CanaanK230/part3/K230SceneCombatMaoyanPOC">K230 场景实战-猫眼POC</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CanaanK230/part3/K230SceneCombatDictionaryPenPOC">K230 场景实战-词典笔POC</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CanaanK230/part3/K230SceneCombatdpuDepthCameraPOC">K230 场景实战-dpu深度相机POC</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CanaanK230/part3/K230AIDemointroduce">K230 AI Demo介绍</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CanaanK230/part3/K230FancyPOCintroduce">K230 Fancy POC介绍</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CanaanK230/part3/K230SDKCanMVBoardDemoDirectionsforuse">K230 SDK CanMV Board Demo使用指南</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CanaanK230/part3/K230SDKEVBBoardDemoDirectionsforuse">K230 SDK EVB Board Demo使用指南</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/4ai应用开发指南-1">4.AI应用开发指南</a><button aria-label="Expand sidebar category &#x27;4.AI应用开发指南&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/5micropython应用开发指南-1">5.MicroPython应用开发指南</a><button aria-label="Expand sidebar category &#x27;5.MicroPython应用开发指南&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/6系统开发指南-1">6.系统开发指南</a><button aria-label="Expand sidebar category &#x27;6.系统开发指南&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/7sdk-api参考指南-1">7.SDK API参考指南</a><button aria-label="Expand sidebar category &#x27;7.SDK API参考指南&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/8常见问题-1">8.常见问题</a><button aria-label="Expand sidebar category &#x27;8.常见问题&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/3嵌入式应用开发指南-1"><span itemprop="name">3.嵌入式应用开发指南</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">K230 音频实战 - 音频采集、播放和编解码</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>K230 音频实战 - 音频采集、播放和编解码</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-概述">1. 概述<a href="#1-概述" class="hash-link" aria-label="Direct link to 1. 概述" title="Direct link to 1. 概述">​</a></h2>
<p>本文讲解如何使用音频demo在大核rt-smart或小核linux上实现音频采集、播放、编码、解码等功能。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-环境准备">2. 环境准备<a href="#2-环境准备" class="hash-link" aria-label="Direct link to 2. 环境准备" title="Direct link to 2. 环境准备">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="21-硬件环境">2.1 硬件环境<a href="#21-硬件环境" class="hash-link" aria-label="Direct link to 2.1 硬件环境" title="Direct link to 2.1 硬件环境">​</a></h3>
<ul>
<li>
<p>K230-UNSIP-LP3-EVB-V1.0/K230-UNSIP-LP3-EVB-V1.1</p>
</li>
<li>
<p>Ubuntu PC 20.04</p>
</li>
<li>
<p>Typec USB线 * 2。</p>
<ul>
<li>一根连接到UART0/3，用于串口收发，UART0对应小核，UART3对应大核。</li>
<li>一根链接到DC:5V接口，用于供电。</li>
</ul>
</li>
<li>
<p>USB TypeC转以太网，连接到USB0。</p>
</li>
<li>
<p>网线一根</p>
</li>
<li>
<p>SD卡(如果使用SD卡启动，或软件需要访问SD卡)</p>
</li>
<li>
<p>音频子板（使用外置音频通 路时需要）,如下图所示，注意安装位置及跳线帽接法。当使用pdm音频传输接口及外置i2s音频传输接口时需要使用音频子板；仅使用内置i2s音频传输接口不需要音频子板。</p>
<p><img decoding="async" loading="lazy" alt="image-20230703161821233" src="/assets/images/audio-board-717040751b973aadf064cc260b3d0b94.png" width="954" height="619" class="img_ev3q"></p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="22-编译程序">2.2 编译程序<a href="#22-编译程序" class="hash-link" aria-label="Direct link to 2.2 编译程序" title="Direct link to 2.2 编译程序">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="221-编译方法">2.2.1 编译方法<a href="#221-编译方法" class="hash-link" aria-label="Direct link to 2.2.1 编译方法" title="Direct link to 2.2.1 编译方法">​</a></h4>
<p>在<code>k230_sdk</code>目录下执行<code>make rt-smart</code>，在<code>k230_sdk/src/big/mpp/userapps/sample/elf</code>目录下生成<code>sample_audio.elf</code>，为大核rt-smart下的音频demo。
在<code>k230_sdk</code>目录下执行<code>make cdk-user</code>，在<code>k230_sdk/src/common/cdk/user/out/little/</code>目录下生成<code>sample_audio</code>，为小核linux下执行的音频demo。
默认情况下，板子启动后大核rt-smart系统下sample_audio.elf在/sharefs下，小核audio demo sample_audio在/mnt下。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="222-代码位置">2.2.2 代码位置<a href="#222-代码位置" class="hash-link" aria-label="Direct link to 2.2.2 代码位置" title="Direct link to 2.2.2 代码位置">​</a></h4>
<p>程序源码目录:
大核音频demo源码位置:<code>k230_sdk/src/big/mpp/userapps/sample/sample_audio</code>
小核音频demo源码位置:<code>k230_sdk/src/common/cdk/user/mapi/sample/sample_audio</code></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-大核音频实战">3. 大核音频实战<a href="#3-大核音频实战" class="hash-link" aria-label="Direct link to 3. 大核音频实战" title="Direct link to 3. 大核音频实战">​</a></h2>
<p>大核demo文件为sample_audio.elf,支持音频采集(ai)，音频播放(ao)，音频编码(aenc)，音频解码(adec)等功能。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="31-参数说明">3.1 参数说明<a href="#31-参数说明" class="hash-link" aria-label="Direct link to 3.1 参数说明" title="Direct link to 3.1 参数说明">​</a></h3>
<table><thead><tr><th style="text-align:left">参数名</th><th style="text-align:left">描述</th><th style="text-align:left">默认值</th></tr></thead><tbody><tr><td style="text-align:left">help</td><td style="text-align:left">打印命令行参数信息</td><td style="text-align:left">-</td></tr><tr><td style="text-align:left">samplerate</td><td style="text-align:left">设置音频采样率，有效值<code>[8000,12000,16000,24000,32000,44100,48000,96000,192000]</code></td><td style="text-align:left">44100</td></tr><tr><td style="text-align:left">enablecodec</td><td style="text-align:left">i2s使用内置(1)或外置(0)链路，有效值：0、1</td><td style="text-align:left">0</td></tr><tr><td style="text-align:left">bitwidth</td><td style="text-align:left">采样精度，有效值:16、24、32</td><td style="text-align:left">16</td></tr><tr><td style="text-align:left">channels</td><td style="text-align:left">声道数，有效值:1、2</td><td style="text-align:left">2</td></tr><tr><td style="text-align:left">filename</td><td style="text-align:left">输入或输出的文件名称</td><td style="text-align:left">-</td></tr><tr><td style="text-align:left">type</td><td style="text-align:left">功能类型，有效值:[0,12]，具体值参考下表</td><td style="text-align:left">0</td></tr></tbody></table>
<table><thead><tr><th style="text-align:left">type值</th><th style="text-align:left">功能描述</th></tr></thead><tbody><tr><td style="text-align:left">0</td><td style="text-align:left">i2s 音频采集功能</td></tr><tr><td style="text-align:left">1</td><td style="text-align:left">pdm音频采集功能</td></tr><tr><td style="text-align:left">2</td><td style="text-align:left">i2s音频播放功能</td></tr><tr><td style="text-align:left">3</td><td style="text-align:left">ai-&gt;ao回环功能:使用api接口实现。ai为i2s接口，ao为i2s接口。</td></tr><tr><td style="text-align:left">4</td><td style="text-align:left">ai-&gt;ao回环功能:使用模块绑定(ai绑定ao)实现。ai为i2s接口，ao为i2s接口。</td></tr><tr><td style="text-align:left">5</td><td style="text-align:left">ai-&gt;ao回环功能:使用api接口实现。ai为pdm接口，ao为i2s接口。</td></tr><tr><td style="text-align:left">6</td><td style="text-align:left">ai-&gt;ao回环功能:使用模块绑定(ai绑定ao)实现。ai为pdm接口，ao为i2s接口。</td></tr><tr><td style="text-align:left">7</td><td style="text-align:left">音频编码功能:ai-&gt;aenc，使用模块绑定(ai绑定aenc)实现，ai为i2s接口,aenc为g711a编码格式。</td></tr><tr><td style="text-align:left">8</td><td style="text-align:left">音频解码功能:adec-&gt;ao，使用模块绑定(adec绑定ao)实现，ao为i2s接口,adec为g711a解码格式。</td></tr><tr><td style="text-align:left">9</td><td style="text-align:left">音频编码功能:ai-&gt;aenc，使用api接口实现，ai为i2s接口,aenc为g711a编码格式。</td></tr><tr><td style="text-align:left">10</td><td style="text-align:left">音频解码功能:adec-&gt;ao，使用api接口实现，ao为i2s接口,adec为g711a解码格式。</td></tr><tr><td style="text-align:left">12</td><td style="text-align:left">ai-&gt;aenc、adec-&gt;ao回环功能:使用模块绑定(ai绑定aenc,adec绑定ao)实现。ai为i2s接口，ao为i2s接口。</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="32-音频采集">3.2 音频采集<a href="#32-音频采集" class="hash-link" aria-label="Direct link to 3.2 音频采集" title="Direct link to 3.2 音频采集">​</a></h3>
<p>音频采集支持i2s和pdm两种音频传输 接口。i2s音频采集共支持两组，可同时工作；pdm音频采集共支持四组，可同时工作。</p>
<p>i2s音频采集:共支持两组，其中第一组可选择为内置或外置通路，第二组固定为外置通路。当第一组作为内置通路使用时，左声道声音为耳机线性模拟输入，右声道声音为板载模拟麦输入，且当设置为单声道工作模式时，声音固定为板载模拟麦输入。当作为外置通路使用时，左右声道声音均为子板上数字麦输入。</p>
<p><img decoding="async" loading="lazy" alt="image-20230704100947965" src="data:image/png;base64,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" width="1049" height="230" class="img_ev3q"></p>
<p>pdm音频采集:需接外置子板,共支持四组,且可同时工作。每组均支持单/双声道采集，且各声道声音均为子板上数字麦输入。</p>
<p><img decoding="async" loading="lazy" alt="image-20230704101309168" src="data:image/png;base64,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" width="959" height="200" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="321-i2s音频采集">3.2.1 i2s音频采集<a href="#321-i2s音频采集" class="hash-link" aria-label="Direct link to 3.2.1 i2s音频采集" title="Direct link to 3.2.1 i2s音频采集">​</a></h3>
<p>开发板启动后，在大核上运行如下测试程序:<code>/sharefs/sample_audio.elf -type 0 -enablecodec 1 -samplerate 48000 -bitwidth 24 -channels 2 -filename /sharefs/test.wav</code>
demo使用采样率48000，使用内置codec通路，采样精度24bit，双声道，采集数据以wav格式保存到/sharefs/test.wav文件中，采集15s数据后退出。</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/sharefs/sample_audio.elf -type 0 -enablecodec 1 -samplerate 48000 -bitwidth 24 -channels 2 -filename /sharefs/test.wav</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">audio type:0,sample rate:48000,bit width:24,channels:2,enablecodec:1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mmz blk total size:8.12 MB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vb_set_config ok</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sample ai i2s module</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">audio i2s set clk freq is 3072000(3072000),ret:1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">audio codec adc clk freq is 12288000(12288000)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">audio_save_init get vb block size:4320044</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">======kd_mpi_sys_mmap total size:4320044</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[0s] timestamp 0 us,curpts:3232823</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[1s] timestamp 1000000 us,curpts:4232823</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2s] timestamp 2000000 us,curpts:5232823</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[3s] timestamp 3000000 us,curpts:6232823</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[4s] timestamp 4000000 us,curpts:7232823</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[5s] timestamp 5000000 us,curpts:8232823</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[6s] timestamp 6000000 us,curpts:9232823</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[7s] timestamp 7000000 us,curpts:10232823</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[8s] timestamp 8000000 us,curpts:11232823</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[9s] timestamp 9000000 us,curpts:12232823</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[10s] timestamp 10000000 us,curpts:13232823</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[11s] timestamp 11000000 us,curpts:14232823</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[12s] timestamp 12000000 us,curpts:15232823</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[13s] timestamp 13000000 us,curpts:16232823</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dump binary memory test1.wav 0x18242000 0x18660b2c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[14s] timestamp 14000000 us,curpts:17232823</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">destroy vb block</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sample done</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="322-pdm音频采集">3.2.2 pdm音频采集<a href="#322-pdm音频采集" class="hash-link" aria-label="Direct link to 3.2.2 pdm音频采集" title="Direct link to 3.2.2 pdm音频采集">​</a></h3>
<p>开发板启动后，在大核上运行如下测试程序:<code>/sharefs/sample_audio.elf -type 1 -samplerate 16000 -bitwidth 16 -channels 2 -filename /sharefs/test.wav</code>
demo采样率16000，外置音频通路（需要接音频子板），采样精度16bit，双声道，采集数据以wav格式保存到/sharefs/test.wav文件中，采集15s数据后退出。</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/sharefs/sample_audio.elf -type 1 -samplerate 16000 -bitwidth 16 -channels 2 -filename /sharefs/test.wav</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">audio type:1,sample rate:16000,bit width:16,channels:2,enablecodec:0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mmz blk total size:2.71 MB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vb_set_config ok</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sample ai pdm module</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">audio_sample_get_ai_pdm_data channel_total:1,rec_channel:0,oversample:0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pdm in init clk freq is 1536000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pdm in set clk freq is 512000(512000)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">audio_save_init get vb block size:960044</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">======kd_mpi_sys_mmap total size:960044</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[0s] timestamp 0 us,curpts:1006669</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[1s] timestamp 1000000 us,curpts:2006669</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2s] timestamp 2000000 us,curpts:3006669</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[3s] timestamp 3000000 us,curpts:4006669</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[4s] timestamp 4000000 us,curpts:5006669</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[5s] timestamp 5000000 us,curpts:6006669</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[6s] timestamp 6000000 us,curpts:7006669</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[7s] timestamp 7000000 us,curpts:8006669</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[8s] timestamp 8000000 us,curpts:9006669</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[9s] timestamp 9000000 us,curpts:10006669</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[10s] timestamp 10000000 us,curpts:11006669</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[11s] timestamp 11000000 us,curpts:12006669</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[12s] timestamp 12000000 us,curpts:13006669</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[13s] timestamp 13000000 us,curpts:14006669</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dump binary memory test1.wav 0x180c1000 0x181ab62c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[14s] timestamp 14000000 us,curpts:15006669</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">destroy vb block</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sample done</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="33-音频播放">3.3 音频播放<a href="#33-音频播放" class="hash-link" aria-label="Direct link to 3.3 音频播放" title="Direct link to 3.3 音频播放">​</a></h3>
<p>音频播放支持i2s音频传输接口。i2s音频采集共支持两组，可同时工作。其中第一组可选择为内置或外置通路，第二组固定为外置通路。当第一组作为内置通路使用时，声音输出为板载耳机输出口；当使用外置通路时，声音输出为子板耳机输出口。</p>
<p><img decoding="async" loading="lazy" alt="image-20230704104012443" src="data:image/png;base64,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MZXDkWxcuREx/c6M3tJs2djYWES4zjet8WDXbrhso1X/1GhUq3NxcuW9/mg5rlideF9phPe/+Iu/uK0wctlyr6YoLEa1eiXKR+sP7vPjS9uLV0ejWMpHLr16GPWetTATxY4jBID1pK+u6Hk/P95yD+nNTq9+hmy7knE5ylP1aSLuZ6On3vklChNxcscaO9IxqpFiSaOX5MEKIxvqwfcaw/o3p7742uXOC4dWyg8j4r8tn7e09YUXV10zbac8qa16z9ZY6GZPqK96tuP71j7st18ObNzs7GwcP348/uZv/uYFDijWuvZW7ze6/o71kGLtczSvELfe+dNXq7GRGkI7jQU5BJEb03K9bXiBkE18PrBn3bt3L956661tBpF1jYVubsxF9X4jeuiJ0Wq1NvwtHTHxtLocWp8ajerTvsgczURh5eIyKxbNGSwsbmju8la56E91Xlk7f7nzkbWFF1cPm8uXqi/sQoyw45oWS6tdcydjovAwinFnnSAoHaPV+iJZzZ87w+mIM9H+M6Wu46I6sfZnwmq1YLRv5aInB9Q3vvGNuHjx4gEKIndPbX7iuaiubMCqLzZTuy8NxsTTte4mMzGeGolcDMbE06gF+On6/ezGXG21+U3lJbVpeay/vTVCSWBHDQwMxMDAQLerAewi1zlszL1793ausDUC7eZGqQ0ds+FwfC2dFmla/+GsY32BHdO8GnZtuGotiDw7mYlUqt4oMDQR//PESPyPa7F6Ne56UJMvVaPYCICOZONOoRiX3qtEtk2wOVhot1LxOp8JKxpJmssafUFGBjx+/LjbVdgbTo1G9X77txqrbkcUO3SsWCNEbC53uFgLHYezyw2/R5YD/K2pnZutEUoCAABra3lYTMdoteOsxx7OoGuarr9T1ahebbPHqkaBbNv9mntarjy+uM7PHevUzo40kgD7lTklAQAAAIBECSUBAAAAgEQJJQEAAACARAklAQAAAIBECSUBAAAAgEQJJQEAAACARAklAQAAAIBECSUBAAAAgEQJJQEAAACARAklAQAAAIBECSUBAAAAgEQJJQEAAACARAklAQAAAIBECSUBAAAAgEQJJQEAAACARAklAQAAEjY7Oxsffvhht6uxhlKMp1IxPt/tegBwUAklAQAAuuDYsWPxxhtv7PFwEgB2h1ASAAAgYQMDA/H5z38+xsbG4ujRo8JJAF44QkkAAIAuyOfzERHx4x//OL7+9a9vO5ysTGYilUotvTKTleZ3o3A+1fT+eJRajq4N114+trz6BAuFyDTtk7pZWrFDaxmrzwEAy4SSAAAAXTAwMBCnT5+OQ4cOxbNnz7YVTlYmM9GbjZh4Wo1qtRrVpxMR2d76nJClGE/1xsiJudp71WrM3chF/1JoWInC+f7I3Wi8vxiZd0Yi13yC+fFIHS1GplF+dTEmHvU3BZOlGE81l1E/x/lCVAIAVnup2xUAAADYq1KpVPzHf/xHjI2N7Ur5x48fj+9973tLvz979iwiIr7+9a/HrVu34sqVK/Enf/In8fLLL69RSiVm3pmOwcJiZI/UNx3JRrGarf08PxO5yMfc1fTSEemrc5G/1h8z86ORjrsxMpWPufuN93sie3siilMjS/uX3s21lt/Y5+itKLxejOxCu3NUo7rBf4fGv28qlYpqdfmolb8DcHAIJQEAADro7e2NEydOxOzs7K6U3wghV/roo4/ixz/+cbz77rvx6quvxsDAwBqllKM8FXHyck/bdyvlhxFDmehr2ZqOszcibpUrUYk27x/pi5PLJUT5UcT0td5IZVeWPhiZjufYuO9+97tbPBKA/UooCQAA0MGXv/zl+PKXv7xr5V+4cCH+8R//cSmcPHToUDx//jy+8IUvRD6fXyeM3I5a0BjHN7JvLfQcLCxGcbhD8LnN2jx48GCbJQCw35hTEgAAoAuePHkSb7/9djx79iwOHToUERFf+MIX4sGDB/H+++9vIpDsi76hiIfl9tFgT9/JiKlytC5dU+9d2dfT/v2FcjxcUf704zaL36x5DgDoTCgJAADQBc3zVG4tjGzoibPnBmM6e7dptevaatuZyUrEqbORj1z0N62WXbrZH7nIx9lTEXHqYkwMNb9ficLlkZhuKj97OR9xrb++cE59r8nM8grb9XPcal7xe37cCtwAdGT4NgAAQMIavSRPnz69I8O0e4aLsRiZ6E2llrYtD7fuidHqYvSd743lt/MxVx2N2rI0PZG9vxjR9P5gYSLyTQvdxKnRqJYiUulU06rczWWkY7Q6F+Op5nknm98HgFZCSQAAgITNzs7GgwcPdnTOyJ7hYlSHO74b2fvVWLVOzVrvD6/Y+9RoVKuja9QgHaPVaqy1BwA0CCUBAAASduHChW5XAQC6ypySAAAAAECihJIAAAAAQKKEkgAAAABAooSSAAAAAECihJIAAAAAQKKEkgAAAABAooSSAAAAAECihJIAAAAAQKKEkgAAAABAooSSAAAAAECihJIAAAAAQKKEkgAAAABAooSSAAAAAECihJIAAAAAQKKEkgAAAABAooSSAAAAAECihJIAAAAAQKKEkgAAAABAooSSAAAAAC9Es3YAAAKYSURBVECihJIAAAAAQKKEkgAAAABAooSSAAAAAECihJIAAAAAQKKEkgAAAABAooSSAAAAAECihJIAAAAAQKJe6nYF1vLo0aN47bXXul0NDphf+IVf6HYVaPL973/fdc6O++QnP9ntKtDkgw8+cJ2z4z7zmc90uwoAkLgLFy50uwqwY/ZsKPn5z3++21U48FKpVFSr1Y6/7xU7Wa+9+v/xRfXKK6/EK6+80u1q7AvNf7upVCoiYtXf8lrbq9XqjpTRqV4ry17r50712GwZzce1K4O94bOf/Wx89rOf7XY19o0k7s1bKXM36uV6BYDNuX79erersO+s9bzR2N5p/5XbN7PvWmXs1PPQTj1Tvfrqq53++XZdqurbIAAAAACQIHNKAgAAAACJEkoCAAAAAIkSSgIAAAAAiRJKAgAAAACJEkoCAAAAAIkSSgIAAAAAiRJKAgAAAACJEkoCAAAAAIkSSgIAAAAAiRJKAgAAAACJEkoCAAAAAIkSSgIAAAAAiRJKAgAAAACJEkoCAAAAAIkSSgIAAAAAiRJKAgAAAACJEkoCAAAAAIkSSgIAAAAAiRJKAgAAAACJEkoCAAAAAIkSSgIAAAAAiRJKAgAAAACJEkoCAAAAAIkSSgIAAAAAiRJKAgAAAACJEkoCAAAAAIkSSgIAAAAAiRJKAgAAAACJEkoCAAAAAIkSSgIAAAAAiRJKAgAAAACJEkoCAAAAAIkSSgIAAAAAiRJKAgAAAACJEkoCAAAAAIkSSgIAAAAAiRJKAgAAAACJEkoCAAAAAIkSSgIAAAAAiRJKAgAAAACJEkoCAAAAAIkSSgIAAAAAiRJKAgAAAACJEkoCAAAAAIkSSgIAAAAAiRJKAgAAAACJEkoCAAAAAIn6/y3sh6EwUhULAAAAAElFTkSuQmCC" width="1317" height="220" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="331-i2s音频播放">3.3.1 i2s音频播放<a href="#331-i2s音频播放" class="hash-link" aria-label="Direct link to 3.3.1 i2s音频播放" title="Direct link to 3.3.1 i2s音频播放">​</a></h4>
<p>开发板启动后，在大核上运行如下测试程序:<code>./sample_audio.elf -type 2 -filename test.wav -enablecodec 1</code>
demo根据wav文件格式自动设置音频属性，循环播放wav文件，使用耳机插入板载耳机插口，即可听到声音。按任意键退出demo。</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./sample_audio.elf -type 2 -filename test.wav -enablecodec 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">audio type:2,sample rate:44100,bit width:16,channels:2,enablecodec:1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mmz blk total size:7.46 MB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vb_set_config ok</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">enter any key to exit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sample ao i2s module</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">========read_wav_header:headerlen:44,channel:2,samplerate:16000,bitpersample:16</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">open file:test.wav ok,file size:960044,data size:960000,wav header size:44</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">=======_get_audio_frame virt_addr:0x10010e000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">audio i2s set clk freq is 1024000(1024000),ret:1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">audio init codec dac clk freq is 11289600</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">audio set codec dac clk freq is 4096000(4096000)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">read file again</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">diable ao audio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">destroy vb block</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sample done</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="34-音频编解码">3.4 音频编解码<a href="#34-音频编解码" class="hash-link" aria-label="Direct link to 3.4 音频编解码" title="Direct link to 3.4 音频编解码">​</a></h3>
<p>内置g711a/u编解码模块，如需支持其他编解码格式，可通过注册外部编解码器来实现。所有编解码模块均使用CPU软件 编解码且只支持16bit采样精度。</p>
<p>音频编码存储流程如下，数据流向为ai-&gt;aenc。</p>
<p><img decoding="async" loading="lazy" alt="image-20230704105447088" src="data:image/png;base64,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" width="1352" height="172" class="img_ev3q"></p>
<p>音频解码播放流程如下，数据流向为adec-&gt;ao。</p>
<p><img decoding="async" loading="lazy" alt="image-20230704105603766" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABY4AAACYCAYAAABDJX3MAAAeFUlEQVR4nO3dS2gc55o/4Lf/OSQQyCwSAtIgLwTZeiMYUAtCDoIsz4C7kSGtlTHMxouAkkWC2j4euUWysA1ZZGk8m25BTMsMszQIHwxqwYA23hqaQeKoISSbLEJCoP6LvlbfJOsSSe3ngcJSqy/lqu/rqvrVW19lkiRJAgAAAAAAWv7fec8AAAAAAAAXi+AYAAAAAIAUwTEAAAAAACmCYwAAAAAAUgTHAAAAAACkCI4BAAAAAEgRHAMAAAAAkCI4BgAAAAAgRXAMAAAAAECK4BgAAAAAgBTBMQAAAAAAKYJjAAAAAABSBMcAAAAAAKQIjgEAAAAASBEcAwAAAACQIjgGAAAAACBFcAwAAAAAQIrgGAAAAACAFMExAAAAAAApgmMAAAAAAFIExwAAAAAApAiOAQAAAABIERwDAAAAAJAiOAYAAAAAIEVwDAAAAABAiuAYAAAAAIAUwTEAAAAAACmCYwAAAAAAUgTHAAAAAACk/OWwJ2QymT9jPjhHSZKc9yxcWvrH5NM/jkffmHz6xvHpH5NP/zg+/WPy6R8AF4ft7uQ76Xb30OD4ND6Ei8uXxMnpH5NL/zgZfWNy6Rsnp39MLv3j5PSPyaV/AFw8truT6zS2u4aqAAAAAAAgRXAMAAAAAECK4BgAAAAAgBTBMQAAAAAAKYJjAAAAAABSBMcAAAAAAKQIjgEAAAAASBEcAwAAAACQIjgGAAAAACBFcAwAAABMqFqsX69E47xnA+ASEhwDAAAAl9vOemQymdS0vtP629XZmBr3unu1gcfyG6JmAMExAAAAcO4ePHgQv/zyy/FePL8aSZLEQSUXpVoSSZLE6vzRXnfw0VZU9rsP1Z7tRv7jkVHzULV7mYHgeiCQjoiIRlSuj/obwMUiOAYAAADOXbFYjA8++CC+/vrr4wfIHbVYz2Qik1mI4p2FVKCb32ikKpSnC8VYvtKqUt6oxP07m53fm1M+FSyPtLYdSZK0poMov1wYUs38KJavlqJ0ZytEx8BFJzgGAAAAzt23334bb731Vjx8+DA+/PDDEwbI2VhNkkj2ypFbKsdBK9A9qOSaf55fjSTZjlLP35LkIGafLsdm57GDKC+VYjupRmGm+861ez3DYIw0FYWH5cjdud9XzVyM0qersbhWjPuGwwAuOMExAAAAcO4+//zzePfdd+P333+P33777ZQC5Bg/xnGv/a2oXi1H+Wr7gXrUYzZmj/u5M4uRX9qMeic4rsXWnVIszkdkb5Qjnm65aR9woQmOAQAAgFN19+7dwTF/jzD9/PPPnfdoB8gPHjyIGzduHG9G9uuxOe7vT5Zjuj2ExYvFqN4uxGxUY2u/+drdTujcHvoiEwt3IorZ1jxfrxw9/N3ZiuLaYmQjmqFy+3MOcdxlOW7661//etS5Bt5ggmMAAADg1P3973/vGfP3aNP777/fef3bb78d77zzTnzxxRfx+PHjY81Do74buY9G1Azv12O3PSxFrdR5OPvpXFRfNKL2eDnmPs22H20OfZEksb0WnRvwJT8UxlQz16P+pPtb7VkxojPe8nQsP9mM6ovDY+e7d+++9nI8bPrHP/5xlMUHvOEExwAAAMC5++677+LXX3/tBMYrKyvx448/xjfffBPvvffekd+nXQ28vlOLR4WI/MfpaHdutuf3YcNYzC/GXGE6Fl6W4+b88f8/sV+P3cjF7ExE7Ffi/p1clPd6Aty9ckThkZvkAReW4BgAAAA4d1999VX88ccfxwuMd9Yjk8nEdGEutlvB7M36/SiufZm6sV39VXfgisaLakSrGrlR3+0Gyvv12B3zUdnbSaweGig3orKyHJutz2+8qMbmUj4We+YlZmZjLoqxdeiN9gDOh+AYAAAAOHelUil++umn164wjoiI+dVWJe9qZCOisZGP6af5OLidHfGCWjwqzMWXnzXD4k6gvLMemSvVyO8lcXCtGtOvM4ZxZxiK1lAUV7cjuZ2NiEZsPd2M3LXFvurmbCyuRRQfvsZnAPyJMkmSJGOfkMnEIU/hErN+T8bym2zW7/FZdpPN+j0Zy2+yWb8nY/lNNuv3zXL37t3Uv3+mTmjcGn+4dq95Q7uIiFgqx8EPhYiNfNyK76M6+ygy2WJElGK7FrGQjdhuhc8R0QyS+x+bAPojEdrBpDuN9Ss4fsNZvydj+U026/f4LLvJZv2ejOU32azfk7H8Jpv1+2Y5z+CYw+mPRGgHk+401q+hKgAAAAAASBEcAwAAAACQIjgGAAAAACBFcAwAAAAAQIrgGAAAAACAFMExAAAAAAApgmMAAAAAAFIExwAAAAAApAiOAQAAAABIERwDAAAAAJAiOAYAAAAAIEVwDAAAAABAiuAYAAAAAIAUwTEAAAAAACmCYwAAAAAAUgTHAAAAAACkCI4BAAAAAEgRHAMAAAAAkCI4BgAAAAAgRXAMAAAAAECK4Bguip31yFyvROO85wMAADgjjahcz0dl/7znAwAOJzg+kkZUrmdifeeQp+2sR36jMfBY5l7tzOaMy6rZpjKZnilbjHiyHNOZ9OP97a52r7WjuV+JfN9zm1N3R7R2L/362r3B5+c3GkPfa/3e+tj3BgCAN85+JdY3GtHcn1+PWkQ0NvLNfe4jHftNRWFlLpZXDikY6X+vsUUmtVgfelxgHx64XIZlFiOnzndk9/s4ovmdPPx5LfuVyA98V7czmsO/Lzvf+W+IiQmOhzeubsNpPSvWhzWC/UrkB57bayoKP2xHZMc3oNqz3ch/PNWaHxvnSfDgwYP45ZdfzuCdp6LwQxJJksT2WkSp1vy5PW2v5aK81/x5db75im6b2ozlK5nIrER8nySRJAdRXirFduf11SjMRMR+Je7fiShmM52dzOztJA4quc7nHVRyzTefKUQ1SSLZK0dubbv5ubdXU/PUnK+5mJ056v+x+cU7cDLlVBzxZA5n5uz6xkUw/OAr1d6GnrhJf+8P3y7ZNrwJJqp/jDhJ2fluP7QvjN4Jb+/UDz3prq9MrInqH4fqO/bYWR+9XRnY9ow7NuGkTtQOZwpxM2511l99Ix+34vtYnY9o1Hej9Gk2/fydIcUYRygYqT3bjVLcH/+a3iB5qRwHffvuSedY4Xj/VTh76cAvohbr7XY9UJjX/9ze34dU8u9XIt/bR8ac2BkfVl7u7+N///d/j4ODg/OejSPL3h6WcfRMtVLkKgfNn29nR75PJ2PZK0eu/4/79YiPZju/NvdJb0U8TCJJvoz6lfT38WFBcWMjf0a5x8UwMcFxs3GlN465ys3oNqNarGcWotj/wv1K5K8sx2bngSGVoJlMZDILUWwHdsM21vuVuP8yH4szzc/a6vzMZVYsFuODDz6Ir7/++swOcrI3yrH7ML1BW4gvm+HvUK1Q+YdC1O9lIpOZjuUnxVhInU1rRGWlHl+2wuHSSiGmWq+uv4pU+Ds3O9X5ufGiHvkb7V7Tv/GtxVYsxuiv5rTavemoryRR/Wzq8Ce/tvbJnMu9Eb/M/oy+cd5SJ3T2yrGb7T/I757gae7EzMXylb4d1taJmPZ0UInDK4y49Cavf/S19WQ75gq3etr64X0htxRRfZE++Nt62nw8rRGVh7tRWut/PpNi8vrHUdViPRvdg+BaKYqd/Zjmccpu+0A4SeKgshsLlzysuMhO0g4bG/mYLmxGMdvcB18ubMZmYTrWd2rxqLDZLNroO1bM9azbUVOnoCOic2x583Z1/Ot+6O7jDwuim9N0LD85rSUHZ6cZ3i5Esd2Ws8XYLEwPvQq3GSpHFB7OxtaIwK7xohoR1W6/yBYj7iyMOFnTv68zOSde/ud//if+9V//NbLZ7KUKkI+q1p+JjL3qo5X39bStTCYTt55GdAr0MgtRjFLEs4yhRFsuX3Dcc8Z2/d6Iy3V2HsVylOP7dmC1X4l8ZiGith2l/ve6Uo18rfcMRLcStLcyc+QZjtbGuvGiGptXZ5sb7p2t1Jdd75fTJJ+FmETffvttvPXWW/Hw4cP48MMPT+0gJ3XpxJXl2Ozd0RvYoI07aOjbwLXPpu086nxxTrd3YK9XorGzHgsv87G43+xH04W5WJxvv1ctHj2d7Tvh0VNhvLMVuz1n5cbar8T9l+W4OZ9+uPdMbnMj3aoc3uhWrKWr2Hr+7wOX52XjZmU37utT5+Ks+saFNVOI7yu5KD4cs/Mwvxrba5ux/HjM9Ssf5yP3pB71M5lJLorJ7x+zMbu0GfVRFcFD+sLctXzE061u/9nfimrkI3+177Wtx2/eyEcUHgnNJtDk949RsrGarHZPwM8vRimKsbUTEfv12I1c58rFiIipz77s/p1Td5J2OPVZM8zdrpSitBSdSt+b9ftR7FT9bkcpSrH9QyGm5lej+tnU2IrG/EYjpj6rtq40bERlZTni2mJMjSxqGnKMoOKYy2ZnPRX43f/ooNl32m25J3dZnalEvue5689a7zFTiMVXt4ZcpdSIradz8eUP40++rHaOV4cUCU7IiZdr165FRMTOzs4lC5B7iuP6r9jokb3dzkFaFcpjqpCbed9BlJdykVvqZinVgXayGqu3+07OvcEuWXBci/VssRXmHsTsy4H64WhWqhRTFZbty/BX+0KsmF/tXtY/xNTH+dh9NnjI0jskRXu+HhXaNcvNSplOmFcrpSrOzqb6krPy+eefx7vvvhu///57/Pbbb6d2kNPe4TzatBqzG/lYuNPcmLX/zWTWY6v1fgOXTsyvtobAaH4plve2o/RkOaaz0dmBbb93p7544373hMf1SjSiHvWYjXZU3KjvpqqTx2m8qMbcSvpLtrGRj4XY7qne7O7sFgvN6uhkrxxRGLbhH7EcP+4LIvjTnFXfuMiOEvpmPy1FvKyPbJONF9XYXOr2KybTxPeP/a2oPsmNHbpooC/Mzsbck2pstb7fGy+qEdcWB/pC+/GpmUJ8uSY0m0QT3z+OqhUWz85ExMxi5Jea+3fd/blsrA47fuFUnKwdNsPcrdmbMRul2F6px62NWmy9motStPYT9uux27e9T18h21tlXIove44RGxu3eoKqblHTsGOEbjySjdWRAcdUFH4YfcwL52Z+tXuSJUmi+vFW5IdVHN+rtTKd7vAFq5923yZ7u92+e4ueHsVy61h25EmbnsrUYf1zeF+7fDY3NyOTyXR+vzwB8uihKvo1XlRjM4pHu1JnfyuqV/ORb7+2t6ivp1CtP2PpvZpkuu/qkunCZv+nTJTLFRzvbEVxqV3FOBWFlcEG06427q90PJaZxci/vD8wTs79vmEoGhv3Y3et1Kz03N+K6tVxwwxcPEceePwNnX7++efOsmrvXD548CBu3LhxwiV/2E0sutW3w4Pm1Vg85BOal9BtxvKVhVYFxGJsXa9Eo3+8p9bJj+YZ3Z7K/J5K6FTl8thPbV5+nA4UGrH1dLM75ttMIao9G+DOsDIzhfhybfPolyfPzMbc0Z55bOfd/i7ydHZ9Y4L0XQ43XZhrnrw57/k6Befd/i76NFn9o68K58pyzNVeN4TIxmLn+725nUifhI+Bx7OflqI45AT+ZXDe7e+iT5PVP46jVVFa+b7Vj1rhYK2UOhCd1Hs5nHf7O2k7rN1rjoPZCfXnb0b+VT0Wb6/GzWvRvBpjv96qGB6tOeTFXGz3hVL1V3Ox3QlGDqs4Hvf3Ua8Z7a9//eupLuP//M//jP/6r/8auzw5P5988sm598PGxv0otitLV6oDw7wNjk/bV3E8VLPgsG1kKHw7O3wM8lHTvdq5L6/jTkmSDCylnZ2d+Ld/+7dTak3nqdE8cbdUiu292bh/yA1KGy+qqfGNIyKdgwyMrT2Yx/SPTpAaamgCXarguFHfPfQ5tWfFyB2ykT66qSg8zEe1Mx5lLdavVCP/MH3QX498fH+j1fBmClEdWxp/8Ry98vXNnN5///3Osnr77bfjnXfeiS+++CIeP3588oU/8pKy4WfSIl7vxoupiuOI7jAqvcNjXK9EY2crYq3/85qVLgMb7vaQLK+lHvUxl/gctZJ5qDO+7P+8299Fns60b1xE+/U47FzywHaqs/M7bOz9y+28299FnyarfwyO+3dYFeSwfbbsp6XYfFVvVSwPudnq/lZUn/SE1NlixJ2tSzlcxXm3v4s+TVb/eF2NqFyfjuWr24NXIs733Jh4rxy7h9yY+7I67/Z30nbYrG5sROX6rYiHq5GNqSjcbh4fTs1GLD+uRe1ZsbV/OzrYbVao9V2Kfb0Ss7d7g+TDKo57/t47nOLIaXzl5PPnz099Of/f//3fidoLZ+f58+cRcZ59cjsePW0FfkkSycP8QNFFpn0/qs6wFn0VxzvrrZNsPVfL7tdjtmeY0rEVx53v3Z4hMkZNt7Pn/r113CmTyUS/+fn5+N///d+zbmYncLShKhobt6L+6c3mum/lcf33depVf7UZm4WFVoFdPh69itZ4x0PuiXZEU59VJ3p0gUsVHE/NHlZbWIutO7khFSwnMFOI6kq9VXV5P2b3Bitssp/1BMn9Z6z6x6s1uPal8t1338Wvv/7a2ZlcWVmJH3/8Mb755pt47733Tv4BI29i0f+FOHijuvWeoSpGfTGmKo4jYutZa6iXvXLk2hvG1tAVvZf7RERsDWxg81F5cXhwNtxszI4ZW2233rkgJOovhz9n5Ikjl/2fizPvGxdQo757aHurv9qMGHpyZSoKD8sRhemJrSCj603sH/2G9oX5xSjd2YrKi2psrg3ebLX2eDk2+yqNtteKxrKfMG92/6jFemY6qtcO0mMw7qwP3synNXzFyLHEOZGTtMPujZh6TnS1j/Hmb0b55UIsvOy5SnZY8Ns3nGFnGnJV0uixkXurh5vDNfbe7Kl/sv/BhbNfj9mVm91969YQo0nPkBTtwLYZ8KbH694sTEfm4Wyzr+1sRbG93zFTiELPCe6xFcdtvfepGtvXLp9cLhdJ0q04np+fj3/+859Rq9Vienr6HOfsMEcbqqIe+b4RBxpRfzmkQKGVocTtdhvLRXmvGjc/isErr1MaUbl+WBuoxfoEZ32XKjiO+cUoPVmOR+2baj3sOx+wX4/dGNZATssRdt56KwWG7RRMyCXKb4qvvvoq/vjjj7M7qDlixXFj41ZUr7UvZ9yM5Sv3Y3ZvNVZvV6MQlbh/ZzOWVyrRSFW856K811txXI/6y9bYPKkb8g2vZlkc2MBWo3CkhHYqZq/295WpmL0a3UuO9yuR7/nczfY4xa1xM7snf9rjWzaHuhiwX4/dY1VAc1Jn3jcumv1K3CpspsfP77ezHgt3clG+MaKW5yg32GMivHH9o9/IvjAbs0vFWC70DF3UUYutOzHw+OxHue42gonw5vaPRlSuL8Ru5WBIpfFilO4spIO9nUexfMhY4hzfSdph9kbPTZhaQVZ3/2D8VXbHM3jVx2DAMa4yOYnttdOeJzgFqYC3tzq/exO8cSc+cpWDVr7SGppixFVKqTFse6bUcAT9Oc4E9Z+nT59GxGUKjIfpaR/ZnpNk92rpQs6I1o2WRxT7pIqAmif/bj09ecXxpLtcwXFkY7Uz9tetiGt95wP266d606HO2d1ni50vjcVnQ75kmFilUil++umnszuoOWLFcfvSh9q9TCzcKcV266aOjY18ZK5UI7+XRNKqjG9uVGuxdWcuZmd6b4YxGzfbO5S9Fcc9N4g87AvzKMPFRAwflzJ7+yDKLxc6lxz1jo9Zutqq6u99vB2yjervMXx8Iv4cZ943LoDecSabbbP/8vy+cV+zu1EeclVKr6nPvozSk+W4ZRsy0d6E/pF21L4wFYvXmjeCWuwf6mJnK4pDHm/elLJdNMAkePP6R8v+VlSfxEBFaHO/LRuryXZE9vW2KRzfidrhTCGqyWJsdQKuVnHEznpkMgsRtSQOrlVj+sJUnzWvynUSgoute/Jjey0iVylHqacAb2CIrPnV1km4WqxnmiflkjHj2/aORzusanW0Wmy9vNxXuP7tb3+7RIFxOyDuP3nQHFu+ve46w/IMGSa29ng55oYV++zXY/fqv8RW5/2bJ+W+v9ZXcdxpW3QkhzjCU87N9loksbZ9yu96kJSXIomIpFQb86xKLomIJJbKyUGSJMleOckNm5da6Qzm8fRc5PV7GZxs+W0npXb7GaZWSnKVg87P6TbZaqcDbesgKS/lkvJ/l7rPbb02ej9rr5zk+j+783n987WdlKLZJyJySXnviP+7taM8t/n/GNfXxnxCUopScpa9S/84Pstuslm/J2P5TTbr92Qsv8k2Cet3e23IPnGtlET/fmmtlN7/7rz28GPN3uOA3tekpxH7we19/56pc0xxDiZhnU+y818/B0l5qZRs75WTXH/f6GnLpf9u/X3gODXdFw8qudbru8e0nezmSP2i99j3CH11Apx/G3hNvTlJR087GshYuuu0+7pWbrLXbB+5tVKzfa1t97S7dtvqZoRjp3HZzjk6jfWbab3RSKPuwHgu9iuRbw+OHtG8zN/QDydyodbvJWT5jdM8+xsDVZq9mjeIqa8cfqOl03nd67F+j8+ym2zW78lYfpPN+j0Zy2+yWb9HtLMe+frN1hWH+ajf6K8+r8V6ZisWD7nZ3UVgnV9s1g/awGmoxfr1ety8gPnkaazfyxUcc+qs35Ox/Cab9Xt8lt1ks35PxvKbbNbvyVh+k836ffNY5xeb9YM2MNlOY/1esjGOAQAAAAA4a4JjAAAAAABSBMcAAAAAAKQIjgEAAAAASBEcAwAAAACQIjgGAAAAACBFcAwAAAAAQIrgGAAAAACAFMExAAAAAAApgmMAAAAAAFIExwAAAAAApAiOAQAAgAvrwYMH8csvv5zTp9diPZOJ9Z1z+niAcyQ4BgAAAC6sYrEYH3zwQXz99dfnGCADvHkExwAAAMCF9e2338Zbb70VDx8+jA8//PC1A+TGRj4ymUxkMpnIbzQ6j9fuZYY+HtGIyvXW3+5tpd9sZ73zmsz1SqReNeJzAC4rwTEAAABwYX3++efx7rvvxu+//x6//fbb6wXIO+sx/TQfB0kSSbIdc4VbUdlvhrwLd0qxnSSR7JUjCtOd4Shq96ZjOcrN13waUWy/134l8tndKO8lkSQHUY7lmL5XG/s5AJeZ4BgAAAA4dZ988km3OveE088//9x533aA/ODBg7hx48bYeag9K0bu2mJMRURENlaTahRmIuqvNiNXuRnZiIiZQny5FlF8VouIRtRfRpRWCs3XzN+M8lLzvRovqrG5lI/FmYiIqSislCJe1qMx5nNGuXv37qktm+NOn3zyyfFWLPDGEBwDAAAAp+758+eRJMmpTO+//37nfd9+++1455134osvvojHjx+PmYNmCHyUx2c/yrV+qkf9yZi3fLIc0+3wNVuMeFKP+sjPGe3u3buntmyOOz1//vz1Zhp44wiOAQAAgAvru+++i19//bUTGK+srMSPP/4Y33zzTbz33ntjXjkVs1eP9nj91Wbrp9mYXRrzlmvbfQHsamRHfg7A5SY4BgAAAC6sr776Kv7444/XCIy7Zj/KxebTrdZN7GqxnsnE+k7r8cKjqEVE7Ffi/p2I0qfZiJiKxWu5KD5s3fhu51EstyqQpz7OR+7O/c7YxbV73RvkjfocgMvsL+c9AwAAAACjlEql+I//+I8jh8W9pj6rxvarTExnliMiIlc5iOp8RMw3H1/IFDuPr863X/N9lJ9ON1+zVI7yWkQ9ImKmENVaPTJXMtF8t1JsJ62xkEd9DsAllkmSJBn7hEwmDnkKl5j1ezKW32Szfo/Pspts1u/JWH6Tzfo9Gctvslm/ABeL7+XJdhrr11AVAAAAAACkCI4BAAAAAEgRHAMAAAAAkCI4BgAAAAAgRXAMAAAAAECK4BgAAAAAgBTBMQAAAAAAKYJjAAAAAABSBMcAAAAAAKQIjgEAAAAASBEcAwAAAACQIjgGAAAAACBFcAwAAAAAQIrgGAAAAACAFMExAAAAAAApgmMAAAAAAFIExwAAAAAApAiOAQAAAABIERwDAAAAAJAiOAYAAAAAIEVwDAAAAABAyl+O8qRMJnPW8wGXlv4Bw+kbMJr+AaPpHwDw57HdZZxMkiTJec8EAAAAAAAXh6EqAAAAAABIERwDAAAAAJAiOAYAAAAAIEVwDAAAAABAiuAYAAAAAIAUwTEAAAAAACmCYwAAAAAAUgTHAAAAAACkCI4BAAAAAEgRHAMAAAAAkCI4BgAAAAAgRXAMAAAAAECK4BgAAAAAgBTBMQAAAAAAKYJjAAAAAABSBMcAAAAAAKQIjgEAAAAASBEcAwAAAACQIjgGAAAAACBFcAwAAAAAQMr/B30JZGEFxz6jAAAAAElFTkSuQmCC" width="1422" height="152" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="341-音频编码">3.4.1 音频编码<a href="#341-音频编码" class="hash-link" aria-label="Direct link to 3.4.1 音频编码" title="Direct link to 3.4.1 音频编码">​</a></h4>
<p>开发板启动后，在大核上运行如下测试程序:<code>./sample_audio.elf -type 7 -filename /sharefs/test.g711a -channels 2 -samplerate 8000 -bitwidth 16 -enablecodec 1</code>
将ai采集到的数据（双声道，采样率8000，内置codec链路，采样精度16）编码成g711a格式后存到文件中，按任意键退出demo。</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./sample_audio.elf -type 7 -filename /sharefs/test.g711a -channels 2 -samplerate 8000 -bitwidth 16 -enablecodec 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">audio type:7,sample rate:8000,bit width:16,channels:1,enablecodec:1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mmz blk total size:1.35 MB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vb_set_config ok</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">enter any key to exit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sample aenc module (sysbind)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">audio i2s set clk freq is 512000(512000),ret:1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">audio codec adc clk freq is 2048000(2048000)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">destroy vb block</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sample done</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="342-音频解码">3.4.2 音频解码<a href="#342-音频解码" class="hash-link" aria-label="Direct link to 3.4.2 音频解码" title="Direct link to 3.4.2 音频解码">​</a></h4>
<p>开发板启动后，在大核上运行如下测试程序:<code>./sample_audio.elf -type 8 -filename /sharefs/test.g711a -channels 2 -samplerate 8000 -bitwidth 16 -enablecodec 1</code>
将g711a格式（采样率8000，声道数2,采样精度16）文件解码后通过ao(内置codec通路)播放输出，按任意键退出demo。</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./sample_audio.elf -type 8 -filename /sharefs/test.g711a -channels 2 -samplerate 8000 -bitwidth 16 -enablecodec 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">audio type:8,sample rate:8000,bit width:16,channels:2,enablecodec:1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mmz blk total size:1.35 MB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vb_set_config ok</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">enter any key to exit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sample adec module (sysbind)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">audio i2s set clk freq is 512000(512000),ret:1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">audio init codec dac clk freq is 4096000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">audio set codec dac clk freq is 2048000(2048000)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">adec_bind_call_back dev_id:0 chn_id:0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">read file again</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">adec_bind_call_back dev_id:0 chn_id:0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">destroy vb block</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sample done</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="35-回环测试">3.5 回环测试<a href="#35-回环测试" class="hash-link" aria-label="Direct link to 3.5 回环测试" title="Direct link to 3.5 回环测试">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="351-i2s采集播放回环">3.5.1 i2s采集播放回环<a href="#351-i2s采集播放回环" class="hash-link" aria-label="Direct link to 3.5.1 i2s采集播放回环" title="Direct link to 3.5.1 i2s采集播放回环">​</a></h3>
<p>开发板启动后，在大核上运行如下测试程序:<code>./sample_audio.elf -type 4 -enablecodec 1 -bitwidth 16 -samplerate 48000 -channels 2</code>
同时运行ai和ao模块，将ai(采样精度16，采样率48000，双声道)采集到的声音数据实时输出到ao(采样精度16，采样率48000，双声道)播放，使用内置codec通路，按任意键退出demo。具体流程图如下。</p>
<p><img decoding="async" loading="lazy" alt="image-20230704111434384" src="data:image/png;base64,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SJrQAgAAJE1oAQAAkia0AAAASRNaAACApAktAABA0oQWAAAgaUILAACQNKEFAABImtACAAAkTWgBAACSJrQAAABJE1oAAICkCS0AAEDShBYAACBpQgsAAJA0oQUAAEia0AIAACRNaAEAAJImtAAAAEkTWgAAgKQJLQAAQNKEFgAAIGlCCwAAkDShBQAASJrQAgAAJE1oAQAAkia0AAAASRNaAACApAktAABA0oQWAAAgaUILAACQNKEFAABImtACAAAkTWgBAACSJrQAAABJE1oAAICkCS0AAEDShBYAACBpQgsAAJA0oQUAAEia0AIAACRNaAEAAJImtAAAAEkTWgAAgKQJLQAAQNKEFgAAIGlCCwAAkDShBQAASJrQAgAAJE1oAQAAkia0AAAASRNaAACApAktAABA0t4/6xUYN//+7/8e//Vf/3XWqwEAwG/0hz/84axXgTeUy7IsO+uVGCe5XC5sMgAAOD26hwEAAEkTWgAAgKQJLQAAQNKEFgAAIGlCCwAAkDShBQAASJrQAgAAJE1oAQAAkia0AAAASRNaAACApAktAABA0oQWAAAgaUILAACQNKEFAABImtACAAAkTWgBAACSJrQAAABJE1oAAICkCS0AAEDShBYAACBpQgsAAJA0oQUAAEia0AIAACRNaAEAAJImtAAAAEkTWgAAgKQJLQAAQNKEFgAAIGlCCwAAkDShBQAASJrQAgAAJE1oAQAAkia0AAAASRNaAACApAktAABA0oQWAAAgaUILAACQNKEFAABImtACAAAkTWgBAACSJrQAAABJE1oAAICkCS0AAEDShBYAACBpQgsAAJA0oQUAAEia0AIAACRNaAEAAJImtAAAAEkTWgAAgKQJLQAAQNKEFgAAIGlCCwAAkDShBQAASJrQAgAAJE1oOcTDhw/j97//fXz99dc9z3/99dfx+9//Ph4+fHhGawYAAO+GXJZl2VmvRMpev34dFy9ejPfffz8+/PDDePXqVXz00Ufx888/x6+//hqvXr2KCxcunPVqAgDAxNLScogLFy7E559/Hv/617/i1atXERHx008/xb/+9a/4/PPPBRYAAHjLtLQcwevXr+Pjjz+OX375Ze+58+fPx48//ii0AADAW6al5QguXLgQf/rTn+LcuXMREXHu3Ln405/+JLAAAMAp0NJyRN2tLVpZAADg9GhpOaJO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" width="813" height="393" class="img_ev3q"></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./sample_audio.elf -type 4 -enablecodec 1 -bitwidth 16 -samplerate 48000 -channels 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">audio type:4,sample rate:48000,bit width:16,channels:2,enablecodec:1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mmz blk total size:8.12 MB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vb_set_config ok</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">enter any key to exit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sample ai(i2s) bind ao module</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">audio i2s set clk freq is 3072000(3072000),ret:1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">audio codec adc clk freq is 12288000(12288000)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">audio i2s set clk freq is 3072000(3072000),ret:1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">audio init codec dac clk freq is 2048000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">audio set codec dac clk freq is 12288000(12288000)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">diable ao module</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">diable ai module</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">release vb block</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">destroy vb block</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sample done</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="352-pdm采集播放回环">3.5.2 pdm采集播放回环<a href="#352-pdm采集播放回环" class="hash-link" aria-label="Direct link to 3.5.2 pdm采集播放回环" title="Direct link to 3.5.2 pdm采集播放回环">​</a></h3>
<p>开发板启动后，在大核上运行如下测试程序:<code>./sample_audio.elf -type 6 -bitwidth 32 -samplerate 48000 -channels 2 -enablecodec 0</code>
同时运行ai和ao模块，将ai(采样精度32，采样率48000，双声道)采集到的声音数据实时输出到ao(采样精度32，采样率48000，双声道)播放，使用外置子板通路，按任意键退出demo。具体流程图如下。</p>
<p><img decoding="async" loading="lazy" alt="image-20230704111057270" src="data:image/png;base64,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" width="756" height="308" class="img_ev3q"></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./sample_audio.elf -type 6 -bitwidth 32 -samplerate 48000 -channels 2 -enablecodec 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">audio type:6,sample rate:48000,bit width:32,channels:2,enablecodec:0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mmz blk total size:8.12 MB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vb_set_config ok</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">enter any key to exit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sample ai(pdm) bind ao module</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pdm in init clk freq is 3072000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pdm in set clk freq is 3072000(3072000)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">audio i2s set clk freq is 3072000(3072000),ret:1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">diable ao module</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">diable ai module</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">release vb block</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">destroy vb block</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sample done</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="353-编解码回环">3.5.3 编解码回环<a href="#353-编解码回环" class="hash-link" aria-label="Direct link to 3.5.3 编解码回环" title="Direct link to 3.5.3 编解码回环">​</a></h3>
<p>开发板启动后，在大核上运行如下测试程序:<code>./sample_audio.elf -type 12 -samplerate 44100</code>
同时运行ai、adec、aenc、ao模块，将ai绑定aenc，adec绑定ao，从aenc获取到的数据发送到adec，进而实现回环效果。音频采样精度固定为16bit，固定使用内置codec通路，按任意键退出demo。数据流如下图:</p>
<p><img decoding="async" loading="lazy" alt="image-20230704105940599" src="/assets/images/audio-ai-aenc-adec-ao-loopback-8ac804fbf7d55bec11f376fce045af98.png" width="1288" height="374" class="img_ev3q"></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./sample_audio.elf -type 12 -samplerate 44100</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">audio type:12,sample rate:44100,bit width:16,channels:2,enablecodec:0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mmz blk total size:7.46 MB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vb_set_config ok</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">enter any key to exit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sample ai-&gt;aenc  adec-&gt;ao module (loopback)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Force the sampling accuracy to be set to 16,use inner cocdec</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">audio i2s set clk freq is 2822400(2822400),ret:1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">audio codec adc clk freq is 11289600(11289600)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">audio i2s set clk freq is 2822400(2822400),ret:1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">audio init codec dac clk freq is 12288000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">audio set codec dac clk freq is 11289600(11289600)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">adec_bind_call_back dev_id:0 chn_id:0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[0s] g711 stream timestamp 0 us,curpts:1059296</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[1s] g711 stream timestamp 1000000 us,curpts:2059296</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2s] g711 stream timestamp 2000000 us,curpts:3059296</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[3s] g711 stream timestamp 3000000 us,curpts:4059296</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[4s] g711 stream timestamp 4000000 us,curpts:5059296</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[5s] g711 stream timestamp 5000000 us,curpts:6059296</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[6s] g711 stream timestamp 6000000 us,curpts:7059296</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[7s] g711 stream timestamp 7000000 us,curpts:8059296</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[8s] g711 stream timestamp 8000000 us,curpts:9059296</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">adec_bind_call_back dev_id:0 chn_id:0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">destroy vb block</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sample done</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="4-小核音频实战">4. 小核音频实战<a href="#4-小核音频实战" class="hash-link" aria-label="Direct link to 4. 小核音频实战" title="Direct link to 4. 小核音频实战">​</a></h2>
<p>小核demo文件为sample_audio,支持音频采集(ai)，音频播放(ao)，音频编码(aenc)，音频解码(adec)等功能。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="41-参数说明">4.1 参数说明<a href="#41-参数说明" class="hash-link" aria-label="Direct link to 4.1 参数说明" title="Direct link to 4.1 参数说明">​</a></h3>
<table><thead><tr><th style="text-align:left">参数名</th><th style="text-align:left">描述</th><th style="text-align:left">默认值</th></tr></thead><tbody><tr><td style="text-align:left">help</td><td style="text-align:left">打印命令行参数信息</td><td style="text-align:left">-</td></tr><tr><td style="text-align:left">samplerate</td><td style="text-align:left">设置音频采样率，有效值<code>[8000,12000,16000,24000,32000,44100,48000,96000,192000]</code></td><td style="text-align:left">44100</td></tr><tr><td style="text-align:left">enablecodec</td><td style="text-align:left">i2s使用内置(1)或外置(0)链路，有效值：0、1</td><td style="text-align:left">0</td></tr><tr><td style="text-align:left">channels</td><td style="text-align:left">声道数，有效值:1、2</td><td style="text-align:left">2</td></tr><tr><td style="text-align:left">filename</td><td style="text-align:left">输入或输出的文件名称</td><td style="text-align:left">-</td></tr><tr><td style="text-align:left">type</td><td style="text-align:left">功能类型，有效值:[0,2]，具体值参考下表</td><td style="text-align:left">0</td></tr></tbody></table>
<table><thead><tr><th style="text-align:left">type值</th><th style="text-align:left">功能描述</th></tr></thead><tbody><tr><td style="text-align:left">0</td><td style="text-align:left">音频采集编码功能:ai-&gt;aenc，使用模块绑定(ai绑定aenc)实现，ai为i2s接口,aenc为g711a编码格式，采样精度固定16bit。</td></tr><tr><td style="text-align:left">1</td><td style="text-align:left">音频解码播放功能:adec-&gt;ao，使用模块绑定(adec绑定ao)实现，ao为i2s接口,adec为g711a解码格式，采样精度固定16bit。</td></tr><tr><td style="text-align:left">2</td><td style="text-align:left">ai-&gt;aenc、adec-&gt;ao回环功能:使用模块绑定(ai绑定aenc,adec绑定ao)实现。ai为i2s接口，aenc为g711a格式,adec为g711a格式,ao为i2s接口，采样精度固定16bit。</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="42-音频采集编码">4.2 音频采集编码<a href="#42-音频采集编码" class="hash-link" aria-label="Direct link to 4.2 音频采集编码" title="Direct link to 4.2 音频采集编码">​</a></h3>
<p>开发板启动后，在大核上运行程序：/sharefs/sample_sys_init.elf &amp;
在小核上运行如下程序:<code>./sample_audio -type 0 -samplerate 8000 -enablecodec 1 -channels 1 -filename test.g711a</code>
将ai采集到的数据（单声道，采样率8000，内置codec链路，采样精度16）编码成g711a格式后存到文件中，按q键退出demo。数据流程图如下:</p>
<p><img decoding="async" loading="lazy" alt="image-20230704115247002" src="/assets/images/audio-capture-i2s-encode-mapi-1fb57d8d302f6ee5c4dad43dde57675c.png" width="1382" height="400" class="img_ev3q"></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./sample_audio -type 0 -samplerate 8000 -enablecodec 1 -channels 1 -filename test.g711a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">audio type:0,sample rate:8000,channels:1,enablecodec:1,filename:test.g711a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mmz blk total size:0.38 MB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[AENC_S] [Func]:_init_datafifo [Line]:174 [Info]:_aenc_datafifo_init_slave ok,datafifo_phyaddr:0x18061000,data_hdl:0x18061000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">enter &#x27;q&#x27; key to exit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_aenc_dataproc chn_num:0,stream data:0x18003c00,data len:320,seq:0,timestamp:99306</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_aenc_dataproc chn_num:0,stream data:0x18005a00,data len:320,seq:1,timestamp:139306</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_aenc_dataproc chn_num:0,stream data:0x18007800,data len:320,seq:2,timestamp:179306</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_aenc_dataproc chn_num:0,stream data:0x18009600,data len:320,seq:3,timestamp:219306</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_aenc_dataproc chn_num:0,stream data:0x1800b400,data len:320,seq:4,timestamp:259306</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_aenc_dataproc chn_num:0,stream data:0x1800d200,data len:320,seq:5,timestamp:299306</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_aenc_dataproc chn_num:0,stream data:0x1800f000,data len:320,seq:6,timestamp:339306</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_aenc_dataproc chn_num:0,stream data:0x18010e00,data len:320,seq:7,timestamp:379306</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_aenc_dataproc chn_num:0,stream data:0x18012c00,data len:320,seq:8,timestamp:419306</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_aenc_dataproc chn_num:0,stream data:0x18014a00,data len:320,seq:9,timestamp:459306</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_aenc_dataproc chn_num:0,stream data:0x18016800,data len:320,seq:10,timestamp:499306</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_aenc_dataproc chn_num:0,stream data:0x18018600,data len:320,seq:11,timestamp:539306</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_aenc_dataproc chn_num:0,stream data:0x1801a400,data len:320,seq:12,timestamp:579306</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_aenc_dataproc chn_num:0,stream data:0x1801c200,data len:320,seq:13,timestamp:619306</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_aenc_dataproc chn_num:0,stream data:0x1801e000,data len:320,seq:14,timestamp:659306</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_aenc_dataproc chn_num:0,stream data:0x1801fe00,data len:320,seq:15,timestamp:699306</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_aenc_dataproc chn_num:0,stream data:0x18021c00,data len:320,seq:16,timestamp:739306</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_aenc_dataproc chn_num:0,stream data:0x18023a00,data len:320,seq:17,timestamp:779306</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_aenc_dataproc chn_num:0,stream data:0x18025800,data len:320,seq:18,timestamp:819306</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_aenc_dataproc chn_num:0,stream data:0x18027600,data len:320,seq:19,timestamp:859306</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_aenc_dataproc chn_num:0,stream data:0x18029400,data len:320,seq:20,timestamp:899306</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_aenc_dataproc chn_num:0,stream data:0x1802b200,data len:320,seq:21,timestamp:939306</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_aenc_dataproc chn_num:0,stream data:0x1802d000,data len:320,seq:22,timestamp:979306</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_aenc_dataproc chn_num:0,stream data:0x1802ee00,data len:320,seq:23,timestamp:1019306</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_aenc_dataproc chn_num:0,stream data:0x18030c00,data len:320,seq:24,timestamp:1059306</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_aenc_dataproc chn_num:0,stream data:0x18032000,data len:320,seq:25,timestamp:1099306</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_aenc_dataproc chn_num:0,stream data:0x18033400,data len:320,seq:26,timestamp:1139306</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_aenc_dataproc chn_num:0,stream data:0x18034800,data len:320,seq:27,timestamp:1179306</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_aenc_dataproc chn_num:0,stream data:0x18035c00,data len:320,seq:28,timestamp:1219306</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_aenc_dataproc chn_num:0,stream data:0x18037000,data len:320,seq:29,timestamp:1259306</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sample done</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="43-音频解码播放">4.3 音频解码播放<a href="#43-音频解码播放" class="hash-link" aria-label="Direct link to 4.3 音频解码播放" title="Direct link to 4.3 音频解码播放">​</a></h3>
<p>开发板启动后，在大核上运行程序：/sharefs/sample_sys_init.elf &amp;
在小核上运行如下测试程序:<code>./sample_audio -type 1 -samplerate 8000 -enablecodec 1 -channels 1 -filename test.g711a</code>
将g711a格式（采样率8000，声道数1,采样精度16）文件解码后通过ao(内置codec通路)输出，按q键退出demo。</p>
<p><img decoding="async" loading="lazy" alt="image-20230704115817994" src="/assets/images/audio-decode-i2s-play-mapi-9f60820208616c772ce82c0d79f9c119.png" width="1095" height="356" class="img_ev3q"></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./sample_audio -type 1 -samplerate 8000 -enablecodec 1 -channels 1 -filename test.g711a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">audio type:1,sample rate:8000,channels:1,enablecodec:1,filename:test.g711a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mmz blk total size:0.38 MB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[ADEC_S] [Func]:_init_datafifo [Line]:189 [Info]:_adec_datafifo_init_slave ok,datafifo_phyaddr:0x18061000,data_hdl:0x18061000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">enter &#x27;q&#x27; key to exit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[ADEC_S] [Func]:_datafifo_release_func [Line]:157 [Info]:_datafifo_release_func,adec_hdl:0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">read file again</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">read file again</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">read file again</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sample done</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="44-编解码回环">4.4 编解码回环<a href="#44-编解码回环" class="hash-link" aria-label="Direct link to 4.4 编解码回环" title="Direct link to 4.4 编解码回环">​</a></h3>
<p>开发板启动后，在大核上运行程序：<code>/sharefs/sample_sys_init.elf &amp;</code>
在小核上运行如下测试程序:<code>./sample_audio -type 2 -samplerate 48000 -enablecodec 1 -channels 2</code>
同时运行ai、adec、aenc、ao模块，将ai(采样率48000，声 道数2,采样精度16)绑定aenc(g711a)，adec(g711a)绑定ao(采样率48000，声道数2,采样精度16)，从aenc获取到的数据发送到adec，进而实现回环效果。</p>
<p><img decoding="async" loading="lazy" alt="image-20230704151614911" src="/assets/images/audio-loopback-mapi-d851eff830f1f2bbb0cfe8682a512ee8.png" width="1420" height="505" class="img_ev3q"></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./sample_audio -type 2 -samplerate 48000 -enablecodec 1 -channels 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">audio type:2,sample rate:48000,channels:2,enablecodec:1,filename:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mmz blk total size:2.26 MB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[AENC_S] [Func]:_init_datafifo [Line]:174 [Info]:_aenc_datafifo_init_slave ok,datafifo_phyaddr:0x18242000,data_hdl:0x18242000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[ADEC_S] [Func]:_init_datafifo [Line]:189 [Info]:_adec_datafifo_init_slave ok,datafifo_phyaddr:0x18243000,data_hdl:0x18243000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">enter &#x27;q&#x27; key to exit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[ADEC_S] [Func]:_datafifo_release_func [Line]:157 [Info]:_datafifo_release_func,adec_hdl:0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sample done</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/CanaanK230/part3/09_K230audiopracticeaudiocollectionplaybackandencoding.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/CanaanK230/part3/K230codingpracticertspserverbuildandpushstreams"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">K230 编码实战 - rtsp sever搭建和推流</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/CanaanK230/part3/K230SceneCombatSmartDoorLockPOC"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">K230 场景实战-智能门锁POC</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-概述" class="table-of-contents__link toc-highlight">1. 概述</a></li><li><a href="#2-环境准备" class="table-of-contents__link toc-highlight">2. 环境准备</a><ul><li><a href="#21-硬件环境" class="table-of-contents__link toc-highlight">2.1 硬件环境</a></li><li><a href="#22-编译程序" class="table-of-contents__link toc-highlight">2.2 编译程序</a></li></ul></li><li><a href="#3-大核音频实战" class="table-of-contents__link toc-highlight">3. 大核音频实战</a><ul><li><a href="#31-参数说明" class="table-of-contents__link toc-highlight">3.1 参数说明</a></li><li><a href="#32-音频采集" class="table-of-contents__link toc-highlight">3.2 音频采集</a></li><li><a href="#321-i2s音频采集" class="table-of-contents__link toc-highlight">3.2.1 i2s音频采集</a></li><li><a href="#322-pdm音频采集" class="table-of-contents__link toc-highlight">3.2.2 pdm音频采集</a></li><li><a href="#33-音频播放" class="table-of-contents__link toc-highlight">3.3 音频播放</a></li><li><a href="#34-音频编解码" class="table-of-contents__link toc-highlight">3.4 音频编解码</a></li><li><a href="#35-回环测试" class="table-of-contents__link toc-highlight">3.5 回环测试</a></li><li><a href="#351-i2s采集播放回环" class="table-of-contents__link toc-highlight">3.5.1 i2s采集播放回环</a></li><li><a href="#352-pdm采集播放回环" class="table-of-contents__link toc-highlight">3.5.2 pdm采集播放回环</a></li><li><a href="#353-编解码回环" class="table-of-contents__link toc-highlight">3.5.3 编解码回环</a></li></ul></li><li><a href="#4-小核音频实战" class="table-of-contents__link toc-highlight">4. 小核音频实战</a><ul><li><a href="#41-参数说明" class="table-of-contents__link toc-highlight">4.1 参数说明</a></li><li><a href="#42-音频采集编码" class="table-of-contents__link toc-highlight">4.2 音频采集编码</a></li><li><a href="#43-音频解码播放" class="table-of-contents__link toc-highlight">4.3 音频解码播放</a></li><li><a href="#44-编解码回环" class="table-of-contents__link toc-highlight">4.4 编解码回环</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://dongshanpi.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">DongshanPI<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://canaan-docs.100ask.net/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Canaan-Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://renesas-docs.100ask.net/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Renesas-Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://rtos.100ask.net/" target="_blank" rel="noopener noreferrer" class="footer__link-item">RTOS<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://tina.100ask.net/" target="_blank" rel="noopener noreferrer" class="footer__link-item">TinaSDK-Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://allwinner-docs.100ask.net/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Allwinner-Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://aw-r128.100ask.net/" target="_blank" rel="noopener noreferrer" class="footer__link-item">R128-Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://space.bilibili.com/275908810" target="_blank" rel="noopener noreferrer" class="footer__link-item">BiliBili<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://forums.100ask.net" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://video.100ask.net/" target="_blank" rel="noopener noreferrer" class="footer__link-item">VideoCenter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/dongshanpi" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://weidongshan.coding.net/public/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Coding<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/100askTeam" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://gitee.com/weidongshan" target="_blank" rel="noopener noreferrer" class="footer__link-item">Gitee<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>