"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[4981],{26512:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>a,frontMatter:()=>r,metadata:()=>c,toc:()=>d});var n=s(74848),o=s(28453);const r={sidebar_position:16},i="2.3 socket \u6a21\u5757API\u624b\u518c",c={id:"CanaanK230/part5/socketModuleAPIManual",title:"2.3 socket \u6a21\u5757API\u624b\u518c",description:"\u524d\u8a00",source:"@site/docs/CanaanK230/part5/16_socketModuleAPIManual.md",sourceDirName:"CanaanK230/part5",slug:"/CanaanK230/part5/socketModuleAPIManual",permalink:"/docs/CanaanK230/part5/socketModuleAPIManual",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/CanaanK230/part5/16_socketModuleAPIManual.md",tags:[],version:"current",sidebarPosition:16,frontMatter:{sidebar_position:16},sidebar:"canaanK230Sidebar",previous:{title:"2.2 network \u6a21\u5757API\u624b\u518c",permalink:"/docs/CanaanK230/part5/newworkModuleAPIManual"},next:{title:"2.4 ADC \u6a21\u5757API\u624b\u518c",permalink:"/docs/CanaanK230/part5/ADCModuleAPImanual"}},l={},d=[{value:"\u524d\u8a00",id:"\u524d\u8a00",level:2},{value:"\u6982\u8ff0",id:"\u6982\u8ff0",level:3},{value:"\u8bfb\u8005\u5bf9\u8c61",id:"\u8bfb\u8005\u5bf9\u8c61",level:3},{value:"\u7f29\u7565\u8bcd\u5b9a\u4e49",id:"\u7f29\u7565\u8bcd\u5b9a\u4e49",level:3},{value:"\u4fee\u8ba2\u8bb0\u5f55",id:"\u4fee\u8ba2\u8bb0\u5f55",level:3},{value:"1. \u6982\u8ff0",id:"1-\u6982\u8ff0",level:2},{value:"2.\u793a\u4f8b",id:"2\u793a\u4f8b",level:2},{value:"3. api\u5b9a\u4e49",id:"3-api\u5b9a\u4e49",level:2},{value:"3.1 \u5b9a\u4e49",id:"31-\u5b9a\u4e49",level:3},{value:"3.2 \u51fd\u6570",id:"32-\u51fd\u6570",level:3}];function h(e){const t={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.header,{children:(0,n.jsx)(t.h1,{id:"23-socket-\u6a21\u5757api\u624b\u518c",children:"2.3 socket \u6a21\u5757API\u624b\u518c"})}),"\n",(0,n.jsx)(t.h2,{id:"\u524d\u8a00",children:"\u524d\u8a00"}),"\n",(0,n.jsx)(t.h3,{id:"\u6982\u8ff0",children:"\u6982\u8ff0"}),"\n",(0,n.jsx)(t.p,{children:"\u672c\u6587\u6863\u4e3b\u8981\u4ecb\u7ecdsoccket\u6a21\u5757API\u3002"}),"\n",(0,n.jsx)(t.h3,{id:"\u8bfb\u8005\u5bf9\u8c61",children:"\u8bfb\u8005\u5bf9\u8c61"}),"\n",(0,n.jsx)(t.p,{children:"\u672c\u6587\u6863\uff08\u672c\u6307\u5357\uff09\u4e3b\u8981\u9002\u7528\u4e8e\u4ee5\u4e0b\u4eba\u5458\uff1a"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"\u6280\u672f\u652f\u6301\u5de5\u7a0b\u5e08"}),"\n",(0,n.jsx)(t.li,{children:"\u8f6f\u4ef6\u5f00\u53d1\u5de5\u7a0b\u5e08"}),"\n"]}),"\n",(0,n.jsx)(t.h3,{id:"\u7f29\u7565\u8bcd\u5b9a\u4e49",children:"\u7f29\u7565\u8bcd\u5b9a\u4e49"}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"\u7b80\u79f0"}),(0,n.jsx)(t.th,{children:"\u8bf4\u660e"})]})}),(0,n.jsx)(t.tbody,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{}),(0,n.jsx)(t.td,{})]})})]}),"\n",(0,n.jsx)(t.h3,{id:"\u4fee\u8ba2\u8bb0\u5f55",children:"\u4fee\u8ba2\u8bb0\u5f55"}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"\u6587\u6863\u7248\u672c\u53f7"}),(0,n.jsx)(t.th,{children:"\u4fee\u6539\u8bf4\u660e"}),(0,n.jsx)(t.th,{children:"\u4fee\u6539\u8005"}),(0,n.jsx)(t.th,{children:"\u65e5\u671f"})]})}),(0,n.jsx)(t.tbody,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"V1.0"}),(0,n.jsx)(t.td,{children:"\u521d\u7248"}),(0,n.jsx)(t.td,{children:"\u8f6f\u4ef6\u90e8"}),(0,n.jsx)(t.td,{children:"2023-11-09"})]})})]}),"\n",(0,n.jsx)(t.h2,{id:"1-\u6982\u8ff0",children:"1. \u6982\u8ff0"}),"\n",(0,n.jsx)(t.p,{children:"\u5c01\u88c5socket\u5e93\uff0c\u9700\u8981\u901a\u8fc7\u6838\u95f4\u901a\u4fe1\u8c03\u7528\u5c0f\u6838\u7684socket\u63a5\u53e3\u3002"}),"\n",(0,n.jsx)(t.h2,{id:"2\u793a\u4f8b",children:"2.\u793a\u4f8b"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{children:'#\u914d\u7f6e tcp/udp socket\u8c03\u8bd5\u5de5\u5177\nimport socket\nimport time\n\nPORT=60000\n\ndef client():\n    #\u83b7\u53d6\u5730\u5740\u53ca\u7aef\u53e3\u53f7 \u5bf9\u5e94\u5730\u5740\n    ai = socket.getaddrinfo("10.100.228.5", PORT)\n    #ai = socket.getaddrinfo("10.10.1.94", PORT)\n    print("Address infos:", ai)\n    addr = ai[0][-1]\n\n    print("Connect address:", addr)\n    #\u5efa\u7acbsocket\n    s = socket.socket(socket.AF_INET, socket.SOCK_STREAM, 0)\n    #\u8fde\u63a5\u5730\u5740\n    s.connect(addr)\n\n    for i in range(10):\n        str="K230 tcp client send test {0} \\r\\n".format(i)\n        print(str)\n        #print(s.send(str))\n        #\u53d1\u9001\u5b57\u7b26\u4e32\n        print(s.write(str))\n        time.sleep(0.2)\n        #time.sleep(1)\n        #print(s.recv(4096))\n        #print(s.read())\n    #\u5ef6\u65f61\u79d2\n    time.sleep(1)\n    #\u5173\u95edsocket\n    s.close()\n    print("end")\n\n\n\n#main()\nclient()\n'})}),"\n",(0,n.jsx)(t.h2,{id:"3-api\u5b9a\u4e49",children:"3. api\u5b9a\u4e49"}),"\n",(0,n.jsxs)(t.p,{children:["\u8be6\u89c1",(0,n.jsx)(t.code,{children:"https://docs.micropython.org/en/latest/library/socket.html"})]}),"\n",(0,n.jsx)(t.h3,{id:"31-\u5b9a\u4e49",children:"3.1 \u5b9a\u4e49"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.em,{children:"class"}),"socket.socket(",(0,n.jsx)(t.em,{children:"af=AF_INET"}),", ",(0,n.jsx)(t.em,{children:"type=SOCK_STREAM"}),", ",(0,n.jsx)(t.em,{children:"proto=IPPROTO_TCP"}),", ",(0,n.jsx)(t.em,{children:"/"}),")",(0,n.jsx)(t.a,{href:"https://docs.micropython.org/en/latest/library/socket.html#socket.socket",children:"\xb6"})]}),"\n",(0,n.jsxs)(t.p,{children:["Create a new socket using the given address family, socket type and protocol number. Note that specifying ",(0,n.jsx)(t.em,{children:"proto"})," in most cases is not required (and not recommended, as some MicroPython ports may omit ",(0,n.jsx)(t.code,{children:"IPPROTO_*"})," constants). Instead, ",(0,n.jsx)(t.em,{children:"type"})," argument will select needed protocol automatically:",(0,n.jsx)(t.code,{children:"# Create STREAM TCP socket socket(AF_INET, SOCK_STREAM) # Create DGRAM UDP socket socket(AF_INET, SOCK_DGRAM)"})]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(t.h3,{id:"32-\u51fd\u6570",children:"3.2 \u51fd\u6570"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:["socket.close()",(0,n.jsx)(t.a,{href:"https://docs.micropython.org/en/latest/library/socket.html#socket.socket.close",children:"\xb6"})]}),"\n",(0,n.jsxs)(t.p,{children:["Mark the socket closed and release all resources. Once that happens, all future operations on the socket object will fail. The remote end will receive EOF indication if supported by protocol.Sockets are automatically closed when they are garbage-collected, but it is recommended to ",(0,n.jsx)(t.a,{href:"https://docs.micropython.org/en/latest/library/socket.html#socket.socket.close",children:(0,n.jsx)(t.code,{children:"close()"})})," them explicitly as soon you finished working with them."]}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:["socket.bind(",(0,n.jsx)(t.em,{children:"address"}),")",(0,n.jsx)(t.a,{href:"https://docs.micropython.org/en/latest/library/socket.html#socket.socket.bind",children:"\xb6"})]}),"\n",(0,n.jsxs)(t.p,{children:["Bind the socket to ",(0,n.jsx)(t.em,{children:"address"}),". The socket must not already be bound."]}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:["socket.listen(",(0,n.jsxs)(t.strong,{children:["[*",(0,n.jsx)(t.em,{children:"*backlog*"}),"*]"]}),")",(0,n.jsx)(t.a,{href:"https://docs.micropython.org/en/latest/library/socket.html#socket.socket.listen",children:"\xb6"})]}),"\n",(0,n.jsxs)(t.p,{children:["Enable a server to accept connections. If ",(0,n.jsx)(t.em,{children:"backlog"})," is specified, it must be at least 0 (if it\u2019s lower, it will be set to 0); and specifies the number of unaccepted connections that the system will allow before refusing new connections. If not specified, a default reasonable value is chosen."]}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:["socket.accept()",(0,n.jsx)(t.a,{href:"https://docs.micropython.org/en/latest/library/socket.html#socket.socket.accept",children:"\xb6"})]}),"\n",(0,n.jsx)(t.p,{children:"Accept a connection. The socket must be bound to an address and listening for connections. The return value is a pair (conn, address) where conn is a new socket object usable to send and receive data on the connection, and address is the address bound to the socket on the other end of the connection."}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:["socket.connect(",(0,n.jsx)(t.em,{children:"address"}),")",(0,n.jsx)(t.a,{href:"https://docs.micropython.org/en/latest/library/socket.html#socket.socket.connect",children:"\xb6"})]}),"\n",(0,n.jsxs)(t.p,{children:["Connect to a remote socket at ",(0,n.jsx)(t.em,{children:"address"}),"."]}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:["socket.send(",(0,n.jsx)(t.em,{children:"bytes"}),")",(0,n.jsx)(t.a,{href:"https://docs.micropython.org/en/latest/library/socket.html#socket.socket.send",children:"\xb6"})]}),"\n",(0,n.jsx)(t.p,{children:"Send data to the socket. The socket must be connected to a remote socket. Returns number of bytes sent, which may be smaller than the length of data (\u201cshort write\u201d)."}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:["socket.sendall(",(0,n.jsx)(t.em,{children:"bytes"}),")",(0,n.jsx)(t.a,{href:"https://docs.micropython.org/en/latest/library/socket.html#socket.socket.sendall",children:"\xb6"})]}),"\n",(0,n.jsxs)(t.p,{children:["Send all data to the socket. The socket must be connected to a remote socket. Unlike ",(0,n.jsx)(t.a,{href:"https://docs.micropython.org/en/latest/library/socket.html#socket.socket.send",children:(0,n.jsx)(t.code,{children:"send()"})}),", this method will try to send all of data, by sending data chunk by chunk consecutively.The behaviour of this method on non-blocking sockets is undefined. Due to this, on MicroPython, it\u2019s recommended to use ",(0,n.jsx)(t.a,{href:"https://docs.micropython.org/en/latest/library/socket.html#socket.socket.write",children:(0,n.jsx)(t.code,{children:"write()"})})," method instead, which has the same \u201cno short writes\u201d policy for blocking sockets, and will return number of bytes sent on non-blocking sockets."]}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:["socket.recv(",(0,n.jsx)(t.em,{children:"bufsize"}),")",(0,n.jsx)(t.a,{href:"https://docs.micropython.org/en/latest/library/socket.html#socket.socket.recv",children:"\xb6"})]}),"\n",(0,n.jsx)(t.p,{children:"Receive data from the socket. The return value is a bytes object representing the data received. The maximum amount of data to be received at once is specified by bufsize."}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:["socket.sendto(",(0,n.jsx)(t.em,{children:"bytes"}),", ",(0,n.jsx)(t.em,{children:"address"}),")",(0,n.jsx)(t.a,{href:"https://docs.micropython.org/en/latest/library/socket.html#socket.socket.sendto",children:"\xb6"})]}),"\n",(0,n.jsxs)(t.p,{children:["Send data to the socket. The socket should not be connected to a remote socket, since the destination socket is specified by ",(0,n.jsx)(t.em,{children:"address"}),"."]}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:["socket.recvfrom(",(0,n.jsx)(t.em,{children:"bufsize"}),")",(0,n.jsx)(t.a,{href:"https://docs.micropython.org/en/latest/library/socket.html#socket.socket.recvfrom",children:"\xb6"})]}),"\n",(0,n.jsxs)(t.p,{children:["Receive data from the socket. The return value is a pair ",(0,n.jsx)(t.em,{children:"(bytes, address)"})," where ",(0,n.jsx)(t.em,{children:"bytes"})," is a bytes object representing the data received and ",(0,n.jsx)(t.em,{children:"address"})," is the address of the socket sending the data."]}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:["socket.setsockopt(",(0,n.jsx)(t.em,{children:"level"}),", ",(0,n.jsx)(t.em,{children:"optname"}),", ",(0,n.jsx)(t.em,{children:"value"}),")",(0,n.jsx)(t.a,{href:"https://docs.micropython.org/en/latest/library/socket.html#socket.socket.setsockopt",children:"\xb6"})]}),"\n",(0,n.jsxs)(t.p,{children:["Set the value of the given socket option. The needed symbolic constants are defined in the socket module (SO_* etc.). The ",(0,n.jsx)(t.em,{children:"value"})," can be an integer or a bytes-like object representing a buffer."]}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:["socket.settimeout(",(0,n.jsx)(t.em,{children:"value"}),")",(0,n.jsx)(t.a,{href:"https://docs.micropython.org/en/latest/library/socket.html#socket.socket.settimeout",children:"\xb6"})]}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"Note"}),": Not every port supports this method, see below.Set a timeout on blocking socket operations. The value argument can be a nonnegative floating point number expressing seconds, or None. If a non-zero value is given, subsequent socket operations will raise an ",(0,n.jsx)(t.a,{href:"https://docs.micropython.org/en/latest/library/builtins.html#OSError",children:(0,n.jsx)(t.code,{children:"OSError"})})," exception if the timeout period value has elapsed before the operation has completed. If zero is given, the socket is put in non-blocking mode. If None is given, the socket is put in blocking mode.Not every ",(0,n.jsx)(t.a,{href:"https://docs.micropython.org/en/latest/reference/glossary.html#term-MicroPython-port",children:"MicroPython port"})," supports this method. A more portable and generic solution is to use ",(0,n.jsx)(t.a,{href:"https://docs.micropython.org/en/latest/library/select.html#select.poll",children:(0,n.jsx)(t.code,{children:"select.poll"})})," object. This allows to wait on multiple objects at the same time (and not just on sockets, but on generic ",(0,n.jsx)(t.a,{href:"https://docs.micropython.org/en/latest/reference/glossary.html#term-stream",children:(0,n.jsx)(t.code,{children:"stream"})})," objects which support polling). Example:",(0,n.jsx)(t.code,{children:"# Instead of: s.settimeout(1.0) # time in seconds s.read(10) # may timeout # Use: poller = select.poll() poller.register(s, select.POLLIN) res = poller.poll(1000) # time in milliseconds if not res:  # s is still not ready for input, i.e. operation timed out"}),"Difference to CPythonCPython raises a ",(0,n.jsx)(t.code,{children:"socket.timeout"})," exception in case of timeout, which is an ",(0,n.jsx)(t.a,{href:"https://docs.micropython.org/en/latest/library/builtins.html#OSError",children:(0,n.jsx)(t.code,{children:"OSError"})})," subclass. MicroPython raises an OSError directly instead. If you use ",(0,n.jsx)(t.code,{children:"except OSError:"})," to catch the exception, your code will work both in MicroPython and CPython."]}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:["socket.setblocking(",(0,n.jsx)(t.em,{children:"flag"}),")",(0,n.jsx)(t.a,{href:"https://docs.micropython.org/en/latest/library/socket.html#socket.socket.setblocking",children:"\xb6"})]}),"\n",(0,n.jsxs)(t.p,{children:["Set blocking or non-blocking mode of the socket: if flag is false, the socket is set to non-blocking, else to blocking mode.This method is a shorthand for certain ",(0,n.jsx)(t.a,{href:"https://docs.micropython.org/en/latest/library/socket.html#socket.socket.settimeout",children:(0,n.jsx)(t.code,{children:"settimeout()"})})," calls:",(0,n.jsx)(t.code,{children:"sock.setblocking(True)"})," is equivalent to ",(0,n.jsx)(t.code,{children:"sock.settimeout(None)``sock.setblocking(False)"})," is equivalent to ",(0,n.jsx)(t.code,{children:"sock.settimeout(0)"})]}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:["socket.makefile(",(0,n.jsx)(t.em,{children:"mode=\u2019rb\u2019"}),", ",(0,n.jsx)(t.em,{children:"buffering=0"}),", ",(0,n.jsx)(t.em,{children:"/"}),")",(0,n.jsx)(t.a,{href:"https://docs.micropython.org/en/latest/library/socket.html#socket.socket.makefile",children:"\xb6"})]}),"\n",(0,n.jsxs)(t.p,{children:["Return a file object associated with the socket. The exact returned type depends on the arguments given to makefile(). The support is limited to binary modes only (\u2018rb\u2019, \u2018wb\u2019, and \u2018rwb\u2019). CPython\u2019s arguments: ",(0,n.jsx)(t.em,{children:"encoding"}),", ",(0,n.jsx)(t.em,{children:"errors"})," and ",(0,n.jsx)(t.em,{children:"newline"})," are not supported.Difference to CPythonAs MicroPython doesn\u2019t support buffered streams, values of ",(0,n.jsx)(t.em,{children:"buffering"})," parameter is ignored and treated as if it was 0 (unbuffered).Difference to CPythonClosing the file object returned by makefile() WILL close the original socket as well."]}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:["socket.read(",(0,n.jsxs)(t.strong,{children:["[*",(0,n.jsx)(t.em,{children:"*size*"}),"*]"]}),")",(0,n.jsx)(t.a,{href:"https://docs.micropython.org/en/latest/library/socket.html#socket.socket.read",children:"\xb6"})]}),"\n",(0,n.jsxs)(t.p,{children:["Read up to size bytes from the socket. Return a bytes object. If ",(0,n.jsx)(t.em,{children:"size"})," is not given, it reads all data available from the socket until EOF; as such the method will not return until the socket is closed. This function tries to read as much data as requested (no \u201cshort reads\u201d). This may be not possible with non-blocking socket though, and then less data will be returned."]}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:["socket.readinto(",(0,n.jsx)(t.em,{children:"buf"}),"**[",(0,n.jsx)(t.strong,{children:", *nbytes*"}),"]**)",(0,n.jsx)(t.a,{href:"https://docs.micropython.org/en/latest/library/socket.html#socket.socket.readinto",children:"\xb6"})]}),"\n",(0,n.jsxs)(t.p,{children:["Read bytes into the ",(0,n.jsx)(t.em,{children:"buf"}),". If ",(0,n.jsx)(t.em,{children:"nbytes"})," is specified then read at most that many bytes. Otherwise, read at most ",(0,n.jsx)(t.em,{children:"len(buf)"})," bytes. Just as ",(0,n.jsx)(t.a,{href:"https://docs.micropython.org/en/latest/library/socket.html#socket.socket.read",children:(0,n.jsx)(t.code,{children:"read()"})}),", this method follows \u201cno short reads\u201d policy.Return value: number of bytes read and stored into ",(0,n.jsx)(t.em,{children:"buf"}),"."]}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:["socket.readline()",(0,n.jsx)(t.a,{href:"https://docs.micropython.org/en/latest/library/socket.html#socket.socket.readline",children:"\xb6"})]}),"\n",(0,n.jsx)(t.p,{children:"Read a line, ending in a newline character.Return value: the line read."}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:["socket.write(",(0,n.jsx)(t.em,{children:"buf"}),")",(0,n.jsx)(t.a,{href:"https://docs.micropython.org/en/latest/library/socket.html#socket.socket.write",children:"\xb6"})]}),"\n",(0,n.jsxs)(t.p,{children:["Write the buffer of bytes to the socket. This function will try to write all data to a socket (no \u201cshort writes\u201d). This may be not possible with a non-blocking socket though, and returned value will be less than the length of ",(0,n.jsx)(t.em,{children:"buf"}),".Return value: number of bytes written."]}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.em,{children:"exception"}),"socket.error",(0,n.jsx)(t.a,{href:"https://docs.micropython.org/en/latest/library/socket.html#socket.socket.error",children:"\xb6"})]}),"\n",(0,n.jsxs)(t.p,{children:["MicroPython does NOT have this exception.Difference to CPythonCPython used to have a ",(0,n.jsx)(t.code,{children:"socket.error"})," exception which is now deprecated, and is an alias of ",(0,n.jsx)(t.a,{href:"https://docs.micropython.org/en/latest/library/builtins.html#OSError",children:(0,n.jsx)(t.code,{children:"OSError"})}),". In MicroPython, use ",(0,n.jsx)(t.a,{href:"https://docs.micropython.org/en/latest/library/builtins.html#OSError",children:(0,n.jsx)(t.code,{children:"OSError"})})," directly."]}),"\n"]}),"\n"]})]})}function a(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},28453:(e,t,s)=>{s.d(t,{R:()=>i,x:()=>c});var n=s(96540);const o={},r=n.createContext(o);function i(e){const t=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),n.createElement(r.Provider,{value:t},e.children)}}}]);