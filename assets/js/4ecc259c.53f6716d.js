"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[9547],{73508:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>i,metadata:()=>l,toc:()=>o});var s=r(74848),t=r(28453);const i={sidebar_position:1},d="K230 SDK \u5e38\u89c1\u95ee\u9898\u89e3\u7b54\uff08C\uff09",l={id:"CanaanK230/part8/K230SDKFrequentlyAskedQuestions\uff08C\uff09",title:"K230 SDK \u5e38\u89c1\u95ee\u9898\u89e3\u7b54\uff08C\uff09",description:"1 TF boot failed with exit code 13",source:"@site/docs/CanaanK230/part8/01_K230SDKFrequentlyAskedQuestions\uff08C\uff09.md",sourceDirName:"CanaanK230/part8",slug:"/CanaanK230/part8/K230SDKFrequentlyAskedQuestions\uff08C\uff09",permalink:"/docs/CanaanK230/part8/K230SDKFrequentlyAskedQuestions\uff08C\uff09",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/CanaanK230/part8/01_K230SDKFrequentlyAskedQuestions\uff08C\uff09.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"canaanK230Sidebar",previous:{title:"8.\u5e38\u89c1\u95ee\u9898",permalink:"/docs/category/8\u5e38\u89c1\u95ee\u9898-1"},next:{title:"K230 nncase \u5e38\u89c1\u95ee\u9898\u89e3\u7b54",permalink:"/docs/CanaanK230/part8/K230nncaseFrequentlyAskedQuestions"}},c={},o=[{value:"1 TF boot failed with exit code 13",id:"1-tf-boot-failed-with-exit-code-13",level:2},{value:"2 bootrom\u542f\u52a8\u9519\u8bef\u7801",id:"2-bootrom\u542f\u52a8\u9519\u8bef\u7801",level:2},{value:"3 spi nor \u548c spi nand flash\u8bc6\u522b",id:"3-spi-nor-\u548c-spi-nand-flash\u8bc6\u522b",level:2},{value:"4 perf \u4f7f\u7528",id:"4-perf-\u4f7f\u7528",level:2},{value:"5\u5927\u6838\u8fd0\u884cvector linux",id:"5\u5927\u6838\u8fd0\u884cvector-linux",level:2},{value:"6 \u5927\u6838\u4e32\u53e3id",id:"6-\u5927\u6838\u4e32\u53e3id",level:2},{value:"7 uboot\u547d\u4ee4\u884c",id:"7-uboot\u547d\u4ee4\u884c",level:2},{value:"8 \u6162\u542f\u600e\u4e48\u53d8\u5feb\u542f\u52a8",id:"8-\u6162\u542f\u600e\u4e48\u53d8\u5feb\u542f\u52a8",level:2},{value:"9 linux\u5982\u4f55\u4fee\u6539\u6700\u540e\u4e00\u4e2a\u5206\u533a\u5927\u5c0f",id:"9-linux\u5982\u4f55\u4fee\u6539\u6700\u540e\u4e00\u4e2a\u5206\u533a\u5927\u5c0f",level:2},{value:"10\u5982\u4f55\u4fee\u6539bootargs",id:"10\u5982\u4f55\u4fee\u6539bootargs",level:2},{value:"11\u5982\u4f55\u67e5\u770bbootargs",id:"11\u5982\u4f55\u67e5\u770bbootargs",level:2},{value:"12\u5c0f\u6838\u9ed8\u8ba4\u4e32\u53e3\u4fee\u6539",id:"12\u5c0f\u6838\u9ed8\u8ba4\u4e32\u53e3\u4fee\u6539",level:2},{value:"13\u5982\u4f55\u5f7b\u5e95\u91cd\u7f16sdk",id:"13\u5982\u4f55\u5f7b\u5e95\u91cd\u7f16sdk",level:2},{value:"14 \u652f\u6301\u7684sensor list\u5728\u54ea\u91cc",id:"14-\u652f\u6301\u7684sensor-list\u5728\u54ea\u91cc",level:2},{value:"15canmmv\u677f\u5b50\u662f\u5426\u53ef\u4ee5\u4f7f\u7528\u5e73\u5934\u54e5\u7684cklink\u8fdb\u884cjtag\u8c03\u8bd5",id:"15canmmv\u677f\u5b50\u662f\u5426\u53ef\u4ee5\u4f7f\u7528\u5e73\u5934\u54e5\u7684cklink\u8fdb\u884cjtag\u8c03\u8bd5",level:2},{value:"16 \u5982\u4f55\u5feb\u901f\u7f16\u8bd1buildroot\u4e0b\u9762\u7684\u67d0\u4e00\u4e2a\u8f6f\u4ef6\u5305",id:"16-\u5982\u4f55\u5feb\u901f\u7f16\u8bd1buildroot\u4e0b\u9762\u7684\u67d0\u4e00\u4e2a\u8f6f\u4ef6\u5305",level:2},{value:"17 canmv\u5982\u4f55\u4ec5\u8fd0\u884crtt\u7cfb\u7edf\uff0c\u5e76\u4e14\u6302\u8f7dsd\u5361\uff1f",id:"17-canmv\u5982\u4f55\u4ec5\u8fd0\u884crtt\u7cfb\u7edf\u5e76\u4e14\u6302\u8f7dsd\u5361",level:2},{value:"18 linux\u4e0b\u5982\u4f55\u5feb\u901f\u9a8c\u8bc1\u4e0b\u4e32\u53e3\u6536\u53d1\u662f\u5426\u6b63\u5e38\uff1f",id:"18-linux\u4e0b\u5982\u4f55\u5feb\u901f\u9a8c\u8bc1\u4e0b\u4e32\u53e3\u6536\u53d1\u662f\u5426\u6b63\u5e38",level:2},{value:"19 \u5982\u4f55\u5feb\u901f\u4fee\u6539linux\u914d\u7f6e\uff1f",id:"19-\u5982\u4f55\u5feb\u901f\u4fee\u6539linux\u914d\u7f6e",level:2},{value:"20\u5927\u6838\u5982\u4f55\u5207\u6362\u81ea\u542f\u52a8\u7a0b\u5e8f",id:"20\u5927\u6838\u5982\u4f55\u5207\u6362\u81ea\u542f\u52a8\u7a0b\u5e8f",level:2},{value:"21\u662f\u5426\u53ef\u4ee5\u4f7f\u7528libxml2\uff1f",id:"21\u662f\u5426\u53ef\u4ee5\u4f7f\u7528libxml2",level:2},{value:"22 \u652f\u6301\u7684\u5c4f\u6709\u54ea\u4e9b\uff1f",id:"22-\u652f\u6301\u7684\u5c4f\u6709\u54ea\u4e9b",level:2}];function a(n){const e={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,t.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"k230-sdk-\u5e38\u89c1\u95ee\u9898\u89e3\u7b54c",children:"K230 SDK \u5e38\u89c1\u95ee\u9898\u89e3\u7b54\uff08C\uff09"})}),"\n",(0,s.jsx)(e.h2,{id:"1-tf-boot-failed-with-exit-code-13",children:"1 TF boot failed with exit code 13"}),"\n",(0,s.jsx)(e.p,{children:"\u95ee\u9898\uff1a TF\u5361\u542f\u52a8\u62a5boot failed with exit code 13\u9519\u8bef"}),"\n",(0,s.jsx)(e.p,{children:"\u7b54\uff1a\u539f\u56e0\u5982\u4e0b 1.\u542f\u52a8\u4ecb\u8d28\u91cc\u9762\u6587\u4ef6\u9519\u8bef\u30022.\u542f\u52a8\u7ba1\u811a\u8bbe\u7f6e\u9519\u8bef\u3002"}),"\n",(0,s.jsx)(e.p,{children:"TF\u5361\u542f\u52a8\u7ba1\u811a\u8bbe\u7f6e\u7279\u522b\u8bf4\u660e\uff1a \u4e24\u4e2a\u542f\u52a8\u7ba1\u811a\u7535\u5e73\u4e3a\u9ad8(\u9700\u8981\u62e8\u5230\u4e1d\u5370\u76841\u548c2\uff0c\u4e5f\u5c31\u662fON\u7684\u53cd\u65b9\u5411)\u65f6\u624d\u4f1a\u4eceTF\u5361\u542f\u52a8\u3002"}),"\n",(0,s.jsx)(e.h2,{id:"2-bootrom\u542f\u52a8\u9519\u8bef\u7801",children:"2 bootrom\u542f\u52a8\u9519\u8bef\u7801"}),"\n",(0,s.jsx)(e.p,{children:"\u95ee\u9898\uff1abootrom \u542f\u52a8\u9519\u8bef\u7801\u542b\u4e49\u662f\u4ec0\u4e48\uff1f"}),"\n",(0,s.jsx)(e.p,{children:"bootrom\u5f15\u5bfc\u5931\u8d25\u65f6\u4f1a\u6253\u5370\u7c7b\u4f3c\u4e0b\u9762\u9519\u8bef boot failed with exit code 19\uff0c\u6700\u540e\u7684\u6570\u5b57\u662f\u9519\u8bef\u539f\u56e0\uff0c\u5e38\u89c1\u9519\u8bef\u542b\u4e49\u5982\u4e0b"}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"\u503c"}),(0,s.jsx)(e.th,{children:"\u542b\u4e49"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"13"}),(0,s.jsx)(e.td,{children:"\u542f\u52a8\u4ecb\u8d28\u91cc\u9762\u6587\u4ef6\u9519\u8bef"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"19"}),(0,s.jsx)(e.td,{children:"\u542f\u52a8\u4ecb\u8d28\u521d\u59cb\u5316\u5931\u8d25\uff0c\u6bd4\u5982\u6ca1\u6709\u63d2sd\u5361\u7b49"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"17"}),(0,s.jsx)(e.td,{children:"otp\u8981\u6c42\u5fc5\u9700\u662f\u5b89\u5168\u955c\u50cf\uff0c\u4f46\u662f\u4ecb\u8d28\u91cc\u9762\u6587\u4ef6\u662f\u975e\u5b89\u5168\u955c\u50cf"})]})]})]}),"\n",(0,s.jsx)(e.h2,{id:"3-spi-nor-\u548c-spi-nand-flash\u8bc6\u522b",children:"3 spi nor \u548c spi nand flash\u8bc6\u522b"}),"\n",(0,s.jsx)(e.p,{children:"\u95ee\u9898\uff1a \u600e\u4e48\u77e5\u9053evb\u677f\u4e0a\u8fde\u63a5\u7684\u662fspi nor\u8fd8\u662fspi nand flash\uff1f"}),"\n",(0,s.jsx)(e.p,{children:"\u7b54\uff1a\u65b9\u6cd51\uff1a\u5b50\u677f\u4e1d\u5370\u4e0d\u4e00\u6837\uff0c\u4e1d\u5370\u4f1a\u6709nor\u6216nand\u6807\u8bc6\u3002"}),"\n",(0,s.jsx)(e.p,{children:"\u65b9\u6cd52\uff1alinux\u542f\u52a8log\u4f1a\u6709\u6253\u5370\uff0c\u6bd4\u5982\u8fde\u63a5spi nor\u65f6\u4f1a\u6709\u7c7b\u4f3c\u4e0b\u9762\u6253\u5370"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:'[root@canaan ~ ]#dmesg | grep spi\n[    1.299989] spi spi0.0: setup mode 0, 8 bits/w, 100000000 Hz max --\x3e 0\n[    1.306704] spi-nor spi0.0: gd25lx256e (32768 Kbytes)\n[    1.311786] 2 fixed-partitions partitions found on MTD device spi0.0\n[    1.318147] Creating 2 MTD partitions on "spi0.0":\n'})}),"\n",(0,s.jsx)(e.h2,{id:"4-perf-\u4f7f\u7528",children:"4 perf \u4f7f\u7528"}),"\n",(0,s.jsx)(e.p,{children:"\u95ee\u9898\uff1aperf\u5982\u4f55\u7f16\u8bd1\uff0c\u652f\u6301\u90a3\u4e9b\u786c\u4ef6\u4e8b\u4ef6\uff1f"}),"\n",(0,s.jsx)(e.p,{children:"\u7b54\uff1aperf\u7684\u65f6\u5019\u53ef\u4ee5\u4f7f\u7528raw\u4e8b\u4ef6\uff0c\u6bd4\u5982perf stat -e r12 ,perf\u5de5\u5177\u7f16\u8bd1\u547d\u4ee4\u5982\u4e0b:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"cd src/little/linux/tools\nmake CROSS_COMPILE=riscv64-unknown-linux-gnu- ARCH=riscv perf V=1 WERROR=0\n#\u76ee\u6807\u6587\u4ef6\u662f  perf/perf \uff0c\u628a\u8fd9\u4e2a\u6587\u4ef6\u590d\u5236\u5230\u677f\u5b50\u4e0a\u5c31\u53ef\u4ee5\u4e86\u3002\n"})}),"\n",(0,s.jsx)(e.p,{children:"\u7279\u522b\u8bf4\u660e\uff1a1.1\u4ee5\u524d\u7248\u672c\u8fdb\u884c\u5982\u4e0b\u4fee\u6539"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:'#src/little/linux/arch/riscv/boot/dts/kendryte/k230_evb.dtsi \u6dfb\u52a0\u5982\u4e0b\u5185\u5bb9\npmu_thead: pmu_thead {\n    interrupt-parent = <&cpu0_intc>;\n    interrupts = <17>;\n    compatible = "thead,c900_pmu";\n};\n#src/little/linux/arch/riscv/configs/k230_evb_defconfig  \u6587\u4ef6\u589e\u52a0\u5982\u4e0b\u914d\u7f6e\nCONFIG_KALLSYMS=y\nCONFIG_KALLSYMS_ALL=y\nCONFIG_PERF_EVENTS=y\nCONFIG_DEBUG_PERF_USE_VMALLOC=y\nCONFIG_KUSER_HELPERS=y\nCONFIG_DEBUG_INFO=y\nCONFIG_FRAME_POINTER=y\n'})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"[root@canaan ~ ]#perf list hw cache  > a ;cat a\n  branch-instructions OR branches                    [Hardware event]\n  branch-misses                                      [Hardware event]\n  bus-cycles                                         [Hardware event]\n  cache-misses                                       [Hardware event]\n  cache-references                                   [Hardware event]\n  cpu-cycles OR cycles                               [Hardware event]\n  instructions                                       [Hardware event]\n  ref-cycles                                         [Hardware event]\n  stalled-cycles-backend OR idle-cycles-backend      [Hardware event]\n  stalled-cycles-frontend OR idle-cycles-frontend    [Hardware event]\n  L1-dcache-load-misses                              [Hardware cache event]\n  L1-dcache-loads                                    [Hardware cache event]\n  L1-dcache-store-misses                             [Hardware cache event]\n  L1-dcache-stores                                   [Hardware cache event]\n  L1-icache-load-misses                              [Hardware cache event]\n  L1-icache-loads                                    [Hardware cache event]\n  LLC-load-misses                                    [Hardware cache event]\n  LLC-loads                                          [Hardware cache event]\n  LLC-store-misses                                   [Hardware cache event]\n  LLC-stores                                         [Hardware cache event]\n  dTLB-load-misses                                   [Hardware cache event]\n  dTLB-loads                                         [Hardware cache event]\n  dTLB-store-misses                                  [Hardware cache event]\n  dTLB-stores                                        [Hardware cache event]\n  iTLB-load-misses                                   [Hardware cache event]\n  iTLB-loads                                         [Hardware cache event]\n[root@canaan ~ ]#\n"})}),"\n",(0,s.jsx)(e.h2,{id:"5\u5927\u6838\u8fd0\u884cvector-linux",children:"5\u5927\u6838\u8fd0\u884cvector linux"}),"\n",(0,s.jsx)(e.p,{children:"\u95ee\u9898\uff1a\u5927\u6838\u5982\u4f55\u8fd0\u884c\u5e26vector\u7684linux\uff1f"}),"\n",(0,s.jsx)(e.p,{children:"\u7b54\uff1a\u8bf7\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u7f16\u8bd1"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"make CONF=k230_canmv_only_linux_defconfig\n#k230_canmv_only_linux_defconfig \u5bf9\u5e94\u7684\u662f\u5e26vector\u5927\u6838linux\u955c\u50cf\n"})}),"\n",(0,s.jsx)(e.h2,{id:"6-\u5927\u6838\u4e32\u53e3id",children:"6 \u5927\u6838\u4e32\u53e3id"}),"\n",(0,s.jsx)(e.p,{children:"\u95ee\u9898\uff1a\u600e\u4e48\u4fee\u6539\u5927\u6838\u7684\u4e32\u53e3id\uff1f"}),"\n",(0,s.jsx)(e.p,{children:"\u7b54\uff1aconfigs\u4e0b\u9762\u914d\u7f6e\u6587\u4ef6 CONFIG_RTT_CONSOLE_ID\u4ee3\u8868\u5927\u6838\u4e32\u53e3id\uff0c\u4fee\u6539\u4e3a\u6b63\u786e\u7684\u503c\u5c31\u53ef\u4ee5\u4e86\u3002"}),"\n",(0,s.jsx)(e.h2,{id:"7-uboot\u547d\u4ee4\u884c",children:"7 uboot\u547d\u4ee4\u884c"}),"\n",(0,s.jsx)(e.p,{children:"\u600e\u4e48\u7f16\u8bd1\u53ef\u4ee5\u8fdb\u5165uboot\u547d\u4ee4\u884c\u7684\u7248\u672c"}),"\n",(0,s.jsx)(e.p,{children:"\u7b54\uff1a configs\u4e0b\u9762\u914d\u7f6e\u6587\u4ef6 CONFIG_QUICK_BOOT\u4ee3\u8868\u5feb\u8d77\uff0c\u4fee\u6539\u4e3aCONFIG_QUICK_BOOT=n \u5c31\u53ef\u4ee5\u751f\u6210\u53ef\u8fdb\u53bbuboot\u547d\u4ee4\u884c\u7248\u672c\u3002"}),"\n",(0,s.jsx)(e.h2,{id:"8-\u6162\u542f\u600e\u4e48\u53d8\u5feb\u542f\u52a8",children:"8 \u6162\u542f\u600e\u4e48\u53d8\u5feb\u542f\u52a8"}),"\n",(0,s.jsx)(e.p,{children:"\u7b54\uff1a\u8fdb\u5165uboot\u547d\u4ee4\u884c\u6267\u884c\u5982\u4e0b\u547d\u4ee4\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"setenv quick_boot true;saveenv;reset;\n"})}),"\n",(0,s.jsx)(e.h2,{id:"9-linux\u5982\u4f55\u4fee\u6539\u6700\u540e\u4e00\u4e2a\u5206\u533a\u5927\u5c0f",children:"9 linux\u5982\u4f55\u4fee\u6539\u6700\u540e\u4e00\u4e2a\u5206\u533a\u5927\u5c0f"}),"\n",(0,s.jsx)(e.p,{children:"\u7b54\uff1a\u4f7f\u7528parted\u5de5\u5177\u53ef\u4ee5\u52a8\u6001\u4fee\u6539\u6700\u540e\u4e00\u4e2a\u5206\u533a\u5927\u5c0f\uff0c\u53c2\u8003\u547d\u4ee4\u5982\u4e0b\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"umount /sharefs/\nparted   -l /dev/mmcblk1\nparted  -a minimal  /dev/mmcblk1  resizepart 4  31.3GB\nmkfs.ext2 /dev/mmcblk1p4\nmount /dev/mmcblk1p4 /sharefs\n#\u53c2\u8003\u64cd\u4f5clog\u5982\u4e0b\n[root@canaan ~ ]#parted   -l /dev/mmcblk1\nModel: SD SD32G (sd/mmc)\nDisk /dev/mmcblk1: 31.3GB\nSector size (logical/physical): 512B/512B\nPartition Table: gpt\nDisk Flags: \n \nNumber  Start   End     Size    File system  Name        Flags\n 1      10.5MB  31.5MB  21.0MB               rtt\n 2      31.5MB  83.9MB  52.4MB               linux\n 3      134MB   218MB   83.9MB  ext4         rootfs\n 4      218MB   487MB   268MB   fat16        fat32appfs\n \n \n[root@canaan ~ ]#umount /sharefs/\n[root@canaan ~ ]#parted  -a minimal  /dev/mmcblk1  resizepart 4  31.3GB\nInformation: You may need to update /etc/fstab.\n \n[root@canaan ~ ]#parted   -l /dev/mmcblk1\nModel: SD SD32G (sd/mmc)\nDisk /dev/mmcblk1: 31.3GB\nSector size (logical/physical): 512B/512B\nPartition Table: gpt\nDisk Flags: \n \nNumber  Start   End     Size    File system  Name        Flags\n 1      10.5MB  31.5MB  21.0MB               rtt\n 2      31.5MB  83.9MB  52.4MB               linux\n 3      134MB   218MB   83.9MB  ext4         rootfs\n 4      218MB   31.3GB  31.1GB  fat16        fat32appfs\n \n \n[root@canaan ~ ]#mkfs.ext2 /dev/mmcblk1p4\nFilesystem label=\nOS type: Linux\nBlock size=4096 (log=2)\nFragment size=4096 (log=2)\n1896832 inodes, 7586811 blocks\n379340 blocks (5%) reserved for the super user\nFirst data block=0\nMaximum filesystem blocks=8388608\n232 block groups\n32768 blocks per group, 32768 fragments per group\n8176 inodes per group\nSuperblock backups stored on blocks:\n32768, 98304, 163840, 229376, 294912, 819200, 884736, 1605632, 2654208, 4096000\n[root@canaan ~ ]#parted   -l /dev/mmcblk1\nModel: SD SD32G (sd/mmc)\nDisk /dev/mmcblk1: 31.3GB\nSector size (logical/physical): 512B/512B\nPartition Table: gpt\nDisk Flags: \n \nNumber  Start   End     Size    File system  Name        Flags\n 1      10.5MB  31.5MB  21.0MB               rtt\n 2      31.5MB  83.9MB  52.4MB               linux\n 3      134MB   218MB   83.9MB  ext4         rootfs\n 4      218MB   31.3GB  31.1GB  ext2         fat32appfs\n \n \n[root@canaan ~ ]#mount /dev/mmcblk1p4 /sharefs/\n[  332.688642] EXT4-fs (mmcblk1p4): mounted filesystem without journal. Opts: (null)\n[root@canaan ~ ]#df -h\nFilesystem                Size      Used Available Use% Mounted on\n/dev/root                73.5M     60.9M     10.2M  86% /\ndevtmpfs                 41.7M         0     41.7M   0% /dev\ntmpfs                    51.8M         0     51.8M   0% /dev/shm\ntmpfs                    51.8M     56.0K     51.7M   0% /tmp\ntmpfs                    51.8M     36.0K     51.7M   0% /run\n/dev/mmcblk1p4           28.5G     20.0K     27.0G   0% /sharefs\n[root@canaan ~ ]#\n \n"})}),"\n",(0,s.jsx)(e.h2,{id:"10\u5982\u4f55\u4fee\u6539bootargs",children:"10\u5982\u4f55\u4fee\u6539bootargs"}),"\n",(0,s.jsx)(e.p,{children:"\u7b54\uff1a\u65b9\u6cd51\uff1a\u4fee\u6539\u4f7f\u7528env\u6587\u4ef6\u91cc\u9762\u7684bootargs \u3002\u6bd4\u5982\u53ef\u4ee5\u5728board/common/env/default.env\u6587\u4ef6\u91cc\u9762\u6dfb\u52a0\u5982\u4e0b\u5185\u5bb9\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"bootargs=root=/dev/mmcblk1p3 loglevel=8 rw rootdelay=4 rootfstype=ext4 console=ttyS0,115200 earlycon=sbi\uff1b\n"})}),"\n",(0,s.jsx)(e.p,{children:"\u65b9\u6cd52\uff1a\u8fdb\u5165uboot\u547d\u4ee4\u884c\uff0c\u53c2\u8003\u4e0b\u9762\u547d\u4ee4\u4fee\u6539bootargs\u3002"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:'setenv bootargs  "root=/dev/mmcblk1p3 loglevel=8 rw rootdelay=4 rootfstype=ext4 console=ttyS0,115200 earlycon=sbi" ;saveenv;reset;\n'})}),"\n",(0,s.jsx)(e.h2,{id:"11\u5982\u4f55\u67e5\u770bbootargs",children:"11\u5982\u4f55\u67e5\u770bbootargs"}),"\n",(0,s.jsx)(e.p,{children:"\u7b54\uff1a\u65b9\u6cd51\uff1alinux\u4e0b \u8f93\u5165cat /proc/cmdline \u67e5\u770b"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"[root@canaan ~ ]#cat /proc/cmdline \nroot=/dev/mmcblk0p3 loglevel=8 rw rootdelay=4 rootfstype=ext4 console=ttyS0,115200 crashkernel=256M-:128M earlycon=sbi\n[root@canaan ~ ]#\n"})}),"\n",(0,s.jsx)(e.p,{children:"\u65b9\u6cd52\uff1alinux\u547d\u4ee4\u884c\u8f93\u5165 dmesg | grep command\u67e5\u770b"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"[root@canaan ~ ]#dmesg | grep  command\n[    0.000000] Kernel command line: root=/dev/mmcblk0p3 loglevel=8 rw rootdelay=4 rootfstype=ext4 console=ttyS0,115200 crashkernel=256M-:128M earlycon=sbi\n[root@canaan \n"})}),"\n",(0,s.jsx)(e.h2,{id:"12\u5c0f\u6838\u9ed8\u8ba4\u4e32\u53e3\u4fee\u6539",children:"12\u5c0f\u6838\u9ed8\u8ba4\u4e32\u53e3\u4fee\u6539"}),"\n",(0,s.jsx)(e.p,{children:"\u7b54\uff1a\u76ee\u524dsdk\u91cc\u9762\u5c0f\u6838\u4e32\u53e3\u9ed8\u8ba40\uff0c\u5982\u679c\u9700\u8981\u4fee\u6539\u6210\u5176\u4ed6\u4e32\u53e3(\u6bd4\u5982\u4e32\u53e32)\uff0c\u8bf7\u53c2\u8003\u4e0b\u9762\u8fdb\u884c\u4fee\u6539\uff1a"}),"\n",(0,s.jsx)(e.p,{children:"\u4fee\u65391\uff1a\u53c2\u8003\u4e0b\u9762\u4fee\u6539uboot\u8bbe\u5907\u6811(\u6bd4\u5982arch/riscv/dts/k230_evb.dts)\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:'aliases {\n        uart2 = &serial2;\n    };\n\n    chosen {\n        stdout-path = "uart2:115200n8";\n    };\n    \n    serial2: serial@91402000 {\n    compatible = "snps,dw-apb-uart";\n    reg = <0x0 0x91402000 0x0 0x400>;\n    clock-frequency = <50000000>;\n    clock-names = "baudclk";\n    reg-shift = <2>;\n    reg-io-width = <4>;\n    u-boot,dm-pre-reloc;\n};\n'})}),"\n",(0,s.jsx)(e.p,{children:"\u4fee\u65392\uff1a\u53c2\u8003\u4e0b\u9762\u4fee\u6539linux\u8bbe\u5907\u6811(\u6bd4\u5982arch/riscv/boot/dts/kendryte/k230_evb.dts)"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:'aliases {\n        serial2 = &uart2;\n    };\nchosen {\n        stdout-path = "serial2";\n    };\n    \n&uart2 {\n    status = "okay";\n};\n'})}),"\n",(0,s.jsx)(e.p,{children:"\u4fee\u65393\uff1a \u4fee\u6539\u4f7f\u7528env\u6587\u4ef6\u91cc\u9762\u7684bootargs (\u53c2\u80032.10)\u3002"}),"\n",(0,s.jsx)(e.p,{children:"\u6bd4\u5982\u53ef\u4ee5\u5728board/common/env/default.env\u6587\u4ef6\u91cc\u9762\u6dfb\u52a0\u5982\u4e0b\u5185\u5bb9\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"bootargs=root=/dev/mmcblk1p3 loglevel=8 rw rootdelay=4 rootfstype=ext4 console=ttyS2,115200 earlycon=sbi\uff1b\n"})}),"\n",(0,s.jsx)(e.h2,{id:"13\u5982\u4f55\u5f7b\u5e95\u91cd\u7f16sdk",children:"13\u5982\u4f55\u5f7b\u5e95\u91cd\u7f16sdk"}),"\n",(0,s.jsx)(e.p,{children:"\u7b54\uff1a\u66f4\u65b0\u4fee\u6539SDK\u6e90\u4ee3\u7801\u4e4b\u540e\uff0c\u6216\u8005\u4fee\u6539SDK\u6e90\u4ee3\u7801\u4e4b\u540e\uff0c\u5efa\u8bae\u8f93\u5165\u5982\u4e0b\u547d\u4ee4\u5f7b\u5e95\u91cd\u7f16\u4e0bsdk\u3002"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"make clean; make;\n"})}),"\n",(0,s.jsx)(e.h2,{id:"14-\u652f\u6301\u7684sensor-list\u5728\u54ea\u91cc",children:"14 \u652f\u6301\u7684sensor list\u5728\u54ea\u91cc"}),"\n",(0,s.jsxs)(e.p,{children:["\u7b54\uff1a\u8bf7\u53c2\u8003 ",(0,s.jsx)(e.a,{href:"https://developer.canaan-creative.com/k230/zh/dev/01_software/board/mpp/K230_Camera_Sensor%E9%80%82%E9%85%8D%E6%8C%87%E5%8D%97.html",children:"K230_Camera_Sensor\u9002\u914d\u6307\u5357"})," \u7b2c4.1\u7ae0\u8282\u201c\u652f\u6301\u7684sensor\u7c7b\u578b\u201d\uff0c\u76ee\u524d\u652f\u6301"]}),"\n",(0,s.jsx)(e.p,{children:"ov9732"}),"\n",(0,s.jsx)(e.p,{children:"ov9286"}),"\n",(0,s.jsx)(e.p,{children:"imx335"}),"\n",(0,s.jsx)(e.p,{children:"sc035"}),"\n",(0,s.jsx)(e.p,{children:"ov5647"}),"\n",(0,s.jsx)(e.p,{children:"sc201"}),"\n",(0,s.jsx)(e.h2,{id:"15canmmv\u677f\u5b50\u662f\u5426\u53ef\u4ee5\u4f7f\u7528\u5e73\u5934\u54e5\u7684cklink\u8fdb\u884cjtag\u8c03\u8bd5",children:"15canmmv\u677f\u5b50\u662f\u5426\u53ef\u4ee5\u4f7f\u7528\u5e73\u5934\u54e5\u7684cklink\u8fdb\u884cjtag\u8c03\u8bd5"}),"\n",(0,s.jsx)(e.p,{children:"\u7b54\uff1a\u9ed8\u8ba4\u4e0d\u53ef\u4ee5(uboot\u4f1a\u5173\u95edjtag\u529f\u80fd)\uff0c\u9700\u8981\u8fdb\u884c\u5982\u4e0b\u4fee\u6539\u624d\u53ef\u4ee5\u4f7f\u7528\u5e73\u5934\u54e5cklink\u8fdb\u884cjtag\u8c03\u8bd5\u3002"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"    #src/little/uboot/arch/riscv/dts/k230_canmv.dts \u6587\u4ef6gpio5\u548cgipi6\u4fee\u6539\u4e3a\u5982\u4e0b\u5185\u5bb9\n    (IO5 ) ( 1<<SEL | 0<<SL | BANK_VOLTAGE_IO2_IO13 <<MSC | 1<<IE | 0<<OE | 0<<PU | 0<<PD | 4<<DS | 0<<ST )\n    (IO6 ) ( 1<<SEL | 0<<SL | BANK_VOLTAGE_IO2_IO13 <<MSC | 1<<IE | 0<<OE | 1<<PU | 0<<PD | 4<<DS | 0<<ST )\n"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"\u4fee\u6539\u5b8c\u540e\u9700\u8981\u91cd\u65b0\u7f16\u8bd1uboot\u4ee3\u7801"}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"16-\u5982\u4f55\u5feb\u901f\u7f16\u8bd1buildroot\u4e0b\u9762\u7684\u67d0\u4e00\u4e2a\u8f6f\u4ef6\u5305",children:"16 \u5982\u4f55\u5feb\u901f\u7f16\u8bd1buildroot\u4e0b\u9762\u7684\u67d0\u4e00\u4e2a\u8f6f\u4ef6\u5305"}),"\n",(0,s.jsx)(e.p,{children:"\u7b54\uff1a\u53c2\u8003\u5982\u4e0b\u547d\u4ee4\u5feb\u901f\u91cd\u7f16buildroot\u4e0b\u9762\u7684\u67d0\u4e00\u4e2a\u8f6f\u4ef6\u5305"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"    #\u91cd\u7f16lvgl\u8f6f\u4ef6\u5305\u547d\u4ee4\u53c2\u8003,   \n    cd output/k230_canmv_defconfig/little/buildroot-ext/; #\u4ee5k230_canmv_defconfig \u4e3a\u4f8b\n    make  lvgl-dirclean;\n    make  lvgl && make;\n    cd -  #\u5207\u6362\u5230sdk\u4e3b\u76ee\u5f55\uff1b\n    make build-image #\u91cd\u65b0\u751f\u6210\u4e0b\u955c\u50cf    \n"})}),"\n",(0,s.jsx)(e.p,{children:"\u66f4\u591a\u4fe1\u606f\u8bf7\u767e\u5ea6\u641c\u7d22buildroot how to rebuild packages\u3002"}),"\n",(0,s.jsx)(e.h2,{id:"17-canmv\u5982\u4f55\u4ec5\u8fd0\u884crtt\u7cfb\u7edf\u5e76\u4e14\u6302\u8f7dsd\u5361",children:"17 canmv\u5982\u4f55\u4ec5\u8fd0\u884crtt\u7cfb\u7edf\uff0c\u5e76\u4e14\u6302\u8f7dsd\u5361\uff1f"}),"\n",(0,s.jsx)(e.p,{children:"\u7b54\uff1a\u8bf7\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u7f16\u8bd1"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"make CONF=k230_canmv_only_rtt_defconfig\n#k230_canmv_only_rtt_defconfig\u5bf9\u5e94\u955c\u50cf\u4ec5\u8fd0\u884crtt\u7cfb\u7edf\uff0c\u5e76\u4e14rtt\u6302\u8f7dsd\u3002\n"})}),"\n",(0,s.jsx)(e.h2,{id:"18-linux\u4e0b\u5982\u4f55\u5feb\u901f\u9a8c\u8bc1\u4e0b\u4e32\u53e3\u6536\u53d1\u662f\u5426\u6b63\u5e38",children:"18 linux\u4e0b\u5982\u4f55\u5feb\u901f\u9a8c\u8bc1\u4e0b\u4e32\u53e3\u6536\u53d1\u662f\u5426\u6b63\u5e38\uff1f"}),"\n",(0,s.jsx)(e.p,{children:"\u7b54\uff1a\u53c2\u8003\u5982\u4e0b\u547d\u4ee4\uff0c"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"#\u4ee5\u4e32\u53e32\u4e3a\u4f8b,\u8bf7\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u4fee\u6539\u547d\u4ee4\nstty -a  -F  /dev/ttyS2  #\u67e5\u770b\u4e32\u53e3\u914d\u7f6e\uff1b\nstty  -F  /dev/ttyS2 115200   #\u8bbe\u7f6e\u4e0b\u6ce2\u7279\u7387\uff0c\u9ed8\u8ba49600\necho 00000000000000000000000000000011111111111111 > /dev/ttyS2  #\u53d1\u9001\u5b57\u7b26\u4e32\uff0c\u7535\u8111\u53ef\u4ee5\u6536\u5230\u6b63\u786e\u6570\u636e\ncat  /dev/ttyS2   #\u63a5\u53d7\u4e32\u53e3\u6570\u636e\n"})}),"\n",(0,s.jsx)(e.h2,{id:"19-\u5982\u4f55\u5feb\u901f\u4fee\u6539linux\u914d\u7f6e",children:"19 \u5982\u4f55\u5feb\u901f\u4fee\u6539linux\u914d\u7f6e\uff1f"}),"\n",(0,s.jsx)(e.p,{children:"\u7b54\uff1a 1).Makefile\u91cc\u9762linux-savedefconfig\u76ee\u6807\u4fee\u6539\u4e3a\u5982\u4e0b\u5185\u5bb9(382\u884c\u9644\u8fd1)\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"linux-savedefconfig:\n\tcd $(LINUX_SRC_PATH); \\\n\tmake O=$(LINUX_BUILD_DIR) CROSS_COMPILE=$(LINUX_EXEC_PATH)/$(LINUX_CC_PREFIX) ARCH=riscv savedefconfig; \\\n\tcp $(LINUX_BUILD_DIR)/defconfig  arch/riscv/configs/$(LINUX_KERNEL_DEFCONFIG);\\\n\tcd -\n"})}),"\n",(0,s.jsx)(e.p,{children:"2).\u4fee\u6539\u4fdd\u5b58linux\u914d\u7f6e"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"make linux-menuconfig #\u4fee\u6539linux\u914d\u7f6e\nmake linux-savedefconfig #\u4fdd\u5b58linux\u914d\u7f6e\n"})}),"\n",(0,s.jsx)(e.h2,{id:"20\u5927\u6838\u5982\u4f55\u5207\u6362\u81ea\u542f\u52a8\u7a0b\u5e8f",children:"20\u5927\u6838\u5982\u4f55\u5207\u6362\u81ea\u542f\u52a8\u7a0b\u5e8f"}),"\n",(0,s.jsx)(e.p,{children:"\u7b54\uff1a \u5982\u679c\u81ea\u542f\u52a8\u7a0b\u5e8f\u5728/bin\u76ee\u5f55\u4e0b\uff0c\u4fee\u6539\u65b9\u6cd5\u5982\u4e0b\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"//src/big/rt-smart/init.sh \u6587\u4ef6\u91cc\u9762\u4fee\u6539\u4e3a\u4f60\u9700\u8981\u81ea\u542f\u52a8\u7684\u7a0b\u5e8f\uff0c\u6bd4\u5982\u4fee\u6539\u4e3a\n/bin/fastboot_app.elf /bin/test.kmodel\n"})}),"\n",(0,s.jsx)(e.p,{children:"\u5982\u679c\u81ea\u542f\u52a8\u7a0b\u5728\u5171\u4eab\u6587\u4ef6\u7cfb\u7edf\u91cc\u9762\uff0c\u9700\u8981\u4fee\u65392\u4e2a\u5730\u65b9\uff0c\u53c2\u8003\u4fee\u6539\u65b9\u6cd5\u5982\u4e0b\uff1a"}),"\n",(0,s.jsx)(e.p,{children:"\u4fee\u65391\uff1a\u4fee\u6539src/big/rt-smart/init.sh\u6587\u4ef6"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"//src/big/rt-smart/init.sh \u6587\u4ef6\u91cc\u9762\u4fee\u6539\u4e3a\u7c7b\u4f3c\u5982\u4e0b\u5185\u5bb9\ncd /sdcard/app/onboard\n./sample_vo.elf\n/sharefs/onboard/xxxx.sh\n"})}),"\n",(0,s.jsx)(e.p,{children:"\u4fee\u65392 \u6dfb\u52a0\u7b49\u5f85\u5171\u4eab\u6587\u4ef6\u7cfb\u7edf\u52a8\u4f5c\uff08\u9002\u5e94\u4e8esdk 1.5\u53ca\u4ee5\u540e\u7248\u672c\uff09"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:'//src/big/rt-smart/kernel/bsp/maix3/applications/main.c \u6587\u4ef6 34\u884c\u9644\u8fd1 \u4fee\u6539\u4e3a\u5982\u4e0b\uff1a\n        \n    struct stat stat_buf;\n    while(stat("/sharefs/onboard",&stat_buf));// \u8bf7\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u4fee\u6539\u4e3a\u6b63\u786e\u7684\u6587\u4ef6 \n    msh_exec("/bin/init.sh", 13); // \u9700\u8981\u81ea\u542f\u52a8\u7684\u811a\u672c,\u8bf7\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u4fee\u6539\u4e3a\u6b63\u786e\u7684\u6587\u4ef6\n'})}),"\n",(0,s.jsx)(e.p,{children:"\u4fee\u65392 \u6dfb\u52a0\u7b49\u5f85\u5171\u4eab\u6587\u4ef6\u7cfb\u7edf\u52a8\u4f5c\uff08\u9002\u5e94\u4e8esdk 1.4\u53ca\u4ee5\u524d\u7248\u672c\uff09"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:'//src/big/rt-smart/kernel/rt-thread/components/finsh/shell.c \u6587\u4ef6 456\u884c\u9644\u8fd1 \u4fee\u6539\u4e3a\u5982\u4e0b\uff1a\n        if(shell_thread_first_run) {\n            struct stat stat_buf;\n            // shell_thread_first_run = 0;\n            // msh_exec("/bin/init.sh", 13);\n            if(0 == stat("/sharefs/onboard",&stat_buf)){ // \u8bf7\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u4fee\u6539\u4e3a\u6b63\u786e\u7684\u6587\u4ef6\n                shell_thread_first_run = 0;               \n                msh_exec("/bin/init.sh", 13); // \u9700\u8981\u81ea\u542f\u52a8\u7684\u811a\u672c,\u8bf7\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u4fee\u6539\u4e3a\u6b63\u786e\u7684\u6587\u4ef6\n            }\n            continue;\n        }\n'})}),"\n",(0,s.jsx)(e.h2,{id:"21\u662f\u5426\u53ef\u4ee5\u4f7f\u7528libxml2",children:"21\u662f\u5426\u53ef\u4ee5\u4f7f\u7528libxml2\uff1f"}),"\n",(0,s.jsx)(e.p,{children:"\u7b54\uff1a\u53ef\u4ee5\uff0c\u53c2\u8003\u4e0b\u9762\u65b9\u6cd5\u5728buildroot\u91cc\u9762\u4f7f\u80fdBR2_PACKAGE_LIBXML2\u5c31\u53ef\u4ee5\u4f7f\u7528\u4e86\u3002"}),"\n",(0,s.jsx)(e.p,{children:"\u4f7f\u80fdlibxml2\u65b9\u6cd51\uff1a\u5907\u6ce8sdk\u5df2\u7ecf\u7f16\u8bd1\u8fc7"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"#\u4f7f\u7528libxml2\u65b9\u6cd5(\u4ee5k230_canmv_defconfig\u4e3a\u4f8b),\u5728sdk\u4e3b\u76ee\u5f55\u6267\u884c\u4e0b\u9762\u547d\u4ee4\nmake -C output/k230_canmv_defconfig/little/buildroot-ext/ menuconfig\n#Target packages --\x3eLibraries---\x3eJSON/XML--\x3e libxml2 \n#\u4f7f\u80fdlibxml2 \u5e93\uff0c\u5e76\u4fdd\u5b58\u914d\u7f6e\uff1b\nmake -C output/k230_canmv_defconfig/little/buildroot-ext/ savedefconfig  #\u4fdd\u5b58\u914d\u7f6e\nmake -C output/k230_canmv_defconfig/little/buildroot-ext/  #\u7f16\u8bd1buildroot\nmake build-image\n"})}),"\n",(0,s.jsx)(e.p,{children:"\u4f7f\u80fdlibxml2\u65b9\u6cd52\uff1asdk\u6ca1\u6709\u7f16\u8bd1\u8fc7"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:'#\u4f7f\u7528libxml2\u65b9\u6cd5(\u4ee5k230_canmv_defconfig\u4e3a\u4f8b) \u5728sdk\u4e3b\u76ee\u5f55\u6267\u884c\u4e0b\u9762\u547d\u4ee4\necho "BR2_PACKAGE_LIBXML2=y" >> src/little/buildroot-ext/configs/k230_evb_defconfig\nmake CONF=k230_canmv_defconfig\n'})}),"\n",(0,s.jsx)(e.p,{children:"libxml2\u4f7f\u7528\u4f8b\u5b50"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:'//\u628a\u5982\u4e0b\u4ee3\u7801 \u4fdd\u5b58\u6210io.c,\u7f16\u8bd1\u65b9\u6cd5\u89c1\u540e\u9762\n#include <libxml/parser.h>\n\n#if defined(LIBXML_TREE_ENABLED) && defined(LIBXML_OUTPUT_ENABLED)\nint main(void)\n{\n\n    xmlNodePtr n;\n    xmlDocPtr doc;\n    xmlChar *xmlbuff;\n    int buffersize;\n\n    /*\n     * Create the document.\n     */\n    doc = xmlNewDoc(BAD_CAST "1.0");\n    n = xmlNewDocNode(doc, NULL, BAD_CAST "root", NULL);\n    xmlNodeSetContent(n, BAD_CAST "content");\n    xmlDocSetRootElement(doc, n);\n\n    /*\n     * Dump the document to a buffer and print it\n     * for demonstration purposes.\n     */\n    xmlDocDumpFormatMemory(doc, &xmlbuff, &buffersize, 1);\n    printf("%s", (char *) xmlbuff);\n\n    /*\n     * Free associated memory.\n     */\n    xmlFree(xmlbuff);\n    xmlFreeDoc(doc);\n\n    return (0);\n\n}\n#else\n#include <stdio.h>\n\nint main(void)\n{\n    fprintf(stderr,\n            "library not configured with tree and output support\\n");\n    return (0);\n}\n\n//\u7f16\u8bd1\u65b9\u6cd5 \n/* \u5047\u8bbesdk\u4e3b\u76ee\u5f55\u662fSDK=/home/wangjianxin/k230_sdk\nSDK=/home/wangjianxin/k230_sdk\nBD=${SDK}/output/k230_canmv_defconfig/little/buildroot-ext\ngcc=${SDK}/toolchain/Xuantie-900-gcc-linux-5.10.4-glibc-x86_64-V2.6.0/bin/riscv64-unknown-linux-gnu-gcc\n\nall:\n    ${gcc} io.c --sysroot=${BD}/host/riscv64-buildroot-linux-gnu/sysroot   -I=${sysroot}/usr/include/libxml2 -lxml2\n*/\n#endif\n'})}),"\n",(0,s.jsx)(e.p,{children:"\u7279\u522b\u8bf4\u660e\uff1asdk\u4e0d\u652f\u6301\u591a\u8fdb\u7a0b\u7f16\u8bd1\uff0c\u4e0d\u8981\u589e\u52a0\u7c7b\u4f3c-j32\u591a\u8fdb\u7a0b\u7f16\u8bd1\u9009\u9879\u3002"}),"\n",(0,s.jsx)(e.h2,{id:"22-\u652f\u6301\u7684\u5c4f\u6709\u54ea\u4e9b",children:"22 \u652f\u6301\u7684\u5c4f\u6709\u54ea\u4e9b\uff1f"}),"\n",(0,s.jsxs)(e.p,{children:["\u7b54\uff1a\u79fb\u690d\u65b0\u7684\u5c4f\u8bf7\u53c2\u8003 ",(0,s.jsx)(e.a,{href:"https://developer.canaan-creative.com/k230/zh/dev/01_software/board/mpp/K230_LCD%E9%80%82%E9%85%8D%E6%8C%87%E5%8D%97.html",children:"K230_LCD\u9002\u914d\u6307\u5357"}),"\u3002 \u76ee\u524d\u6211\u4eec\u652f\u6301\u7684\u5c4f\u6709"]}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"\u54c1\u724c"}),(0,s.jsx)(e.th,{children:"\u578b\u53f7"}),(0,s.jsx)(e.th,{children:"\u5c4f\u9a71\u578b\u53f7"}),(0,s.jsx)(e.th,{children:"\u5206\u8fa8\u7387"}),(0,s.jsx)(e.th,{children:"\u5e27\u7387"}),(0,s.jsx)(e.th,{children:"\u5907\u6ce8"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"\u4eca\u671d\u8f89"}),(0,s.jsx)(e.td,{children:"FPC55MH907C"}),(0,s.jsx)(e.td,{children:"HX8399"}),(0,s.jsx)(e.td,{children:"1080x1920"}),(0,s.jsx)(e.td,{children:"30"}),(0,s.jsx)(e.td,{})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"\u5927\u663e\u4f1f\u4e1a"}),(0,s.jsx)(e.td,{children:"D350T1013V1"}),(0,s.jsx)(e.td,{children:"ST7701"}),(0,s.jsx)(e.td,{children:"480x800"}),(0,s.jsx)(e.td,{children:"60"}),(0,s.jsx)(e.td,{})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"\u4e1c\u5927\u663e\u63a7"}),(0,s.jsx)(e.td,{children:"TC045IVFS-V40"}),(0,s.jsx)(e.td,{children:"ST7701"}),(0,s.jsx)(e.td,{children:"480x854"}),(0,s.jsx)(e.td,{children:"30"}),(0,s.jsx)(e.td,{})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"\u9f99\u8fc5"}),(0,s.jsx)(e.td,{children:"LT9611"}),(0,s.jsx)(e.td,{}),(0,s.jsx)(e.td,{children:"1920x1080 1280x720 640x480"}),(0,s.jsx)(e.td,{children:"30/50/60 30/50/60 60"}),(0,s.jsx)(e.td,{children:"HDMI"})]})]})]}),"\n",(0,s.jsx)(e.p,{children:"\u73b0\u6709\u9a71\u52a8\u79fb\u690d\uff0c\u8981\u6ce8\u610f\u9a71\u52a8\u4e2d\u4f7f\u7528\u7684reset\u3001\u80cc\u5149\u811a\u7ba1\u548ci2c\uff0c\u8fd9\u4e9b\u90fd\u5b9a\u4e49\u5728k230_sdk/src/big/mpp/include/comm/k_board_config_comm.h\u6587\u4ef6\u91cc\u9762\uff0c\u4e0d\u540c\u7684\u677f\u5b50\u8fd9\u4e9b\u5b9a\u4e49\u53ef\u80fd\u4e0d\u540c\u3002\u662f\u901a\u8fc7\u677f\u5b50\u7684\u5b8f\u5b9a\u4e49\u6765\u8fdb\u884c\u533a\u5206\u7684\u3002\u4f8b\u5982"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"#elif defined(CONFIG_BOARD_K230_CANMV)\n// display gpio\n#define DISPLAY_LCD_RST_GPIO                            20\n#define DISPLAY_LCD_BACKLIGHT_EN                        25\n#elif defined(CONFIG_BOARD_K230_CANMV_V2)\n// display gpio\n#define DISPLAY_LCD_RST_GPIO                            22\n#define DISPLAY_LCD_BACKLIGHT_EN                        25\n"})}),"\n",(0,s.jsx)(e.p,{children:"Canmv-K230-V1.0\u548cV2.0\u677f\u5b50\u7684reset\u7ba1\u811a\u4e0d\u4e00\u6837\uff0c\u79fb\u690d\u65f6\u8bf7\u4fee\u6539\u76f8\u5e94\u7684\u7ba1\u811a\u7f16\u53f7\u3002"})]})}function h(n={}){const{wrapper:e}={...(0,t.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(a,{...n})}):a(n)}},28453:(n,e,r)=>{r.d(e,{R:()=>d,x:()=>l});var s=r(96540);const t={},i=s.createContext(t);function d(n){const e=s.useContext(i);return s.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:d(n.components),s.createElement(i.Provider,{value:e},n.children)}}}]);