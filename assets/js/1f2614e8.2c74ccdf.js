"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[570],{49911:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>_,contentTitle:()=>s,default:()=>h,frontMatter:()=>d,metadata:()=>c,toc:()=>l});var a=r(74848),i=r(28453);const d={sidebar_position:10},s="K230 VICAP SENSOR \u53c2\u6570\u5206\u533a\u53c2\u8003",c={id:"CanaanK230/part6/K230VICAPSENSORParameterpartitionreference",title:"K230 VICAP SENSOR \u53c2\u6570\u5206\u533a\u53c2\u8003",description:"1. \u6982\u8ff0",source:"@site/docs/CanaanK230/part6/10_K230VICAPSENSORParameterpartitionreference.md",sourceDirName:"CanaanK230/part6",slug:"/CanaanK230/part6/K230VICAPSENSORParameterpartitionreference",permalink:"/docs/CanaanK230/part6/K230VICAPSENSORParameterpartitionreference",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/CanaanK230/part6/10_K230VICAPSENSORParameterpartitionreference.md",tags:[],version:"current",sidebarPosition:10,frontMatter:{sidebar_position:10},sidebar:"canaanK230Sidebar",previous:{title:"K230_\u529f\u8017\u7ba1\u7406\u9002\u914d\u6307\u5357",permalink:"/docs/CanaanK230/part6/K230PowerManagementAdaptationGuide"},next:{title:"K230 LCD\u9002\u914d\u6307\u5357",permalink:"/docs/CanaanK230/part6/K230LCDAdaptationGuide"}},_={},l=[{value:"1. \u6982\u8ff0",id:"1-\u6982\u8ff0",level:2},{value:"1.1 \u6982\u8ff0",id:"11-\u6982\u8ff0",level:3},{value:"2. \u5236\u4f5c\u6d41\u7a0b\u53c2\u8003",id:"2-\u5236\u4f5c\u6d41\u7a0b\u53c2\u8003",level:2},{value:"2.1 \u6d41\u7a0b\u56fe",id:"21-\u6d41\u7a0b\u56fe",level:3},{value:"2.2 \u5236\u4f5c\u6b65\u9aa4",id:"22-\u5236\u4f5c\u6b65\u9aa4",level:3},{value:"2.2.1 \u8f6c\u6362\u5934\u6587\u4ef6",id:"221-\u8f6c\u6362\u5934\u6587\u4ef6",level:4},{value:"2.2.2 \u8f6c\u6362\u4e8c\u8fdb\u5236\u6587\u4ef6",id:"222-\u8f6c\u6362\u4e8c\u8fdb\u5236\u6587\u4ef6",level:4},{value:"2.2.2.1 header\u5236\u4f5c",id:"2221-header\u5236\u4f5c",level:5},{value:"2.2.2.2 \u914d\u7f6e\u53c2\u6570\u4e8c\u8fdb\u5236\u6587\u4ef6\u5236\u4f5c",id:"2222-\u914d\u7f6e\u53c2\u6570\u4e8c\u8fdb\u5236\u6587\u4ef6\u5236\u4f5c",level:5},{value:"2.2.2.3 padding\u751f\u6210",id:"2223-padding\u751f\u6210",level:5},{value:"2.2.2.4 dewarp\u53c2\u6570\u914d\u7f6e",id:"2224-dewarp\u53c2\u6570\u914d\u7f6e",level:5},{value:"2.2.2.5 \u5408\u5e76\u6587\u4ef6",id:"2225-\u5408\u5e76\u6587\u4ef6",level:5},{value:"2.2.2.6 \u811a\u672c\u5316\u5236\u4f5c\u4e8c\u8fdb\u5236\u6587\u4ef6",id:"2226-\u811a\u672c\u5316\u5236\u4f5c\u4e8c\u8fdb\u5236\u6587\u4ef6",level:5},{value:"2.2.2.6 \u6253\u5165\u53c2\u6570\u5206\u533a",id:"2226-\u6253\u5165\u53c2\u6570\u5206\u533a",level:5},{value:"2.2.3 \u4f7f\u7528\u65b9\u6cd5",id:"223-\u4f7f\u7528\u65b9\u6cd5",level:4},{value:"2.2.4 \u6ce8\u610f\u4e8b\u9879",id:"224-\u6ce8\u610f\u4e8b\u9879",level:4}];function t(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"k230-vicap-sensor-\u53c2\u6570\u5206\u533a\u53c2\u8003",children:"K230 VICAP SENSOR \u53c2\u6570\u5206\u533a\u53c2\u8003"})}),"\n",(0,a.jsx)(n.h2,{id:"1-\u6982\u8ff0",children:"1. \u6982\u8ff0"}),"\n",(0,a.jsx)(n.h3,{id:"11-\u6982\u8ff0",children:"1.1 \u6982\u8ff0"}),"\n",(0,a.jsx)(n.p,{children:"ISP\u5bf9sensor\u8f93\u51fa\u7684\u4fe1\u53f7\u8fdb\u884c\u5b9e\u65f6\u5904\u7406\u7684\u8fc7\u7a0b\u4e2d\uff0c\u8c03\u4f18\u53c2\u6570\u548c\u6807\u5b9a\u53c2\u6570\u5bf9ISP\u5904\u7406\u65b9\u5f0f\u4ee5\u53ca\u56fe\u50cf\u7684\u590d\u539f\u3001\u589e\u5f3a\u6709\u7740\u5173\u952e\u7684\u4f5c\u7528\u3002\u5728SDK\u4e2d\u9ed8\u8ba4\u4f7f\u7528\u6807\u5b9axml\u3001auto json\u3001manual json\u6587\u4ef6\u4f5c\u4e3aVICAP\u8fd0\u884c\u65f6\u5bfc\u5165\u7684\u8c03\u4f18\u53c2\u6570\u548c\u6807\u5b9a\u53c2\u6570\u914d\u7f6e\u3002\u5728\u5feb\u901f\u542f\u52a8\u6a21\u5f0f\u4e0b\uff0c\u9ed8\u8ba4\u53c2\u6570\u5bfc\u5165\u65b9\u5f0f\u8017\u65f6\u8f83\u9ad8\uff0c\u56e0\u6b64\u63d0\u4f9b\u4e86\u53c2\u6570\u5206\u533a\u5bfc\u5165\u914d\u7f6e\u53c2\u6570\u7684\u65b9\u6848\u3002"}),"\n",(0,a.jsx)(n.p,{children:"\u672c\u6587\u6863\u4e3b\u8981\u63cf\u8ff0\u4e86\u5236\u4f5c\u53c2\u6570\u5206\u533a\u53caVICAP\u4f7f\u7528\u8be5\u5206\u533a\u7684\u65b9\u6cd5\u3002"}),"\n",(0,a.jsx)(n.h2,{id:"2-\u5236\u4f5c\u6d41\u7a0b\u53c2\u8003",children:"2. \u5236\u4f5c\u6d41\u7a0b\u53c2\u8003"}),"\n",(0,a.jsx)(n.h3,{id:"21-\u6d41\u7a0b\u56fe",children:"2.1 \u6d41\u7a0b\u56fe"}),"\n",(0,a.jsx)(n.p,{children:"\u5236\u4f5c\u6d41\u7a0b\u56fe\u5982\u4e0b\uff1a"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"isp param",src:r(65135).A+"",width:"167",height:"341"})}),"\n",(0,a.jsx)(n.p,{children:"\u56fe2-1 \u53c2\u6570\u5206\u533a\u5236\u4f5c\u6d41\u7a0b\u56fe"}),"\n",(0,a.jsx)(n.p,{children:"\u5236\u4f5c\u6b65\u9aa4\u5982\u4e0b\uff1a"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://developer.canaan-creative.com/k230/zh/dev/01_software/board/mpp/K230_VICAP_SENSOR_%E5%8F%82%E6%95%B0%E5%88%86%E5%8C%BA%E5%8F%82%E8%80%83.html#id6",children:"\u7b2c\u4e00\u6b65\uff0c\u8f6c\u6362\u5934\u6587\u4ef6"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://developer.canaan-creative.com/k230/zh/dev/01_software/board/mpp/K230_VICAP_SENSOR_%E5%8F%82%E6%95%B0%E5%88%86%E5%8C%BA%E5%8F%82%E8%80%83.html#id7",children:"\u7b2c\u4e8c\u6b65\uff0c\u8f6c\u6362\u4e8c\u8fdb\u5236\u6587\u4ef6"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://developer.canaan-creative.com/k230/zh/dev/01_software/board/mpp/K230_VICAP_SENSOR_%E5%8F%82%E6%95%B0%E5%88%86%E5%8C%BA%E5%8F%82%E8%80%83.html#id12",children:"\u7b2c\u4e09\u6b65\uff0c\u4f7f\u7528\u65b9\u6cd5"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://developer.canaan-creative.com/k230/zh/dev/01_software/board/mpp/K230_VICAP_SENSOR_%E5%8F%82%E6%95%B0%E5%88%86%E5%8C%BA%E5%8F%82%E8%80%83.html#id13",children:"\u6ce8\u610f\u4e8b\u9879"})}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"22-\u5236\u4f5c\u6b65\u9aa4",children:"2.2 \u5236\u4f5c\u6b65\u9aa4"}),"\n",(0,a.jsx)(n.h4,{id:"221-\u8f6c\u6362\u5934\u6587\u4ef6",children:"2.2.1 \u8f6c\u6362\u5934\u6587\u4ef6"}),"\n",(0,a.jsx)(n.p,{children:"\u4ee5senosr\uff1aIMX335\uff0c\u5206\u8fa8\u7387\uff1a2592x1944\u4e3a\u4f8b"}),"\n",(0,a.jsx)(n.p,{children:"\u62f7\u8d1d\u53c2\u6570\u6587\u4ef6\u5230\u8f6c\u6362\u5934\u6587\u4ef6\u7684\u76ee\u5f55"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"cp k230_sdk/src/big/mpp/userapps/src/sensor/config/imx335-2592x1944.xml k230_sdk/src/big/mpp/userapps/src/vicap/src/isp/sdk/t_frameworks/t_database_c/calibration_data/\ncp k230_sdk/src/big/mpp/userapps/src/sensor/config/imx335-2592x1944_auto.json k230_sdk/src/big/mpp/userapps/src/vicap/src/isp/sdk/t_frameworks/t_database_c/calibration_data/\ncp k230_sdk/src/big/mpp/userapps/src/sensor/config/imx335-2592x1944_manual.json k230_sdk/src/big/mpp/userapps/src/vicap/src/isp/sdk/t_frameworks/t_database_c/calibration_data/\n"})}),"\n",(0,a.jsx)(n.p,{children:"\u8df3\u8f6c\u81f3\u8f6c\u6362\u64cd\u4f5c\u76ee\u5f55\uff08\u5de5\u5177\u6e90\u7801\u53ca\u811a\u672c\u5b58\u653e\u76ee\u5f55\uff09"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"cd k230_sdk/src/big/mpp/userapps/src/vicap/src/isp/sdk/t_frameworks/t_database_c/calibration_data/\n"})}),"\n",(0,a.jsxs)(n.p,{children:["\u6267\u884c\u8f6c\u6362\u5934\u6587\u4ef6\u5de5\u5177 ",(0,a.jsx)(n.em,{children:"parse_convert.py"})," \uff0c\u5c06\u62f7\u8d1d\u7684\u4e09\u4e2a\u914d\u7f6e\u6587\u4ef6\u89e3\u6790\u5e76\u8f6c\u6362\u4e3a\u4e00\u4e2a\u53c2\u6570\u5934\u6587\u4ef6\uff08\u8f6c\u6362\u5de5\u5177\u5efa\u8bae\u4f7f\u7528python3.x\uff09"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"https://developer.canaan-creative.com/k230/zh/dev/_images/parse_convert.png",alt:"parse_convert"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"python parse_convert.py -s imx335 -x imx335-2592x1944.xml -a imx335-2592x1944_auto.json -m imx335-2592x1944_manual.json > imx335_2592x1944_param_data.h\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:'#ifndef __IMX335_CALIBRATION_H__\n#define __IMX335_CALIBRATION_H__\n\n#include "isp_database.h"\n#include "k_autoconf_comm.h"\nstatic const TUNING_PARAM_T database_tuning_param =\n{\n    /* calib data */\n    ...\n    /* auto data */\n    ...\n    /* manual data */\n    ...\n    /* dewarp data */\n    ...\n    /* version_info */\n}\n#endif\n'})}),"\n",(0,a.jsx)(n.p,{children:"\u8f6c\u6362\u540e\u5c06\u5f97\u5230\u5982\u4e0a\u7684\u7ed3\u6784\u4f53\uff0c\u5171\u4e94\u4e2a\u90e8\u5206\uff1a"}),"\n",(0,a.jsx)(n.p,{children:"calib data\u3001auto data\u3001manual data\u5206\u522b\u7531\u5916\u90e8\u6307\u5b9a\u7684\u914d\u7f6e\u6587\u4ef6\u89e3\u6790\u751f\u6210"}),"\n",(0,a.jsxs)(n.p,{children:["dewarp data\u9700\u8981\u6839\u636e\u5b9e\u9645\u914d\u7f6e\u66ff\u6362\u5728\u7ed3\u6784\u4f53\u4e2d\uff0c\u53c2\u8003",(0,a.jsx)(n.a,{href:"https://developer.canaan-creative.com/k230/zh/dev/01_software/board/mpp/K230_VICAP_SENSOR_%E5%8F%82%E6%95%B0%E5%88%86%E5%8C%BA%E5%8F%82%E8%80%83.html#dewarp",children:"dewarp\u53c2\u6570\u914d\u7f6e"})]}),"\n",(0,a.jsx)(n.p,{children:"version info\u4e3a\u8f6c\u53d8\u6362\u5de5\u5177\u81ea\u52a8\u751f\u6210\uff0c\u63cf\u8ff0sensor name\u4ee5\u53ca\u521b\u5efa\u65e5\u671f"}),"\n",(0,a.jsx)(n.h4,{id:"222-\u8f6c\u6362\u4e8c\u8fdb\u5236\u6587\u4ef6",children:"2.2.2 \u8f6c\u6362\u4e8c\u8fdb\u5236\u6587\u4ef6"}),"\n",(0,a.jsx)(n.p,{children:"\u4e8c\u8fdb\u5236\u6587\u4ef6\u7531header\u3001\u914d\u7f6e\u53c2\u6570\u3001padding\u3001dewarp\u53c2\u6570\u56db\u4e2a\u6587\u4ef6\u62fc\u63a5\u800c\u6210\uff0c\u8003\u8651\u5230\u53c2\u6570\u5206\u533a\u7684\u5b9e\u9645\u5206\u914d\u5927\u5c0f\uff0c\u5efa\u8bae\u6700\u591a\u6dfb\u52a0\u4e09\u7ec4\u914d\u7f6e\u6587\u4ef6"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://developer.canaan-creative.com/k230/zh/dev/01_software/board/mpp/K230_VICAP_SENSOR_%E5%8F%82%E6%95%B0%E5%88%86%E5%8C%BA%E5%8F%82%E8%80%83.html#header",children:"\u7b2c\u4e00\u6b65\uff0cheader\u5236\u4f5c"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://developer.canaan-creative.com/k230/zh/dev/01_software/board/mpp/K230_VICAP_SENSOR_%E5%8F%82%E6%95%B0%E5%88%86%E5%8C%BA%E5%8F%82%E8%80%83.html#id8",children:"\u7b2c\u4e8c\u6b65\uff0c\u914d\u7f6e\u53c2\u6570\u4e8c\u8fdb\u5236\u6587\u4ef6\u5236\u4f5c"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://developer.canaan-creative.com/k230/zh/dev/01_software/board/mpp/K230_VICAP_SENSOR_%E5%8F%82%E6%95%B0%E5%88%86%E5%8C%BA%E5%8F%82%E8%80%83.html#padding",children:"\u7b2c\u4e09\u6b65\uff0cpadding\u6587\u4ef6\u5236\u4f5c"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://developer.canaan-creative.com/k230/zh/dev/01_software/board/mpp/K230_VICAP_SENSOR_%E5%8F%82%E6%95%B0%E5%88%86%E5%8C%BA%E5%8F%82%E8%80%83.html#dewarp",children:"\u7b2c\u56db\u6b65\uff0cdewarp\u53c2\u6570\u914d\u7f6e"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://developer.canaan-creative.com/k230/zh/dev/01_software/board/mpp/K230_VICAP_SENSOR_%E5%8F%82%E6%95%B0%E5%88%86%E5%8C%BA%E5%8F%82%E8%80%83.html#id9",children:"\u7b2c\u4e94\u6b65\uff0c\u5408\u5e76\u6587\u4ef6"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://developer.canaan-creative.com/k230/zh/dev/01_software/board/mpp/K230_VICAP_SENSOR_%E5%8F%82%E6%95%B0%E5%88%86%E5%8C%BA%E5%8F%82%E8%80%83.html#id10",children:"\u5176\u4ed6\uff0c\u811a\u672c\u5316\u5236\u4f5c\u65b9\u6cd5\uff08\u63a8\u8350\u4f7f\u7528\uff09"})}),"\n"]}),"\n",(0,a.jsx)(n.h5,{id:"2221-header\u5236\u4f5c",children:"2.2.2.1 header\u5236\u4f5c"}),"\n",(0,a.jsxs)(n.p,{children:["\u4fee\u6539 ",(0,a.jsx)(n.em,{children:"gen_database_param_bin_calib_header.c"})," \u4e2d\u7684FILENAME_00\u3001FILENAME_01\u3001FILENAME_02\u7684\u5b9a\u4e49\uff0c\u793a\u4f8b\u5982\u4e0b\uff1a"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:'#define FILENAME_00 "imx335-2592x1944"\n#define FILENAME_01 "ov9732-1280x720"\n#define FILENAME_02 "ov9286-1280x720"\n'})}),"\n",(0,a.jsx)(n.p,{children:"\u683c\u5f0f\u8981\u6c42\u4e3a\u9a71\u52a8\u4e2d\u5bf9\u5e94\u7684sensor\u540d\u79f0-\u5bbdx\u9ad8\uff0c\u5982imx335-2592x1944\u7684\u914d\u7f6e\u5728\u9a71\u52a8\u4e2d\u5bf9\u5e94\u7684sensor name\u4e3aimx335\u4e14\u5206\u8fa8\u7387\u4e3a2592x1944\uff0c\u5219\u4fee\u6539FILENAME_0X\u4e3a\u201dimx335-2592x1944\u201d\uff0c\u8be5\u5b9a\u4e49\u5c06\u4f5c\u4e3a\u4f7f\u7528\u53c2\u6570\u5206\u533a\u65f6\u7684\u6821\u9a8c\u5934\uff0c\u5982\u679c\u6821\u9a8c\u5934\u4e0d\u5339\u914d\uff0c\u5219\u4f1a\u9ed8\u8ba4\u4f7f\u7528\u914d\u7f6e\u6587\u4ef6\u52a0\u8f7d\u7684\u65b9\u5f0f\u8fdb\u884c\u8bfb\u53d6\uff0c\u5e76\u5728log\u4e2d\u6253\u5370\u76f8\u5e94\u7684\u8b66\u544a\u63d0\u793a\uff0c\u4e14\u6821\u9a8c\u5934\u5b9a\u4e49\u7684\u540d\u79f0\u552f\u4e00\uff0c\u4e0d\u80fd\u91cd\u590d\u3002"}),"\n",(0,a.jsxs)(n.p,{children:["\u53ef\u6dfb\u52a0\u4e09\u7ec4\u6821\u9a8c\u5934\uff0c\u4e00\u65e6\u987a\u5e8f\u56fa\u5b9a\uff0c\u5219\u53c2\u6570\u5206\u533a\u7684\u987a\u5e8f\u4e5f\u9700\u8981\u4e0e\u6821\u9a8c\u5934\u540c\u6b65\uff0c\u540c\u6b65\u65b9\u6cd5\u53c2\u8003\u540e\u6587",(0,a.jsx)(n.a,{href:"https://developer.canaan-creative.com/k230/zh/dev/01_software/board/mpp/K230_VICAP_SENSOR_%E5%8F%82%E6%95%B0%E5%88%86%E5%8C%BA%E5%8F%82%E8%80%83.html#id8",children:"\u4e8c\u8fdb\u5236\u6587\u4ef6\u5236\u4f5c"}),"\u3002"]}),"\n",(0,a.jsx)(n.p,{children:"\u4fee\u6539\u5b9a\u4e49\u540e\u5c06\u8be5\u6e90\u7801\u7f16\u8bd1\u4e3a\u53ef\u6267\u884c\u7a0b\u5e8f\u5e76\u6267\u884c\uff0c\u5f97\u5230header: sensor_cfg_calib_header.bin"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"gcc -o main_header gen_database_param_bin_calib_header.c\n./main_header\n# \u5f97\u5230sensor_cfg_calib_header.bin\n"})}),"\n",(0,a.jsx)(n.h5,{id:"2222-\u914d\u7f6e\u53c2\u6570\u4e8c\u8fdb\u5236\u6587\u4ef6\u5236\u4f5c",children:"2.2.2.2 \u914d\u7f6e\u53c2\u6570\u4e8c\u8fdb\u5236\u6587\u4ef6\u5236\u4f5c"}),"\n",(0,a.jsxs)(n.p,{children:["\u4fee\u6539 ",(0,a.jsx)(n.em,{children:"gen_database_param_bin.c"})," \u4e2d\u7684 DATABASE_SELECT\u5b9a\u4e49\uff0c\u901a\u8fc7\u5916\u90e8\u7f16\u8bd1\u65f6\u4f20\u5165\u4e0d\u540c\u53c2\u6570\u5236\u4f5c\u4e0d\u540c\u7684\u914d\u7f6e\u4e8c\u8fdb\u5236\u6587\u4ef6\uff0c\u793a\u4f8b\u5982\u4e0b\uff1a"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:'#if DATABASE_SELECT == 0\n#include "imx335_2592x1944_param_data.h"\n#elif DATABASE_SELECT == 1\n#include "ov9732_param_data.h"\n#elif DATABASE_SELECT == 2\n#include "ov9286_param_data.h"\n// will append new header file to convert bin, you can make DATABASE_SELECT++, build need add flag "-DDATABASE_SELECT=?, ?:0, 1, 2..."\n#endif\n'})}),"\n",(0,a.jsx)(n.p,{children:"DATABASE_SELECT\u7684\u7f16\u53f7\u51b3\u5b9a\u4e86\u4e0d\u540csensor\u914d\u7f6e\u53c2\u6570\u7684\u6392\u5217\u987a\u5e8f\uff0c\u6b64\u987a\u5e8f\u9700\u8981\u4e0eheader\u7684\u987a\u5e8f\u8fdb\u884c\u540c\u6b65\u3002\u793a\u4f8b\u4e2dimx335_2592x1944_param_data.h\u3001ov9732_param_data.h\u3001ov9286_param_data.h\u7531\u4e09\u7ec4xml json\u751f\u6210\u3002"}),"\n",(0,a.jsx)(n.p,{children:"\u7f16\u8bd1\u6e90\u7801\u5e76\u6267\u884c"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:'DATABASE_CURRENT_DIR=$PWD\nDATABASE_CFLAGS="-I$DATABASE_CURRENT_DIR/../include \\\n -I$DATABASE_CURRENT_DIR/../../t_common_c/include/  \\\n -I$DATABASE_CURRENT_DIR/../../t_json_c/include/    \\\n -I$DATABASE_CURRENT_DIR/../../t_mxml_c/mxml-3.3.1/ \\\n -I$DATABASE_CURRENT_DIR/../../../../../../../../../include/comm"\ngcc -o main_01 gen_database_param_bin.c $DATABASE_CFLAGS -DDATABASE_SELECT=0\ngcc -o main_02 gen_database_param_bin.c $DATABASE_CFLAGS -DDATABASE_SELECT=1\ngcc -o main_03 gen_database_param_bin.c $DATABASE_CFLAGS -DDATABASE_SELECT=2\n$DATABASE_CURRENT_DIR/main_01 0\n$DATABASE_CURRENT_DIR/main_02 1\n$DATABASE_CURRENT_DIR/main_03 2\n# \u5f97\u5230\u6587\u4ef6sensor_cfg_00.bin(imx335)\u3001sensor_cfg_01.bin(ov9732)\u3001sensor_cfg_02.bin(ov9286)\n'})}),"\n",(0,a.jsx)(n.p,{children:"\u7f16\u8bd1\u591a\u4e2a\u6267\u884c\u7a0b\u5e8f\uff0c\u5e76\u6267\u884c\uff0c\u6267\u884c\u65f6\u4f20\u5165\u76840 1 2\u53c2\u6570\u4e3a\u751f\u6210\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\u540d\u4e2d\u7684\u5e8f\u53f7\u3002"}),"\n",(0,a.jsx)(n.h5,{id:"2223-padding\u751f\u6210",children:"2.2.2.3 padding\u751f\u6210"}),"\n",(0,a.jsx)(n.p,{children:"padding\u6587\u4ef6\u5b58\u5728\u7684\u76ee\u7684\u662f\u4e3a\u4e86\u540e\u7eeddewarp\u53c2\u6570\u7684\u5bf9\u9f50\uff0c\u65b9\u4fbf\u4f7f\u7528\uff0cpadding\u957f\u5ea6\u4f1a\u6839\u636eheader+\u53c2\u6570\u7ed3\u6784\u4f53\u7684\u603b\u957f\u5ea6\u8fdb\u884c\u53d8\u5316\uff0c\u7531\u811a\u672c\u81ea\u52a8\u751f\u6210\u3002"}),"\n",(0,a.jsx)(n.h5,{id:"2224-dewarp\u53c2\u6570\u914d\u7f6e",children:"2.2.2.4 dewarp\u53c2\u6570\u914d\u7f6e"}),"\n",(0,a.jsx)(n.p,{children:"\u53c2\u6570\u5206\u533a\u4e2d\u5b9a\u4e49\u4e86dewarp\u7684lut\u8868\u57fa\u672c\u53c2\u6570\uff0c\u6839\u636e\u6b64\u53c2\u6570\u53ef\u5728\u4f7f\u7528\u5206\u533a\u65f6\u6b63\u786e\u7684\u627e\u5230dewarp\u5bf9\u5e94\u7684lut\u6587\u4ef6"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"typedef struct {\n    uint8_t has_lut;\n    uint64_t lut_offset;\n    uint8_t split_enable;\n    uint16_t split_horizon_line;\n    uint16_t split_vertical_line_up;\n    uint16_t split_vertical_line_down;\n} DEWARP_SPLIT_T;\n"})}),"\n",(0,a.jsx)(n.p,{children:"has_lut: \u662f\u5426\u5b58\u5728dewarp lut\u6587\u4ef6\uff0c\u6b64\u6210\u5458\u8bbe\u7f6e\u4e3a0\u5219\u8868\u793a\u4e0d\u9700\u8981\u4f7f\u7528dewarp\u53c2\u6570\uff0c\u8bbe\u7f6e\u4e3a1\u65f6\u8868\u793a\u9700\u8981\u4f7f\u7528dewarp\u53c2\u6570"}),"\n",(0,a.jsxs)(n.p,{children:["lut_offset: \u5f53has_lut\u8bbe\u7f6e\u4e3a1\u65f6\uff0c\u8be5\u6210\u5458\u751f\u6548\uff0c\u503c\u5c06\u5bf9\u5e94dewarp\u53c2\u6570\u5728\u53c2\u6570\u5206\u533a\u4e2d\u6240\u5728\u5730\u5740\u7684\u504f\u79fb\u91cf\uff0c\u5177\u4f53\u8ba1\u7b97\u65b9\u6cd5\u4e3a \u53c2\u6570\u5206\u533a\u57fa\u5730\u5740 + header size + \u53c2\u6570\u7ed3\u6784\u4f53size + padding size\uff0c\u53c2\u6570\u5206\u533a\u57fa\u5730\u5740\u5728k_autoconf_comm.h\u4e2d\u5b9a\u4e49\u4e3a",(0,a.jsx)(n.em,{children:"CONFIG_MEM_SENSOR_CFG_BASE"}),"\uff0c\u8be5\u5b9a\u4e49\u968f\u7f16\u8bd1\u7684\u786c\u4ef6\u4e0d\u540c\u6709\u6240\u6539\u53d8\u3002\u53ef\u901a\u8fc7sdk\u63d0\u4f9b\u7684",(0,a.jsx)(n.em,{children:"gen_database.sh"}),"\u811a\u672c\u8fdb\u884c\u8ba1\u7b97\uff0c\u6267\u884c\u65f6\u4f1a\u8fdb\u884c\u6253\u5370\uff1a"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"calc_isp_param_data_size",src:r(85088).A+"",width:"500",height:"223"})}),"\n",(0,a.jsx)(n.p,{children:"\u56fe2-2 \u53c2\u6570\u5206\u533a\u81ea\u52a8\u8ba1\u7b97dewarp\u504f\u79fb\u91cf"}),"\n",(0,a.jsx)(n.p,{children:"split_enable: \u9ed8\u8ba4\u8bbe\u7f6e\u4e3a0"}),"\n",(0,a.jsx)(n.p,{children:"split_horizon_line: \u9ed8\u8ba48191"}),"\n",(0,a.jsx)(n.p,{children:"split_vertical_line_up: \u9ed8\u8ba48191"}),"\n",(0,a.jsx)(n.p,{children:"split_vertical_line_down: \u9ed8\u8ba48191"}),"\n",(0,a.jsx)(n.p,{children:"dewarp\u7684\u53c2\u6570\u6587\u4ef6\u9700\u8981\u5728\u5236\u4f5c\u811a\u672c\u4e2d\u6307\u5b9a\u8def\u5f84\uff0c\u53c2\u8003\u540e\u6587"}),"\n",(0,a.jsx)(n.p,{children:"\u793a\u4f8b\u5982\u4e0b\u5206\u522b\u4e3a\u4f7f\u7528dewarp\u548c\u4e0d\u4f7f\u7528dewarp\u65f6\u7684\u914d\u7f6e"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"// \u4f7f\u7528dewarp\u7684\u914d\u7f6e\n/* dewarp data */\n{\n    /* has_lut */\n    1,\n    /* lut_offset */\n    CONFIG_MEM_SENSOR_CFG_BASE + 426528, // 426528\u901a\u8fc7\u811a\u672c\u8ba1\u7b97\u5f97\u51fa\n    /* split_enable */\n    0,\n    /* split_horizon_line */\n    8191,\n    /* split_vertical_line_up */\n    8191,\n    /* split_vertical_line_down */\n    8191,\n},\n\n// \u4e0d\u4f7f\u7528dewarp\u7684\u914d\u7f6e\n/* dewarp data */\n{\n    /* has_lut */\n    0,\n    /* lut_offset */\n    0,\n    /* split_enable */\n    0,\n    /* split_horizon_line */\n    8191,\n    /* split_vertical_line_up */\n    8191,\n    /* split_vertical_line_down */\n    8191,\n},\n"})}),"\n",(0,a.jsx)(n.h5,{id:"2225-\u5408\u5e76\u6587\u4ef6",children:"2.2.2.5 \u5408\u5e76\u6587\u4ef6"}),"\n",(0,a.jsx)(n.p,{children:"\u901a\u8fc72.2.2.1 - 2.2.2.4\u4ea7\u51fa\u7684\u6587\u4ef6\u5982\u4e0b\uff1a"}),"\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:(0,a.jsx)(n.strong,{children:"\u6587\u4ef6\u540d"})}),(0,a.jsx)(n.th,{children:(0,a.jsx)(n.strong,{children:"\u63cf\u8ff0"})})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"sensor_cfg_calib_header.bin"}),(0,a.jsx)(n.td,{children:"header\u6587\u4ef6"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"sensor_cfg_0X.bin"}),(0,a.jsx)(n.td,{children:"\u914d\u7f6e\u53c2\u6570\u6587\u4ef6"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"padding.bin"}),(0,a.jsx)(n.td,{children:"\u7528\u4e8e\u5bf9\u9f50\u7684\u6587\u4ef6"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"imx335-2592x1944.bin"}),(0,a.jsx)(n.td,{children:"dewarp\u53c2\u6570\u6587\u4ef6\uff0c\u751f\u6210\u65b9\u6cd5\u53c2\u8003dewarp\u4f7f\u7528\u6307\u5357"})]})]})]}),"\n",(0,a.jsxs)(n.p,{children:["\u5408\u5e76\u4e0a\u8ff0\u6587\u4ef6\u5f97\u5230\u6700\u7ec8\u7528\u4e8e\u53c2\u6570\u5206\u533a\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6 ",(0,a.jsx)(n.em,{children:"sensor_cfg.bin"})]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"cat sensor_cfg_calib_header.bin \\\n    sensor_cfg_00.bin sensor_cfg_01.bin \\\n    sensor_cfg_02.bin \\\n    padding.bin \\\n    ../../../../../../../sensor/dewarp/imx335-2592x1944.bin > sensor_cfg.bin\n"})}),"\n",(0,a.jsx)(n.p,{children:"\u6309\u987a\u5e8f\u6700\u540e\u5408\u5e76\u7684\u6587\u4ef6\u4e3ak230_sdk/src/big/mpp/userapps/src/sensor/dewarp\u4e2d\u751f\u6210\u7684dewarp\u53c2\u6570\u6587\u4ef6\uff0c\u82e5\u6dfb\u52a0\u65b0\u7684dewarp\u53c2\u6570\u6587\u4ef6\uff0c\u6309\u987a\u5e8f\u5728\u672b\u5c3e\u8ffd\u52a0\u5373\u53ef\u3002"}),"\n",(0,a.jsx)(n.h5,{id:"2226-\u811a\u672c\u5316\u5236\u4f5c\u4e8c\u8fdb\u5236\u6587\u4ef6",children:"2.2.2.6 \u811a\u672c\u5316\u5236\u4f5c\u4e8c\u8fdb\u5236\u6587\u4ef6"}),"\n",(0,a.jsxs)(n.p,{children:["sdk\u4e2d\u63d0\u4f9b\u4e86\u4e32\u8054\u6d41\u7a0b2.2.2.1 - 2.2.2.5\u7684\u534a\u81ea\u52a8\u5316\u811a\u672c ",(0,a.jsx)(n.em,{children:"gen_database.sh"})," \uff0c\u7528\u6237\u5728\u5b8c\u6210header\u3001dewarp\u3001\u53c2\u6570\u89e3\u6790\u7684\u6e90\u7801\u5b9a\u4e49\u540e\uff0c\u53ef\u901a\u8fc7\u6267\u884c\u8be5\u811a\u672c\u8fdb\u884c\u5236\u4f5c\uff0c\u751a\u81f3\u4e0d\u9700\u8981\u624b\u52a8\u6267\u884c\u8be5\u811a\u672c\uff0c\u76f4\u63a5\u7f16\u8bd1sdk\u5373\u53ef\u3002"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:'#!/bin/sh\nDATABASE_CURRENT_DIR=$PWD\nDATA_SAVE_PATH=../../../../../../../../../../../../tools/gen_image_cfg/data/\nDATABASE_CFLAGS="-I$DATABASE_CURRENT_DIR/../include \\\n -I$DATABASE_CURRENT_DIR/../../t_common_c/include/  \\\n -I$DATABASE_CURRENT_DIR/../../t_json_c/include/    \\\n -I$DATABASE_CURRENT_DIR/../../t_mxml_c/mxml-3.3.1/ \\\n -I$DATABASE_CURRENT_DIR/../../../../../../../../../include/comm"\n\n# DATABASE_SELECT 0: imx335 2592x1944, 1: ov9732 1280x720, 2: ov9286 1280x720, ...\necho -n\n\ngcc -o main_01 gen_database_param_bin.c $DATABASE_CFLAGS -DDATABASE_SELECT=0\ngcc -o main_02 gen_database_param_bin.c $DATABASE_CFLAGS -DDATABASE_SELECT=1\ngcc -o main_03 gen_database_param_bin.c $DATABASE_CFLAGS -DDATABASE_SELECT=2\n\ngcc -o main_header gen_database_param_bin_calib_header.c\n\n$DATABASE_CURRENT_DIR/main_header\n$DATABASE_CURRENT_DIR/main_01 0\n$DATABASE_CURRENT_DIR/main_02 1\n$DATABASE_CURRENT_DIR/main_03 2\n\nrm $DATABASE_CURRENT_DIR/main_header\nrm $DATABASE_CURRENT_DIR/main_01\nrm $DATABASE_CURRENT_DIR/main_02\nrm $DATABASE_CURRENT_DIR/main_03\n\nFILE_LENGTH=$(wc -c < sensor_cfg_calib_header.bin)\nFILE_LENGTH=$(expr $FILE_LENGTH + $(wc -c < sensor_cfg_00.bin))\nFILE_LENGTH=$(expr $FILE_LENGTH + $(wc -c < sensor_cfg_01.bin))\nFILE_LENGTH=$(expr $FILE_LENGTH + $(wc -c < sensor_cfg_02.bin))\nPADDING_LENGTH=$(expr 16 - $FILE_LENGTH % 16)\ndd if=/dev/zero of=padding.bin bs=1 count=$PADDING_LENGTH\necho "The first LUT offset is "$(expr $PADDING_LENGTH + $FILE_LENGTH)\n\ncat sensor_cfg_calib_header.bin\\\n    sensor_cfg_00.bin sensor_cfg_01.bin\\\n    sensor_cfg_02.bin\\\n    padding.bin\\\n    ../../../../../../../sensor/dewarp/imx335-2592x1944.bin > sensor_cfg.bin\n'})}),"\n",(0,a.jsx)(n.h5,{id:"2226-\u6253\u5165\u53c2\u6570\u5206\u533a",children:"2.2.2.6 \u6253\u5165\u53c2\u6570\u5206\u533a"}),"\n",(0,a.jsx)(n.p,{children:"\u5236\u4f5c\u4e8c\u8fdb\u5236\u6587\u4ef6\u5b8c\u6210\u540e\uff0c\u9700\u8981\u5c06\u8be5\u6587\u4ef6\u7f6e\u4e8e\u53c2\u6570\u5206\u533a\u5b58\u653e\u4f4d\u7f6e\uff0c\u8be5\u64cd\u4f5c\u7531sdk\u7f16\u8bd1\u811a\u672c\u5b8c\u6210\uff0c\u4e0d\u9700\u8981\u7528\u6237\u81ea\u884c\u64cd\u4f5c\u3002\u53ea\u9700\u8981\u5728k230_sdk/src/big/mpp/userapps/src/vicap/src/isp/sdk/t_frameworks/t_database_c/calibration_data/\u4e2d\u5236\u4f5c\u597d\u6587\u4ef6\u5373\u53ef\u5728\u7f16\u8bd1\u65f6\u81ea\u52a8\u6253\u5165\u3002"}),"\n",(0,a.jsx)(n.h4,{id:"223-\u4f7f\u7528\u65b9\u6cd5",children:"2.2.3 \u4f7f\u7528\u65b9\u6cd5"}),"\n",(0,a.jsx)(n.p,{children:"\u5728\u5b8c\u6210\u6b63\u786e\u7684\u5236\u4f5c\u6d41\u7a0b\u540e\uff0c\u901a\u8fc7VICAP\u63d0\u4f9b\u7684API\u8fdb\u884c\u4f7f\u7528"}),"\n",(0,a.jsx)(n.p,{children:"\u3010\u8bf4\u660e\u3011vicap \u89e3\u6790\u914d\u7f6e\u53c2\u6570\u7684\u6a21\u5f0f"}),"\n",(0,a.jsx)(n.p,{children:"\u3010\u5b9a\u4e49\u3011"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"typedef enum {\n    VICAP_DATABASE_PARSE_XML_JSON = 0,\n    VICAP_DATABASE_PARSE_HEADER = 1,\n} k_vicap_database_parse_mode;\n"})}),"\n",(0,a.jsx)(n.p,{children:"\u3010\u6210\u5458\u3011"}),"\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:(0,a.jsx)(n.strong,{children:"\u6210\u5458\u540d\u79f0"})}),(0,a.jsx)(n.th,{children:"\u503c"}),(0,a.jsx)(n.th,{children:(0,a.jsx)(n.strong,{children:"\u63cf\u8ff0"})})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"VICAP_DATABASE_PARSE_XML_JSON"}),(0,a.jsx)(n.td,{children:"0"}),(0,a.jsx)(n.td,{children:"\u4f7f\u7528xml\u3001auto json\u3001manual json\u6a21\u5f0f"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"VICAP_DATABASE_PARSE_HEADER"}),(0,a.jsx)(n.td,{children:"1"}),(0,a.jsx)(n.td,{children:"\u4f7f\u7528\u53c2\u6570\u5206\u533a\u52a0\u8f7d\u6a21\u5f0f"})]})]})]}),"\n",(0,a.jsx)(n.p,{children:"\u3010\u6ce8\u610f\u4e8b\u9879\u3011 \u5185\u90e8\u53ea\u6821\u9a8c0\u548c1\uff0c\u5176\u4ed6\u503c\u65e0\u6548"}),"\n",(0,a.jsx)(n.p,{children:"\u3010\u8bf4\u660e\u3011vicap\u8bbe\u7f6e\u53c2\u6570\u52a0\u8f7d\u6a21\u5f0f"}),"\n",(0,a.jsx)(n.p,{children:"\u3010\u63cf\u8ff0\u3011"}),"\n",(0,a.jsx)(n.p,{children:"\u6839\u636edev_num\uff0c\u8bbe\u7f6e\u4e0d\u540cvicap\u8bbe\u5907\u52a0\u8f7dISP\u53c2\u6570\u7684\u65b9\u5f0f\uff0c\u9ed8\u8ba4\u4e3a0"}),"\n",(0,a.jsx)(n.p,{children:"\u3010\u8bed\u6cd5\u3011"}),"\n",(0,a.jsx)(n.p,{children:"k_s32 kd_mpi_vicap_set_database_parse_mode(k_vicap_dev dev_num, k_vicap_database_parse_mode parse_mode)"}),"\n",(0,a.jsx)(n.p,{children:"\u3010\u53c2\u6570\u3011"}),"\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:(0,a.jsx)(n.strong,{children:"\u53c2\u6570\u540d\u79f0"})}),(0,a.jsx)(n.th,{children:(0,a.jsx)(n.strong,{children:"\u63cf\u8ff0"})}),(0,a.jsx)(n.th,{children:(0,a.jsx)(n.strong,{children:"\u8f93\u5165/\u8f93\u51fa"})})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"dev_num"}),(0,a.jsx)(n.td,{children:"VICAP\u8bbe\u5907\u53f7"}),(0,a.jsx)(n.td,{children:"\u8f93\u5165"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"parse_mode"}),(0,a.jsx)(n.td,{children:"\u53c2\u6570\u52a0\u8f7d\u6a21\u5f0f"}),(0,a.jsx)(n.td,{children:"\u8f93\u5165"})]})]})]}),"\n",(0,a.jsx)(n.p,{children:"\u3010\u8fd4\u56de\u503c\u3011"}),"\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:(0,a.jsx)(n.strong,{children:"\u8fd4\u56de\u503c"})}),(0,a.jsx)(n.th,{children:(0,a.jsx)(n.strong,{children:"\u63cf\u8ff0"})})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"\u6b63\u503c"}),(0,a.jsx)(n.td,{children:"\u6210\u529f\u3002\u8fd4\u56de\u8bbe\u5907\u63cf\u8ff0\u7b26"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"\u8d1f\u503c"}),(0,a.jsx)(n.td,{children:"\u5931\u8d25\uff0c\u53c2\u8003\u9519\u8bef\u7801\u5b9a\u4e49\u3002"})]})]})]}),"\n",(0,a.jsx)(n.p,{children:"\u3010\u82af\u7247\u5dee\u5f02\u3011"}),"\n",(0,a.jsx)(n.p,{children:"\u65e0\u3002"}),"\n",(0,a.jsx)(n.p,{children:"\u3010\u9700\u6c42\u3011"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"\u5934\u6587\u4ef6\uff1ampi_vicap_api.h"}),"\n",(0,a.jsx)(n.li,{children:"\u5e93\u6587\u4ef6\uff1alibvicap.a"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"\u3010\u6ce8\u610f\u3011"}),"\n",(0,a.jsx)(n.p,{children:"\u9700\u8981\u5728kd_mpi_vicap_init\u4e4b\u524d\u5b8c\u6210\u8c03\u7528"}),"\n",(0,a.jsx)(n.p,{children:"\u3010\u4e3e\u4f8b\u3011"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:'typedef enum {\n    VICAP_DEV_ID_0 = 0,\n    VICAP_DEV_ID_1 = 1,\n    VICAP_DEV_ID_2 = 2,\n    VICAP_DEV_ID_MAX,\n} k_vicap_dev;\n\nint ret = 0;\nk_vicap_dev vicap_dev = VICAP_DEV_ID_0;\nret = kd_mpi_vicap_set_database_parse_mode(vicap_dev, VICAP_DATABASE_PARSE_HEADER);\nif (ret) {\n    printf("kd_mpi_vicap_set_database_parse_mode failed, %d\\n", ret);\n    return ret;\n}\n'})}),"\n",(0,a.jsx)(n.h4,{id:"224-\u6ce8\u610f\u4e8b\u9879",children:"2.2.4 \u6ce8\u610f\u4e8b\u9879"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\u5728\u751f\u6210\u53c2\u6570\u5934\u6587\u4ef6\u65f6\uff0cdewarp\u7684\u7ed3\u6784\u4f53\u4e3a\u9ed8\u8ba4\u503c\uff0c\u9700\u8981\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u586b\u5165\uff0c\u5e76\u8ba1\u7b97\u504f\u79fb\u503c\uff0c\u504f\u79fb\u503c\u53ef\u4ee5\u901a\u8fc7\u6267\u884c ",(0,a.jsx)(n.em,{children:"gen_database.sh"})," \u6765\u81ea\u52a8\u8ba1\u7b97\uff0c\u8ba1\u7b97\u540e\u586b\u5165\u5bf9\u5e94\u7684\u4f4d\u7f6e"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.em,{children:"gen_database_param_bin.c"})," \u6839\u636egcc -D\u7684\u7f16\u8bd1\u9009\u9879\u5b9a\u4e49DATABASE_SELECT\u7684\u503c\u6765\u51b3\u5b9a\u5305\u542b\u54ea\u7ec4\u5934\u6587\u4ef6\u5e76\u5c06\u5176\u5236\u4f5c\u4e3a\u53c2\u6570\u6587\u4ef6\uff0c\u987a\u5e8f\u8981\u4e0eheader\u4e2d\u5b9a\u4e49\u7684\u987a\u5e8f\u7f16\u53f7\u76f8\u540c"]}),"\n",(0,a.jsx)(n.li,{children:"\u53c2\u6570\u5206\u533a\u529f\u80fd\u76ee\u524d\u4ec5\u5728spi nor flash\u6a21\u5f0f\u4e0b\u4f7f\u7528\uff0c\u5176\u4ed6\u6a21\u5f0f\u65e0\u53c2\u6570\u5206\u533a\uff0c\u5373\u4f7f\u52a0\u8f7d\u4e5f\u65e0\u6cd5\u4f7f\u7528"}),"\n",(0,a.jsx)(n.li,{children:"header\u5236\u4f5c\u6e90\u7801\u4e2d\u5bf9\u4e8eFILENAME_0X\u7684\u5b9a\u4e49\u683c\u5f0f\u4e3a\uff1asensor_name-\u5bbdx\u9ad8\uff0c\u8be5header\u4f1a\u5728VICAP\u5185\u90e8\u4f7f\u7528\u65f6\u8fdb\u884c\u6821\u9a8c\uff0cVICAP\u5185\u90e8\u91c7\u7528\u62fc\u63a5\u65b9\u5f0f\u751f\u6210\u6821\u9a8c\u5934\u8fdb\u884c\u5bf9\u6bd4\uff0c\u6821\u9a8c\u5934\u683c\u5f0f\u4e3a \u9a71\u52a8\u914d\u7f6e\u4e2d\u4f7f\u7528\u7684sensor_name-\u8f93\u5165\u5bbdx\u8f93\u5165\u9ad8"}),"\n",(0,a.jsx)(n.li,{children:"\u8f6c\u6362\u5de5\u5177\u4e0e\u6807\u5b9axml\u3001auto json\u3001manual json\u4ee5\u53cavicap\u7248\u672c\u5339\u914d\uff0c\u4e0d\u540c\u7248\u672c\u4e0d\u517c\u5bb9"}),"\n",(0,a.jsx)(n.li,{children:"\u4f7f\u7528\u53c2\u6570\u5206\u533a\u65f6\uff0cVICAP\u4f1a\u6839\u636e\u5f53\u524d\u4f7f\u7528\u7684sensor\u914d\u7f6e\u4ee5\u53ca\u8bbe\u7f6e\u7684\u89e3\u6790\u6a21\u5f0f\u81ea\u884c\u5bf9\u53c2\u6570\u5206\u533a\u8fdb\u884c\u6821\u9a8c\uff0c\u5f53\u6821\u9a8c\u6210\u529f\u540e\u4f1a\u53d6\u51fa\u8be5\u7ec4\u53c2\u6570\u8fdb\u884c\u52a0\u8f7d\uff0c\u65e0\u9700\u7528\u6237\u989d\u5916\u8bbe\u7f6e\u3002\u5f53\u6821\u9a8c\u5934\u5bf9\u6bd4\u5931\u8d25\u65f6\uff0c\u81ea\u52a8\u5207\u6362\u56de\u9ed8\u8ba4\u914d\u7f6e\u53c2\u6570\u89e3\u6790\u6a21\u5f0f"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(t,{...e})}):t(e)}},65135:(e,n,r)=>{r.d(n,{A:()=>a});const a=r.p+"assets/images/ISP_param-14e850f711d89281479d9e0deeebb116.png"},85088:(e,n,r)=>{r.d(n,{A:()=>a});const a=r.p+"assets/images/calc_isp_param_data_size-c69ea92513fac9bfb32fbce1e368c91d.png"},28453:(e,n,r)=>{r.d(n,{R:()=>s,x:()=>c});var a=r(96540);const i={},d=a.createContext(i);function s(e){const n=a.useContext(d);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),a.createElement(d.Provider,{value:n},e.children)}}}]);