"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[7843],{38521:(e,d,n)=>{n.r(d),n.d(d,{assets:()=>h,contentTitle:()=>l,default:()=>j,frontMatter:()=>s,metadata:()=>c,toc:()=>t});var r=n(74848),i=n(28453);const s={sidebar_position:16},l="K230\u5927\u6838\u4f4e\u901f\u9a71\u52a8API\u53c2\u8003",c={id:"CanaanK230/part7/K230Large-corelow-speeddriveAPIreference",title:"K230\u5927\u6838\u4f4e\u901f\u9a71\u52a8API\u53c2\u8003",description:"1 \u6982\u8ff0",source:"@site/docs/CanaanK230/part7/16_K230Large-corelow-speeddriveAPIreference.md",sourceDirName:"CanaanK230/part7",slug:"/CanaanK230/part7/K230Large-corelow-speeddriveAPIreference",permalink:"/docs/CanaanK230/part7/K230Large-corelow-speeddriveAPIreference",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/CanaanK230/part7/16_K230Large-corelow-speeddriveAPIreference.md",tags:[],version:"current",sidebarPosition:16,frontMatter:{sidebar_position:16},sidebar:"canaanK230Sidebar",previous:{title:"K230 DRM\u4f7f\u7528\u6307\u5357",permalink:"/docs/CanaanK230/part7/K230DRMUserGuide"},next:{title:"K230\u5c0f\u6838Linux\u9a71\u52a8API\u53c2\u8003",permalink:"/docs/CanaanK230/part7/K230ReferenceAPIsmall-coreLinuxdrivers"}},h={},t=[{value:"1 \u6982\u8ff0",id:"1-\u6982\u8ff0",level:2},{value:"1.1 \u6982\u8ff0",id:"11-\u6982\u8ff0",level:3},{value:"1.2 \u529f\u80fd\u63cf\u8ff0",id:"12-\u529f\u80fd\u63cf\u8ff0",level:3},{value:"1.3 \u9a71\u52a8API\u4f7f\u7528\u65b9\u6cd5",id:"13-\u9a71\u52a8api\u4f7f\u7528\u65b9\u6cd5",level:3},{value:"1.3.1 UART",id:"131-uart",level:4},{value:"\u5185\u6838\u6001\u7a0b\u5e8f\u4f7f\u7528uart",id:"\u5185\u6838\u6001\u7a0b\u5e8f\u4f7f\u7528uart",level:5},{value:"1.3.2 I2C",id:"132-i2c",level:4},{value:"\u5185\u6838\u6001\u7a0b\u5e8f\u4f7f\u7528i2c",id:"\u5185\u6838\u6001\u7a0b\u5e8f\u4f7f\u7528i2c",level:5},{value:"1.3.3 GPIO",id:"133-gpio",level:4},{value:"\u5185\u6838\u6001\u7a0b\u5e8f\u4f7f\u7528gpio",id:"\u5185\u6838\u6001\u7a0b\u5e8f\u4f7f\u7528gpio",level:5},{value:"\u7528\u6237\u6001\u7a0b\u5e8f\u4f7f\u7528gpio(\u4ec5\u8bfb\u5199)",id:"\u7528\u6237\u6001\u7a0b\u5e8f\u4f7f\u7528gpio\u4ec5\u8bfb\u5199",level:5},{value:"1.3.4 Hard-lock",id:"134-hard-lock",level:4},{value:"\u5185\u6838\u6001\u4f7f\u7528hard-lock",id:"\u5185\u6838\u6001\u4f7f\u7528hard-lock",level:5},{value:"1.3.5 ADC",id:"135-adc",level:4},{value:"1.3.5.1 \u7528\u6237\u6001 msh \u4f7f\u7528 adc",id:"1351-\u7528\u6237\u6001-msh-\u4f7f\u7528-adc",level:5},{value:"1.3.5.2 \u7528\u6237\u6001\u7a0b\u5e8f\u4f7f\u7528 adc",id:"1352-\u7528\u6237\u6001\u7a0b\u5e8f\u4f7f\u7528-adc",level:5},{value:"1.3.5.3 \u5185\u6838\u6001\u7a0b\u5e8f\u4f7f\u7528 adc",id:"1353-\u5185\u6838\u6001\u7a0b\u5e8f\u4f7f\u7528-adc",level:5},{value:"1.3.6 WDT",id:"136-wdt",level:4},{value:"1.3.6.1 \u7528\u6237\u6001\u7a0b\u5e8f\u4f7f\u7528WDT",id:"1361-\u7528\u6237\u6001\u7a0b\u5e8f\u4f7f\u7528wdt",level:5},{value:"1.3.6.2 \u5185\u6838\u6001\u7a0b\u5e8f\u4f7f\u7528WDT",id:"1362-\u5185\u6838\u6001\u7a0b\u5e8f\u4f7f\u7528wdt",level:5},{value:"1.3.7 OTP",id:"137-otp",level:4},{value:"1.3.7.1 \u7528\u6237\u6001\u7a0b\u5e8f\u4f7f\u7528 OTP",id:"1371-\u7528\u6237\u6001\u7a0b\u5e8f\u4f7f\u7528-otp",level:5},{value:"1.3.7.2 \u5185\u6838\u6001\u7a0b\u5e8f\u4f7f\u7528 OTP",id:"1372-\u5185\u6838\u6001\u7a0b\u5e8f\u4f7f\u7528-otp",level:5},{value:"1.3.7.3 \u6ce8\u610f\u4e8b\u9879",id:"1373-\u6ce8\u610f\u4e8b\u9879",level:5},{value:"1.3.8 TS",id:"138-ts",level:4},{value:"1.3.8.1 \u7528\u6237\u6001\u7a0b\u5e8f\u4f7f\u7528 TS",id:"1381-\u7528\u6237\u6001\u7a0b\u5e8f\u4f7f\u7528-ts",level:5},{value:"1.3.8.2 \u5185\u6838\u6001\u7a0b\u5e8f\u4f7f\u7528 TS",id:"1382-\u5185\u6838\u6001\u7a0b\u5e8f\u4f7f\u7528-ts",level:5},{value:"1.3.8.3 \u6ce8\u610f\u4e8b\u9879",id:"1383-\u6ce8\u610f\u4e8b\u9879",level:5},{value:"1.3.9 PWM",id:"139-pwm",level:4},{value:"1.3.9.1 \u5185\u6838\u6001\u7a0b\u5e8f\u4f7f\u7528PWM",id:"1391-\u5185\u6838\u6001\u7a0b\u5e8f\u4f7f\u7528pwm",level:5},{value:"1.3.9.2 FinSH\u547d\u4ee4\u4f7f\u7528PWM",id:"1392-finsh\u547d\u4ee4\u4f7f\u7528pwm",level:5},{value:"1.3.9.3 \u6ce8\u610f\u4e8b\u9879",id:"1393-\u6ce8\u610f\u4e8b\u9879",level:5},{value:"1.3.10 RTC",id:"1310-rtc",level:4},{value:"1.3.10.1 \u5185\u6838\u6001\u4f7f\u7528RTC",id:"13101-\u5185\u6838\u6001\u4f7f\u7528rtc",level:5},{value:"1.3.10.2 \u6ce8\u610f\u4e8b\u9879",id:"13102-\u6ce8\u610f\u4e8b\u9879",level:5},{value:"1.3.11 TIMER",id:"1311-timer",level:4},{value:"1.3.11.1 \u5185\u6838\u6001\u4f7f\u7528TIMER",id:"13111-\u5185\u6838\u6001\u4f7f\u7528timer",level:5},{value:"1.3.11.2 \u6ce8\u610f\u4e8b\u9879",id:"13112-\u6ce8\u610f\u4e8b\u9879",level:5},{value:"2. API \u53c2\u8003",id:"2-api-\u53c2\u8003",level:2},{value:"2.1 \u5185\u6838\u6001 API",id:"21-\u5185\u6838\u6001-api",level:3},{value:"2.1.1 UART",id:"211-uart",level:4},{value:"2.1.1.1 rt_serial_init",id:"2111-rt_serial_init",level:5},{value:"2.1.1.2 rt_serial_open",id:"2112-rt_serial_open",level:5},{value:"2.1.1.3 rt_serial_close",id:"2113-rt_serial_close",level:5},{value:"2.1.1.4 rt_serial_read",id:"2114-rt_serial_read",level:5},{value:"2.1.1.5 rt_serial_write",id:"2115-rt_serial_write",level:5},{value:"2.1.1.6 rt_serial_control",id:"2116-rt_serial_control",level:5},{value:"2.1.2 I2C",id:"212-i2c",level:4},{value:"2.1.2.1 rt_i2c_bus_device_find",id:"2121-rt_i2c_bus_device_find",level:5},{value:"2.1.2.2 rt_i2c_master_send",id:"2122-rt_i2c_master_send",level:5},{value:"2.1.2.3 rt_i2c_master_recv",id:"2123-rt_i2c_master_recv",level:5},{value:"2.1.2.4 rt_i2c_transfer",id:"2124-rt_i2c_transfer",level:5},{value:"2.1.3 GPIO",id:"213-gpio",level:4},{value:"2.1.3.1 kd_pin_mode",id:"2131-kd_pin_mode",level:5},{value:"2.1.3.2 kd_pin_write",id:"2132-kd_pin_write",level:5},{value:"2.1.3.3 kd_pin_read",id:"2133-kd_pin_read",level:5},{value:"2.1.3.4 kd_pin_attach_irq",id:"2134-kd_pin_attach_irq",level:5},{value:"2.1.3.5 kd_pin_detach_irq",id:"2135-kd_pin_detach_irq",level:5},{value:"2.1.3.6 kd_pin_irq_enable",id:"2136-kd_pin_irq_enable",level:5},{value:"2.1.3.7 gpio_device_ioctl",id:"2137-gpio_device_ioctl",level:5},{value:"2.1.4 Hard-lock",id:"214-hard-lock",level:4},{value:"2.1.4.1 kd_request_lock",id:"2141-kd_request_lock",level:5},{value:"2.1.4.2 kd_hardlock_lock",id:"2142-kd_hardlock_lock",level:5},{value:"2.1.4.3 kd_hardlock_unlock",id:"2143-kd_hardlock_unlock",level:5},{value:"2.1.5 ADC",id:"215-adc",level:4},{value:"2.1.5.1 rt_device_find",id:"2151-rt_device_find",level:5},{value:"2.1.5.2 rt_adc_enable",id:"2152-rt_adc_enable",level:5},{value:"2.1.5.3 rt_adc_read",id:"2153-rt_adc_read",level:5},{value:"2.1.5.4 rt_adc_disable",id:"2154-rt_adc_disable",level:5},{value:"2.1.6 WDT",id:"216-wdt",level:4},{value:"2.1.6.1 rt_device_find",id:"2161-rt_device_find",level:5},{value:"2.1.6.2 rt_device_init",id:"2162-rt_device_init",level:5},{value:"2.1.6.3 rt_device_control",id:"2163-rt_device_control",level:5},{value:"2.1.7 OTP",id:"217-otp",level:4},{value:"2.1.7.1 otp_device_read",id:"2171-otp_device_read",level:5},{value:"2.1.7.2 otp_device_write",id:"2172-otp_device_write",level:5},{value:"2.1.8 TS",id:"218-ts",level:4},{value:"2.1.8.1 ts_device_read",id:"2181-ts_device_read",level:5},{value:"2.1.9 PWM",id:"219-pwm",level:4},{value:"2.1.9.1 rt_pwm_set",id:"2191-rt_pwm_set",level:5},{value:"2.1.9.2 rt_pwm_enable",id:"2192-rt_pwm_enable",level:5},{value:"2.1.9.3 rt_pwm_disable",id:"2193-rt_pwm_disable",level:5},{value:"2.1.10 RTC",id:"2110-rtc",level:4},{value:"2.1.10.1 set_date",id:"21101-set_date",level:5},{value:"2.1.10.2 set_time",id:"21102-set_time",level:5},{value:"2.1.11 TIMER",id:"2111-timer",level:4},{value:"2.1.11.1 rt_device_set_rx_indicate",id:"21111-rt_device_set_rx_indicate",level:5},{value:"2.2 \u7528\u6237\u6001 API",id:"22-\u7528\u6237\u6001-api",level:3},{value:"2.2.1 ADC",id:"221-adc",level:4},{value:"2.2.1.1 rt_device_find",id:"2211-rt_device_find",level:5},{value:"2.2.1.2 rt_device_open",id:"2212-rt_device_open",level:5},{value:"2.2.1.3 rt_device_control",id:"2213-rt_device_control",level:5},{value:"2.2.1.4 rt_device_read",id:"2214-rt_device_read",level:5},{value:"2.2.2 WDT",id:"222-wdt",level:4},{value:"2.2.2.1 open",id:"2221-open",level:5},{value:"2.2.2.2 ioctl",id:"2222-ioctl",level:5},{value:"2.2.3 OTP",id:"223-otp",level:4},{value:"2.2.3.1 rt_device_find",id:"2231-rt_device_find",level:5},{value:"2.2.3.2 rt_device_open",id:"2232-rt_device_open",level:5},{value:"2.2.3.3 rt_device_read",id:"2233-rt_device_read",level:5},{value:"2.2.3.4 rt_device_write",id:"2234-rt_device_write",level:5},{value:"2.2.3.5 rt_device_close",id:"2235-rt_device_close",level:5},{value:"2.2.4 TS",id:"224-ts",level:4},{value:"3. \u6570\u636e\u7c7b\u578b",id:"3-\u6570\u636e\u7c7b\u578b",level:2},{value:"3.1 struct rt_device_gpio",id:"31-struct-rt_device_gpio",level:3},{value:"3.2 device_hardlock",id:"32-device_hardlock",level:3},{value:"3.3 struct kd_alarm_setup",id:"33-struct-kd_alarm_setup",level:3},{value:"4. \u9519\u8bef\u7801",id:"4-\u9519\u8bef\u7801",level:2},{value:"5. \u8ba1\u7b97\u516c\u5f0f",id:"5-\u8ba1\u7b97\u516c\u5f0f",level:2},{value:"5.1 ADC \u8ba1\u7b97\u516c\u5f0f",id:"51-adc-\u8ba1\u7b97\u516c\u5f0f",level:3},{value:"5.2 WDT\u8d85\u65f6\u65f6\u95f4\u8ba1\u7b97\u516c\u5f0f",id:"52-wdt\u8d85\u65f6\u65f6\u95f4\u8ba1\u7b97\u516c\u5f0f",level:3}];function x(e){const d={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.header,{children:(0,r.jsx)(d.h1,{id:"k230\u5927\u6838\u4f4e\u901f\u9a71\u52a8api\u53c2\u8003",children:"K230\u5927\u6838\u4f4e\u901f\u9a71\u52a8API\u53c2\u8003"})}),"\n",(0,r.jsx)(d.h2,{id:"1-\u6982\u8ff0",children:"1 \u6982\u8ff0"}),"\n",(0,r.jsx)(d.h3,{id:"11-\u6982\u8ff0",children:"1.1 \u6982\u8ff0"}),"\n",(0,r.jsx)(d.p,{children:"UART\uff1a"}),"\n",(0,r.jsx)(d.p,{children:"\u901a\u7528\u5f02\u6b65\u6536\u53d1\u5668\uff0c\u8be5\u603b\u7ebf\u53cc\u5411\u901a\u4fe1\uff0c\u53ef\u4ee5\u5b9e\u73b0\u5168\u53cc\u5de5\u4f20\u8f93\u548c\u63a5\u6536\u3002\u5728\u5d4c\u5165\u5f0f\u8bbe\u8ba1\u4e2d\uff0cUART\u7528\u6765\u4e0ePC\u8fdb\u884c\u901a\u4fe1\uff0c\u5305\u62ec\u4e0e\u76d1\u63a7\u8c03\u8bd5\u5668\u548c\u5176\u5b83\u5668\u4ef6\uff0c\u5982EEPROM\u901a\u4fe1\u3002"}),"\n",(0,r.jsx)(d.p,{children:"I2C\uff1a"}),"\n",(0,r.jsx)(d.p,{children:"\u7531Philips\u516c\u53f8\uff082006\u5e74\u8fc1\u79fb\u5230NXP\uff09\u57281980\u5e74\u4ee3\u521d\u5f00\u53d1\u7684\u4e00\u79cd\u7b80\u5355\u3001\u53cc\u7ebf\u53cc\u5411\u7684\u540c\u6b65\u4e32\u884c\u603b\u7ebf\uff0c\u5b83\u5229\u7528\u4e00\u6839\u65f6\u949f\u7ebf\u548c\u4e00\u6839\u6570\u636e\u7ebf\u5728\u8fde\u63a5\u603b\u7ebf\u7684\u4e24\u4e2a\u5668\u4ef6\u4e4b\u95f4\u8fdb\u884c\u4fe1\u606f\u7684\u4f20\u9012\uff0c\u4e3a\u8bbe\u5907\u4e4b\u95f4\u6570\u636e\u4ea4\u6362\u63d0\u4f9b\u4e86\u4e00\u79cd\u7b80\u5355\u9ad8\u6548\u7684\u65b9\u6cd5\u3002\u6bcf\u4e2a\u8fde\u63a5\u5230\u603b\u7ebf\u4e0a\u7684\u5668\u4ef6\u90fd\u6709\u552f\u4e00\u7684\u5730\u5740\uff0c\u4efb\u4f55\u5668\u4ef6\u65e2\u53ef\u4ee5\u4f5c\u4e3a\u4e3b\u673a\u4e5f\u53ef\u4ee5\u4f5c\u4e3a\u4ece\u673a\uff0c\u4f46\u540c\u4e00\u65f6\u523b\u53ea\u5141\u8bb8\u6709\u4e00\u4e2a\u4e3b\u673a\u3002"}),"\n",(0,r.jsx)(d.p,{children:"GPIO\uff1a"}),"\n",(0,r.jsx)(d.p,{children:"\uff08general porpose intput output\uff09\u901a\u7528\u8f93\u5165\u8f93\u51fa\u7aef\u53e3\u7684\u7b80\u79f0\u3002\u53ef\u4ee5\u901a\u8fc7\u8f6f\u4ef6\u63a7\u5236\u5176\u8f93\u51fa\u548c\u8f93\u5165\uff0c\u901a\u4fd7\u6765\u8bf4\u5c31\u662f\u5e38\u7528\u5f15\u811a\uff0c\u53ef\u4ee5\u63a7\u5236\u5f15\u811a\u7684\u9ad8\u4f4e\u7535\u5e73\uff0c\u5bf9\u5176\u8fdb\u884c\u8bfb\u53d6\u6216\u8005\u5199\u5165\u3002"}),"\n",(0,r.jsx)(d.p,{children:"Hard-lock\uff1a"}),"\n",(0,r.jsx)(d.p,{children:"\u5609\u6960\u81ea\u7814\u6a21\u5757\uff0c\u7528\u4e8e\u540c\u6838\u4e0d\u901a\u8fdb\u7a0b\u95f4\u6216\u5f02\u6838\u4e4b\u95f4\u5bf9\u5171\u4eab\u8d44\u6e90\u7684\u4e92\u65a5\u800c\u5b9e\u73b0\u7684\u786c\u4ef6\u4e92\u65a5\u9501\uff0c\u53ef\u7528\u4e8e\u5bf9\u5171\u4eab\u8d44\u6e90\u7684\u4e92\u65a5\u4f7f\u7528\u3002"}),"\n",(0,r.jsx)(d.p,{children:"ADC\uff1a"}),"\n",(0,r.jsx)(d.p,{children:"ADC \u5373\u6a21\u62df\u6570\u5b57\u8f6c\u6362\u5668\uff08Analog-to-digital converter\uff09\uff0c\u662f\u6307\u5c06\u8fde\u7eed\u53d8\u5316\u7684\u6a21\u62df\u4fe1\u53f7\u8f6c\u6362\u4e3a\u79bb\u6563\u7684\u6570\u5b57\u4fe1\u53f7\u7684\u5668\u4ef6\u3002\u771f\u5b9e\u4e16\u754c\u7684\u6a21\u62df\u4fe1\u53f7\uff0c\u4f8b\u5982\u6e29\u5ea6\u3001\u538b\u529b\u3001\u58f0\u97f3\u6216\u8005\u56fe\u50cf\u7b49\uff0c\u9700\u8981\u8f6c\u6362\u6210\u66f4\u5bb9\u6613\u50a8\u5b58\u3001\u5904\u7406\u548c\u53d1\u5c04\u7684\u6570\u5b57\u5f62\u5f0f\u3002\u6a21\u6570\u8f6c\u6362\u5668\u53ef\u4ee5\u5b9e\u73b0\u8fd9\u4e2a\u529f\u80fd\uff0c\u5728\u5404\u79cd\u4e0d\u540c\u7684\u4ea7\u54c1\u4e2d\u90fd\u53ef\u4ee5\u627e\u5230\u5b83\u7684\u8eab\u5f71\u3002"}),"\n",(0,r.jsx)(d.p,{children:"WDT\uff1a\nWDT \u662fwatchdog\u7684\u7b80\u79f0\uff0c\u672c\u8d28\u4e0a\u662f\u4e00\u4e2a\u5b9a\u65f6\u5668\uff0c\u8f6f\u4ef6\u7a0b\u5e8f\u9700\u8981\u6bcf\u9694\u4e00\u6bb5\u65f6\u95f4\u5582\u4e00\u6b21\u72d7\uff0c\u5982\u679cWDT\u8d85\u65f6\u5219\u53ef\u4ee5\u4ea7\u751f\u4e00\u4e2a\u4e2d\u65ad\u4fe1\u53f7\u6216\u590d\u4f4d\u4fe1\u53f7\u5230CPU\uff0c\u7531\u6b64\u901a\u8fc7\u8f6f\u786c\u4ef6\u7ed3\u5408\u7684\u65b9\u5f0f\u9632\u6b62\u7a0b\u5e8f\u8fd0\u884c\u5f02\u5e38\u800c\u4e0d\u590d\u4f4d\u3002"}),"\n",(0,r.jsx)(d.p,{children:"OTP\uff1a\nOTP \u4e3b\u8981\u7528\u4e8e\u5b58\u50a8\u5b89\u5168\u654f\u611f\u7684\u673a\u5bc6\u4fe1\u606f\uff0c\u4f8b\u5982 bootrom \u7684\u56fa\u4ef6\u4fe1\u606f\u3001\u52a0\u89e3\u5bc6\u5bc6\u94a5\u3001\u7b7e\u540d\u4fe1\u606f\u4ee5\u53ca\u7528\u6237\u81ea\u5df1\u5b9a\u4e49\u7684\u5b89\u5168\u4fe1\u606f\u7b49\u3002OTP \u96c6\u6210\u5728\u5b89\u5168\u6a21\u5757 PUF \u4e2d\uff0c\u4e3a\u6574\u4e2a SoC \u63d0\u4f9b\u5b89\u5168\u5b58\u50a8\u529f\u80fd\uff0c\u4fdd\u62a4\u6839\u5bc6\u94a5\u548c\u542f\u52a8\u4ee3\u7801\u7b49\u5173\u952e\u6570\u636e\u4e0d\u88ab\u653b\u51fb\u8005\u7834\u574f\u3002\u5927\u6838\u4fa7 OTP \u9a71\u52a8\u4e3b\u8981\u63d0\u4f9b\u8bfb\u3001\u5199\u4e24\u79cd\u529f\u80fd\uff0c\u53ef\u8bfb\u533a\u57df\u4e3a\u5305\u62ec\u751f\u4ea7\u4fe1\u606f\u5728\u5185\u7684 24Kbits \u7a7a\u95f4\uff1b\u5199\u533a\u57df\u4e3a OTP \u7684\u6700\u540e 512 bytes \u7a7a\u95f4\u3002"}),"\n",(0,r.jsx)(d.p,{children:"TS\uff1a\nK230 TS\uff08Temperature Sensor\uff09\uff0c\u81ea\u7814\u6e29\u5ea6\u4f20\u611f\u5668\uff0c\u91c7\u7528 TSMC 12nm \u5de5\u827a\u3002TS \u7684\u5e94\u7528\u573a\u666f\u662f\u964d\u9891\u3002\u5927\u6838\u4fa7 TS \u9a71\u52a8\u4e3b\u8981\u63d0\u4f9b\u8bfb\u529f\u80fd\uff0c\u5728\u8bfb TS \u4e4b\u524d\uff0c\u9996\u5148\u9700\u8981\u914d\u7f6e TS \u5bc4\u5b58\u5668\u4f7f\u80fd\u4fe1\u53f7\u3001\u8f93\u51fa\u6a21\u5f0f\uff0c\u7136\u540e\u624d\u80fd\u8bfb\u51fa\u82af\u7247\u7684\u7ed3\u6e29\u3002\u53e6\u5916\uff0cTS \u5bc4\u5b58\u5668\u6bcf 2.6s \u8bfb\u53d6\u4e00\u6b21\u82af\u7247\u7ed3\u6e29\u3002"}),"\n",(0,r.jsx)(d.p,{children:"PWM\uff1a\u662f\u4e00\u79cd\u5bf9\u6a21\u62df\u4fe1\u53f7\u7535\u5e73\u8fdb\u884c\u6570\u5b57\u7f16\u7801\u7684\u65b9\u6cd5\uff0c\u901a\u8fc7\u4e0d\u540c\u9891\u7387\u7684\u8109\u51b2\u4f7f\u7528\u65b9\u6ce2\u7684\u5360\u7a7a\u6bd4\u7528\u6765\u5bf9\u4e00\u4e2a\u5177\u4f53\u6a21\u62df\u4fe1\u53f7\u7684\u7535\u5e73\u8fdb\u884c\u7f16\u7801\uff0c\u4f7f\u8f93\u51fa\u7aef\u5f97\u5230\u4e00\u7cfb\u5217\u5e45\u503c\u76f8\u7b49\u7684\u8109\u51b2\uff0c\u7528\u8fd9\u4e9b\u8109\u51b2\u6765\u4ee3\u66ff\u6240\u9700\u8981\u6ce2\u5f62\u7684\u8bbe\u5907\u3002"}),"\n",(0,r.jsx)(d.p,{children:"RTC\uff1a\u5b9e\u65f6\u65f6\u949f\u53ef\u4ee5\u63d0\u4f9b\u7cbe\u786e\u7684\u5b9e\u65f6\u65f6\u95f4\uff0c\u5b83\u53ef\u4ee5\u7528\u4e8e\u4ea7\u751f\u5e74\u3001\u6708\u3001\u65e5\u3001\u65f6\u3001\u5206\u3001\u79d2\u3001\u661f\u671f\u7b49\u4fe1\u606f\u3002"}),"\n",(0,r.jsx)(d.p,{children:"TIMER(HWTIMER)\uff1a\u901a\u8fc7\u5185\u90e8\u8ba1\u6570\u5668\u6a21\u5757\u5bf9\u5185\u5916\u90e8\u8109\u51b2\u4fe1\u53f7\u8fdb\u884c\u8ba1\u6570\uff0c\u53ef\u4ee5\u5de5\u4f5c\u5728\u5b9a\u65f6\u5668\u6a21\u5f0f\u548c\u8ba1\u6570\u5668\u6a21\u5f0f\u3002"}),"\n",(0,r.jsx)(d.h3,{id:"12-\u529f\u80fd\u63cf\u8ff0",children:"1.2 \u529f\u80fd\u63cf\u8ff0"}),"\n",(0,r.jsx)(d.p,{children:"UART\u9a71\u52a8\u7ed3\u6784\u5982\u4e0b\u56fe\uff1a"}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.img,{alt:"\u56fe\u5f62\u7528\u6237\u754c\u9762 \u63cf\u8ff0\u5df2\u81ea\u52a8\u751f\u6210",src:n(88715).A+"",width:"1091",height:"353"})}),"\n",(0,r.jsx)(d.p,{children:"I2C\u9a71\u52a8\u7ed3\u6784\u5982\u4e0b\u56fe\uff1a"}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.img,{alt:"\u56fe\u5f62\u7528\u6237\u754c\u9762, Teams \u63cf\u8ff0\u5df2\u81ea\u52a8\u751f\u6210",src:n(61145).A+"",width:"1009",height:"528"})}),"\n",(0,r.jsx)(d.p,{children:"GPIO\u9a71\u52a8\u7ed3\u6784\u5982\u4e0b\u56fe\uff1a"}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.img,{alt:"\u56fe\u5f62\u7528\u6237\u754c\u9762, \u5e94\u7528\u7a0b\u5e8f \u63cf\u8ff0\u5df2\u81ea\u52a8\u751f\u6210",src:n(68802).A+"",width:"978",height:"596"})}),"\n",(0,r.jsx)(d.p,{children:"Hard-lock\u9a71\u52a8\u7ed3\u6784\u5982\u4e0b\u56fe\uff1a"}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.img,{alt:"\u56fe\u7247\u5305\u542b \u5e94\u7528\u7a0b\u5e8f \u63cf\u8ff0\u5df2\u81ea\u52a8\u751f\u6210",src:n(73237).A+"",width:"737",height:"929"})}),"\n",(0,r.jsx)(d.p,{children:"adc \u9a71\u52a8\u7ed3\u6784\u5982\u4e0b\u56fe\uff1a"}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.img,{alt:"\u56fe\u793a \u63cf\u8ff0\u5df2\u81ea\u52a8\u751f\u6210",src:n(50070).A+"",width:"602",height:"1082"})}),"\n",(0,r.jsx)(d.p,{children:"\u5c06 adc \u786c\u4ef6\u62bd\u8c61\u4e3a\u4e00\u4e2a\u8bbe\u5907\uff0c\u8bbe\u5907\u5305\u542b\u516d\u4e2a\u901a\u9053\u3002\u652f\u6301\u91c7\u6837\u7535\u538b\u8303\u56f4\u4e3a 0V~1.8V\uff0c\u6d6e\u52a8\u8303\u56f4\u4e3a 5mv\u3002"}),"\n",(0,r.jsx)(d.p,{children:"WDT \u9a71\u52a8\u7ed3\u6784\u5982\u4e0b\u56fe\uff1a"}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.img,{alt:"wdt_driver_model",src:n(95020).A+"",width:"1331",height:"251"})}),"\n",(0,r.jsx)(d.p,{children:"OTP \u9a71\u52a8\u7ed3\u6784\u5982\u4e0b\u56fe\uff1a"}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.img,{alt:"otp",src:n(50552).A+"",width:"2426",height:"2259"})}),"\n",(0,r.jsx)(d.p,{children:"TS \u9a71\u52a8\u7ed3\u6784\u5982\u4e0b\u56fe\u6240\u793a\uff1a"}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.img,{alt:"tsensor",src:n(23330).A+"",width:"2426",height:"2259"})}),"\n",(0,r.jsx)(d.p,{children:"PWM \u9a71\u52a8\u7ed3\u6784\u5982\u4e0b\u56fe\u6240\u793a\uff1a"}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.img,{alt:"pwm",src:n(65869).A+"",width:"921",height:"587"})}),"\n",(0,r.jsx)(d.p,{children:"RTC \u9a71\u52a8\u7ed3\u6784\u5982\u4e0b\u56fe\u6240\u793a\uff1a"}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.img,{alt:"rtc",src:n(66426).A+"",width:"1001",height:"241"})}),"\n",(0,r.jsx)(d.p,{children:"TIMER \u9a71\u52a8\u7ed3\u6784\u5982\u4e0b\u56fe\u6240\u793a\uff1a"}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.img,{alt:"timer",src:n(99056).A+"",width:"1071",height:"341"})}),"\n",(0,r.jsx)(d.h3,{id:"13-\u9a71\u52a8api\u4f7f\u7528\u65b9\u6cd5",children:"1.3 \u9a71\u52a8API\u4f7f\u7528\u65b9\u6cd5"}),"\n",(0,r.jsx)(d.h4,{id:"131-uart",children:"1.3.1 UART"}),"\n",(0,r.jsx)(d.h5,{id:"\u5185\u6838\u6001\u7a0b\u5e8f\u4f7f\u7528uart",children:"\u5185\u6838\u6001\u7a0b\u5e8f\u4f7f\u7528uart"}),"\n",(0,r.jsxs)(d.ol,{children:["\n",(0,r.jsx)(d.li,{children:"\u901a\u8fc7\u8bbe\u5907\u8282\u70b9\u627e\u5230\u8bbe\u5907\u53e5\u67c4\u3002"}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"uart_dev = rt_device_find(\u201cuart\u201d)"})}),"\n",(0,r.jsxs)(d.ol,{children:["\n",(0,r.jsx)(d.li,{children:"\u4ee5\u4e2d\u65ad\u63a5\u6536\u53ca\u8f6e\u8be2\u53d1\u9001\u6a21\u5f0f\u6253\u5f00\u4e32\u53e3\u8bbe\u5907"}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"rt_device_open(uart_dev, RT_DEVICE_FLAG_INT_RX)"})}),"\n",(0,r.jsxs)(d.ol,{children:["\n",(0,r.jsx)(d.li,{children:"\u8bbe\u7f6e\u63a5\u6536\u56de\u8c03\u51fd\u6570"}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"rt_device_set_rx_indicate(uart_dev,call_back)"})}),"\n",(0,r.jsxs)(d.ol,{children:["\n",(0,r.jsx)(d.li,{children:"\u53d1\u9001\u5b57\u7b26\u4e32"}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"rt_device_write(uart_dev, 0, str, (sizeof(str) - 1))"})}),"\n",(0,r.jsx)(d.h4,{id:"132-i2c",children:"1.3.2 I2C"}),"\n",(0,r.jsx)(d.h5,{id:"\u5185\u6838\u6001\u7a0b\u5e8f\u4f7f\u7528i2c",children:"\u5185\u6838\u6001\u7a0b\u5e8f\u4f7f\u7528i2c"}),"\n",(0,r.jsxs)(d.ol,{children:["\n",(0,r.jsx)(d.li,{children:"\u901a\u8fc7\u603b\u7ebf\u540d\u627e\u5230\u603b\u7ebf\u53e5\u67c4"}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"i2c_bus = rt_i2c_bus_device_find(I2C_NAME)"})}),"\n",(0,r.jsxs)(d.ol,{children:["\n",(0,r.jsx)(d.li,{children:"\u6784\u5efamessage"}),"\n"]}),"\n",(0,r.jsx)(d.pre,{children:(0,r.jsx)(d.code,{className:"language-text",children:"struct rt_i2c_msg msgs\nmsgs.addr = CHIP_ADDRESS;\nmsgs.flags = RT_I2C_WR;\nmsgs.buf = buf;\nmsgs.len = 2;\n"})}),"\n",(0,r.jsxs)(d.ol,{children:["\n",(0,r.jsx)(d.li,{children:"\u4f20\u8f93"}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"rt_i2c_transfer(bus, &msgs, 1)"})}),"\n",(0,r.jsx)(d.h4,{id:"133-gpio",children:"1.3.3 GPIO"}),"\n",(0,r.jsx)(d.h5,{id:"\u5185\u6838\u6001\u7a0b\u5e8f\u4f7f\u7528gpio",children:"\u5185\u6838\u6001\u7a0b\u5e8f\u4f7f\u7528gpio"}),"\n",(0,r.jsxs)(d.ol,{children:["\n",(0,r.jsx)(d.li,{children:"\u5305\u542b\u5934\u6587\u4ef6"}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:'#include "drv_gpio.h"'})}),"\n",(0,r.jsxs)(d.ol,{children:["\n",(0,r.jsx)(d.li,{children:"\u8bbe\u7f6e\u5173\u952e\u8f93\u5165\u8f93\u51fa\u6a21\u5f0f"}),"\n"]}),"\n",(0,r.jsxs)(d.p,{children:[(0,r.jsx)(d.code,{children:"kd_pin_mode(LED_PIN_NUM1, GPIO_DM_OUTPUT)"}),"\n",(0,r.jsx)(d.code,{children:"kd_pin_mode(KEY1_PIN_NUM, GPIO_DM_INPUT)"})]}),"\n",(0,r.jsxs)(d.ol,{children:["\n",(0,r.jsx)(d.li,{children:"\u8bbe\u7f6e\u9ad8\u4f4e\u7535\u5e73"}),"\n"]}),"\n",(0,r.jsxs)(d.p,{children:[(0,r.jsx)(d.code,{children:"kd_pin_write(LED_PIN_NUM1, GPIO_PV_LOW)"}),"\n",(0,r.jsx)(d.code,{children:"kd_pin_write(LED_PIN_NUM1, GPIO_PV_HIGH)"})]}),"\n",(0,r.jsxs)(d.ol,{children:["\n",(0,r.jsx)(d.li,{children:"\u8bfb\u53d6\u7535\u5e73"}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"kd_pin_read(KEY1_PIN_NUM)"})}),"\n",(0,r.jsxs)(d.ol,{children:["\n",(0,r.jsx)(d.li,{children:"\u8bbe\u7f6e\u4e2d\u65ad\u65b9\u5f0f\uff0c\u7ed1\u5b9a\u4e2d\u65ad\u51fd\u6570"}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"kd_pin_attach_irq(KEY1_PIN_NUM,GPIO_PE_FALLING, key_irq, RT_NULL)"})}),"\n",(0,r.jsxs)(d.ol,{children:["\n",(0,r.jsx)(d.li,{children:"\u4e2d\u65ad\u4f7f\u80fd"}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"kd_pin_irq_enable(KEY1_PIN_NUM, KD_GPIO_IRQ_ENABLE)"})}),"\n",(0,r.jsx)(d.h5,{id:"\u7528\u6237\u6001\u7a0b\u5e8f\u4f7f\u7528gpio\u4ec5\u8bfb\u5199",children:"\u7528\u6237\u6001\u7a0b\u5e8f\u4f7f\u7528gpio(\u4ec5\u8bfb\u5199)"}),"\n",(0,r.jsxs)(d.ol,{children:["\n",(0,r.jsx)(d.li,{children:"\u6253\u5f00\u8bbe\u5907"}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:'gpio_fd = open("/dev/gpio", O_RDWR)'})}),"\n",(0,r.jsxs)(d.ol,{children:["\n",(0,r.jsx)(d.li,{children:"\u914d\u7f6e\u8f93\u5165\u8f93\u51fa\u6a21\u5f0f"}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"ioctl(fd, GPIO_DM_OUTPUT, &mode33)"})}),"\n",(0,r.jsxs)(d.ol,{children:["\n",(0,r.jsx)(d.li,{children:"\u8f93\u51fa\u9ad8\u4f4e\u7535\u5e73"}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"ioctl(fd, GPIO_WRITE_HIGH, &mode33)"})}),"\n",(0,r.jsxs)(d.ol,{children:["\n",(0,r.jsx)(d.li,{children:"\u8bfb\u53d6\u7535\u5e73"}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"ioctl(fd, GPIO_READ_VALUE, &mode27)"})}),"\n",(0,r.jsx)(d.h4,{id:"134-hard-lock",children:"1.3.4 Hard-lock"}),"\n",(0,r.jsx)(d.h5,{id:"\u5185\u6838\u6001\u4f7f\u7528hard-lock",children:"\u5185\u6838\u6001\u4f7f\u7528hard-lock"}),"\n",(0,r.jsxs)(d.ol,{children:["\n",(0,r.jsx)(d.li,{children:"\u5305\u542b\u5934\u6587\u4ef6"}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:'#include "drv_hardlock.h"'})}),"\n",(0,r.jsxs)(d.ol,{children:["\n",(0,r.jsx)(d.li,{children:"\u7533\u8bf7\u4f7f\u7528\u9501"}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"kd_request_lock(rt_uint32_t num)"})}),"\n",(0,r.jsxs)(d.ol,{children:["\n",(0,r.jsx)(d.li,{children:"\u91ca\u653e\u9501"}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"kd_hardlock_unlock(rt_uint32_t num)"})}),"\n",(0,r.jsx)(d.h4,{id:"135-adc",children:"1.3.5 ADC"}),"\n",(0,r.jsx)(d.h5,{id:"1351-\u7528\u6237\u6001-msh-\u4f7f\u7528-adc",children:"1.3.5.1 \u7528\u6237\u6001 msh \u4f7f\u7528 adc"}),"\n",(0,r.jsx)(d.p,{children:"\u7528\u6237\u901a\u8fc7 msh \u6765\u83b7\u53d6 adc \u91c7\u6837\u503c\u7684\u6b65\u9aa4\u5982\u4e0b\uff1a"}),"\n",(0,r.jsxs)(d.ol,{children:["\n",(0,r.jsx)(d.li,{children:"\u5728\u4f7f\u7528\u8bbe\u5907\u524d\uff0c\u9700\u8981\u5148\u67e5\u627e\u8bbe\u5907\u662f\u5426\u5b58\u5728\uff0c\u53ef\u4ee5\u4f7f\u7528\u547d\u4ee4 adc probe \u540e\u9762\u8ddf\u6ce8\u518c\u7684 ADC \u8bbe\u5907\u7684\u540d\u79f0\u3002\u5982\u4e0b\u6240\u793a\uff1b"}),"\n"]}),"\n",(0,r.jsxs)(d.p,{children:[(0,r.jsx)(d.code,{children:"msh />adc probe adc"}),"\n",(0,r.jsx)(d.code,{children:"probe adc success"})]}),"\n",(0,r.jsxs)(d.ol,{children:["\n",(0,r.jsx)(d.li,{children:"\u4f7f\u80fd\u8bbe\u5907\u7684\u67d0\u4e2a\u901a\u9053\u53ef\u4ee5\u4f7f\u7528\u547d\u4ee4 adc enable \u540e\u9762\u8ddf\u901a\u9053\u53f7\uff1b"}),"\n"]}),"\n",(0,r.jsxs)(d.p,{children:[(0,r.jsx)(d.code,{children:"msh />adc enable 0"}),"\n",(0,r.jsx)(d.code,{children:"adc channel 0 enables success"})]}),"\n",(0,r.jsxs)(d.ol,{children:["\n",(0,r.jsx)(d.li,{children:"\u8bfb\u53d6 ADC \u8bbe\u5907\u67d0\u4e2a\u901a\u9053\u7684\u6570\u636e\u53ef\u4ee5\u4f7f\u7528\u547d\u4ee4 adc read \u540e\u9762\u8ddf\u901a\u9053\u53f7\uff1b"}),"\n"]}),"\n",(0,r.jsxs)(d.p,{children:[(0,r.jsx)(d.code,{children:"msh />adc read 0"}),"\n",(0,r.jsx)(d.code,{children:"adc channel 0 read value is 0x00000796"})]}),"\n",(0,r.jsxs)(d.ol,{children:["\n",(0,r.jsx)(d.li,{children:"\u5173\u95ed\u8bbe\u5907\u7684\u67d0\u4e2a\u901a\u9053\u53ef\u4ee5\u4f7f\u7528\u547d\u4ee4 adc enable \u540e\u9762\u8ddf\u901a\u9053\u53f7\uff1b"}),"\n"]}),"\n",(0,r.jsxs)(d.p,{children:[(0,r.jsx)(d.code,{children:"msh />adc disable 0"}),"\n",(0,r.jsx)(d.code,{children:"adc channel 0 disable success"})]}),"\n",(0,r.jsx)(d.h5,{id:"1352-\u7528\u6237\u6001\u7a0b\u5e8f\u4f7f\u7528-adc",children:"1.3.5.2 \u7528\u6237\u6001\u7a0b\u5e8f\u4f7f\u7528 adc"}),"\n",(0,r.jsx)(d.p,{children:"\u7528\u6237\u6001\u7a0b\u5e8f\u4e2d\u83b7\u53d6 adc \u91c7\u6837\u503c\u7684\u6b65\u9aa4\u5982\u4e0b\uff1a"}),"\n",(0,r.jsxs)(d.ol,{children:["\n",(0,r.jsx)(d.li,{children:"rt_device_find \u67e5\u627e adc \u8bbe\u5907\u3002\u5982\u4e0b\u6240\u793a\uff1a"}),"\n"]}),"\n",(0,r.jsxs)(d.p,{children:[(0,r.jsx)(d.code,{children:"rt_device_t adc_dev;"}),"\n",(0,r.jsx)(d.code,{children:'adc_dev = rt_device_find("adc");'})]}),"\n",(0,r.jsxs)(d.ol,{children:["\n",(0,r.jsx)(d.li,{children:"\u901a\u8fc7\u8bbe\u5907\u53e5\u67c4\u6253\u5f00 adc \u8bbe\u5907\u3002\u5982\u4e0b\u6240\u793a\uff1a"}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"ret = rt_device_open(adc_dev, RT_DEVICE_OFLAG_RDWR);"})}),"\n",(0,r.jsxs)(d.ol,{children:["\n",(0,r.jsx)(d.li,{children:"\u901a\u8fc7\u8bbe\u5907\u53e5\u67c4\u4f7f\u80fd adc \u8bbe\u5907\u7684\u67d0\u4e2a\u901a\u9053\u3002\u5982\u4e0b\u6240\u793a\uff1a"}),"\n"]}),"\n",(0,r.jsx)(d.pre,{children:(0,r.jsx)(d.code,{className:"language-text",children:"uint32_t *p;\nuint32_t channel = 0;\np = (uint32_t *)(intptr_t)channel;\nret = rt_device_control(adc_dev, 0, (void *)p);\n"})}),"\n",(0,r.jsxs)(d.ol,{children:["\n",(0,r.jsx)(d.li,{children:"\u901a\u8fc7\u8bbe\u5907\u53e5\u67c4\u4ece adc \u8bfb\u53d6\u6570\u636e\u3002\u5982\u4e0b\u6240\u793a\uff1a"}),"\n"]}),"\n",(0,r.jsx)(d.pre,{children:(0,r.jsx)(d.code,{className:"language-text",children:"uint32_t channel = 0;\nuint32_t reg_value;\nrt_device_read(adc_dev, channel, (void *)&reg_value, sizeof(unsigned int));\n"})}),"\n",(0,r.jsxs)(d.ol,{children:["\n",(0,r.jsx)(d.li,{children:"\u5f53\u4e0d\u518d\u4f7f\u7528 adc \u7684\u67d0\u4e2a\u901a\u9053\u65f6\uff0c\u901a\u8fc7\u8bbe\u5907\u53e5\u67c4\u5931\u80fd adc \u8bbe\u5907\u7684\u67d0\u4e2a\u901a\u9053\uff1b"}),"\n"]}),"\n",(0,r.jsx)(d.pre,{children:(0,r.jsx)(d.code,{className:"language-text",children:"uint32_t *p;\nuint32_t channel = 0;\np = (uint32_t *)(intptr_t)channel;\nret = rt_device_control(adc_dev, 0, (void *)p);\n"})}),"\n",(0,r.jsx)(d.h5,{id:"1353-\u5185\u6838\u6001\u7a0b\u5e8f\u4f7f\u7528-adc",children:"1.3.5.3 \u5185\u6838\u6001\u7a0b\u5e8f\u4f7f\u7528 adc"}),"\n",(0,r.jsxs)(d.ol,{children:["\n",(0,r.jsx)(d.li,{children:"\u67e5\u627e adc \u8bbe\u5907"}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:"\u5e94\u7528\u7a0b\u5e8f\u6839\u636e adc \u8bbe\u5907\u540d\u79f0\u83b7\u53d6\u8bbe\u5907\u53e5\u67c4\uff0c\u8fdb\u800c\u53ef\u4ee5\u64cd\u4f5c adc \u8bbe\u5907\uff0c\u67e5\u627e\u8bbe\u5907\u51fd\u6570\u5982\u4e0b\u6240\u793a\uff1a"}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"rt_device_t rt_device_find(const char* name);"})}),"\n",(0,r.jsxs)(d.ol,{children:["\n",(0,r.jsx)(d.li,{children:"\u4f7f\u80fd adc \u901a\u9053"}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"rt_err_t rt_adc_enable(rt_adc_device_t dev, rt_uint32_t channel);"})}),"\n",(0,r.jsxs)(d.ol,{children:["\n",(0,r.jsx)(d.li,{children:"\u8bfb\u53d6 adc \u901a\u9053\u91c7\u6837\u503c"}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"rt_uint32_t rt_adc_read(rt_adc_device_t dev, rt_uint32_t channel);"})}),"\n",(0,r.jsxs)(d.ol,{children:["\n",(0,r.jsx)(d.li,{children:"\u5173\u95ed adc \u901a\u9053"}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"rt_err_t rt_adc_disable(rt_adc_device_t dev, rt_uint32_t channel);"})}),"\n",(0,r.jsx)(d.h4,{id:"136-wdt",children:"1.3.6 WDT"}),"\n",(0,r.jsx)(d.h5,{id:"1361-\u7528\u6237\u6001\u7a0b\u5e8f\u4f7f\u7528wdt",children:"1.3.6.1 \u7528\u6237\u6001\u7a0b\u5e8f\u4f7f\u7528WDT"}),"\n",(0,r.jsxs)(d.ol,{children:["\n",(0,r.jsx)(d.li,{children:"\u6253\u5f00\u8bbe\u5907\u8282\u70b9"}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"open(WDT_DEVICE_NAME, O_RDWR);"})}),"\n",(0,r.jsxs)(d.ol,{children:["\n",(0,r.jsx)(d.li,{children:"\u8bbe\u7f6e\u8d85\u65f6\u65f6\u95f4"}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"ioctl(wdt_fd, CTRL_WDT_SET_TIMEOUT, &timeout);"})}),"\n",(0,r.jsxs)(d.ol,{children:["\n",(0,r.jsx)(d.li,{children:"\u542f\u52a8\u770b\u95e8\u72d7\u8ba1\u65f6"}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"ioctl(wdt_fd, CTRL_WDT_START, NULL);"})}),"\n",(0,r.jsxs)(d.ol,{children:["\n",(0,r.jsx)(d.li,{children:"\u5582\u72d7"}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"ioctl(wdt_fd, CTRL_WDT_KEEPALIVE, NULL)"})}),"\n",(0,r.jsx)(d.h5,{id:"1362-\u5185\u6838\u6001\u7a0b\u5e8f\u4f7f\u7528wdt",children:"1.3.6.2 \u5185\u6838\u6001\u7a0b\u5e8f\u4f7f\u7528WDT"}),"\n",(0,r.jsxs)(d.ol,{children:["\n",(0,r.jsx)(d.li,{children:"\u83b7\u53d6\u8bbe\u5907\u53e5\u67c4"}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"wdt_dev = rt_device_find(WDT_DEVICE_NAME);"})}),"\n",(0,r.jsxs)(d.ol,{children:["\n",(0,r.jsx)(d.li,{children:"\u521d\u59cb\u5316\u8bbe\u5907"}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"rt_device_init(wdt_dev);"})}),"\n",(0,r.jsxs)(d.ol,{children:["\n",(0,r.jsx)(d.li,{children:"\u8bbe\u7f6e\u8d85\u65f6\u65f6\u95f4"}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"rt_device_control(wdt_dev, KD_DEVICE_CTRL_WDT_SET_TIMEOUT, &timeout);"})}),"\n",(0,r.jsxs)(d.ol,{children:["\n",(0,r.jsx)(d.li,{children:"\u542f\u52a8\u770b\u95e8\u72d7\u8ba1\u65f6"}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"rt_device_control(wdt_dev, KD_DEVICE_CTRL_WDT_START, RT_NULL);"})}),"\n",(0,r.jsxs)(d.ol,{children:["\n",(0,r.jsx)(d.li,{children:"\u5582\u72d7"}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"rt_device_control(wdt_dev, KD_DEVICE_CTRL_WDT_KEEPALIVE, RT_NULL);"})}),"\n",(0,r.jsx)(d.h4,{id:"137-otp",children:"1.3.7 OTP"}),"\n",(0,r.jsx)(d.p,{children:"\u5927\u6838\u4fa7 OTP \u9a71\u52a8\u53ef\u4ee5\u652f\u6301\u88ab\u5185\u6838\u6001\u5176\u5b83\u9a71\u52a8\u8c03\u7528\u3001\u7528\u6237\u6001\u5e94\u7528\u7a0b\u5e8f\u8c03\u7528\u7b49\u573a\u666f\uff0c\u4e0b\u9762\uff0c\u5c06\u5206\u522b\u4ecb\u7ecd\u8fd9\u4e24\u79cd\u5e94\u7528\u573a\u666f\u4e0b OTP \u9a71\u52a8\u7684\u4f7f\u7528\u65b9\u6cd5\u3001\u6ce8\u610f\u4e8b\u9879\u3002"}),"\n",(0,r.jsx)(d.h5,{id:"1371-\u7528\u6237\u6001\u7a0b\u5e8f\u4f7f\u7528-otp",children:"1.3.7.1 \u7528\u6237\u6001\u7a0b\u5e8f\u4f7f\u7528 OTP"}),"\n",(0,r.jsxs)(d.p,{children:["\u5728 rt-smart \u4e2d\uff0c\u5e94\u7528\u7a0b\u5e8f\u901a\u8fc7 I/O \u8bbe\u5907\u7ba1\u7406\u63a5\u53e3\u6765\u8bbf\u95ee\u786c\u4ef6\u8bbe\u5907\uff0c\u5f53\u5b9e\u73b0\u5bf9\u5e94\u7684\u8bbe\u5907\u9a71\u52a8\u4e4b\u540e\uff0c\u5e94\u7528\u7a0b\u5e8f\u5c31\u53ef\u4ee5\u8bbf\u95ee\u8be5\u786c\u4ef6\u3002Rt-smart \u7528\u6237\u5c42\u901a\u8fc7\u64cd\u4f5c ",(0,r.jsx)(d.code,{children:"/dev/otp"})," \u6765\u8bbf\u95ee OTP \u786c\u4ef6\uff0c\u7528\u6237\u6001\u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528 OTP \u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7 open\u3001read\u3001write \u7b49\u64cd\u4f5c\u6765\u8bbf\u95ee otp \u8bbe\u5907\u3002\u7528\u6237\u6001\u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528 OTP \u7684\u5177\u4f53\u64cd\u4f5c\u5982\u4e0b\uff1a"]}),"\n",(0,r.jsxs)(d.ol,{children:["\n",(0,r.jsxs)(d.li,{children:["\u6dfb\u52a0\u5934\u6587\u4ef6 ",(0,r.jsx)(d.code,{children:"rtdevice.h"}),"\uff1b"]}),"\n",(0,r.jsx)(d.li,{children:"\u5e94\u7528\u7a0b\u5e8f\u6839\u636e\u8bbe\u5907\u540d\u79f0\u83b7\u53d6\u8bbe\u5907\u53e5\u67c4\uff1b"}),"\n",(0,r.jsx)(d.li,{children:"\u83b7\u5f97\u8bbe\u5907\u53e5\u67c4\u4e4b\u540e\uff0c\u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u6253\u5f00\u8bbe\u5907\uff1b"}),"\n",(0,r.jsx)(d.li,{children:"\u521d\u59cb\u5316\u53c2\u6570\uff0c\u5305\u62ec\u504f\u79fb\u91cf\u3001\u7f13\u51b2\u533a\u3001\u5927\u5c0f\uff1b"}),"\n",(0,r.jsx)(d.li,{children:"\u901a\u8fc7\u8bbe\u5907\u53e5\u67c4\u548c\u53c2\u6570\u503c\u4ece OTP \u8bbe\u5907\u4e2d\u8bfb\u53d6/\u5199\u5165\u6570\u636e\uff1b"}),"\n",(0,r.jsx)(d.li,{children:"\u5229\u7528\u8bbe\u5907\u53e5\u67c4\u5173\u95ed\u8bbe\u5907\u3002"}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:"\u5176\u4e2d\uff0csnippet \u4ee3\u7801\u5982\u4e0b\u6240\u793a\uff1a"}),"\n",(0,r.jsx)(d.pre,{children:(0,r.jsx)(d.code,{className:"language-c",children:"#include <rtdevice.h>\n#include <rtthread.h>\n\n// \u67e5\u627e\u8bbe\u5907\uff0c\u83b7\u53d6\u53e5\u67c4\notp_dev = rt_device_find(\u201cotp\u201d);\n\n//  \u6253\u5f00\u8bbe\u5907\nret = rt_device_open(otp_dev, RT_DEVICE_OFLAG_RDWR);\n\n// \u521d\u59cb\u5316\u8bfb\u53c2\u6570\u5e76\u4eceOTP\u7a7a\u95f4\u8bfb\u503c\uff0c\u53c2\u6570\u5206\u522b\u4ee3\u8868\u8bfb\u53d6OTP\u7684\u504f\u79fb\u91cf\u3001\u8981\u8bfb\u53d6\u7684\u5b57\u8282\u957f\u5ea6\u3001\u7f13\u51b2\u533a\nuint32_t pos = 0x0;\nuint32_t  size = 0xC00;\nuint32_t buffer[768] = {0};\nret = rt_device_read(otp_dev, pos, (void *)buffer, size);\n\n\n// \u521d\u59cb\u5316\u5199\u53c2\u6570\u5e76\u5199\u5165OTP\u7a7a\u95f4\uff0c\u53c2\u6570\u5206\u522b\u4ee3\u8868\u5199\u5165OTP\u7684\u504f\u79fb\u91cf\u3001\u5199\u5165\u7684\u5b57\u8282\u957f\u5ea6\u3001\u8981\u5199\u5165\u7684\u503c\npos = 0x0;\nsize = 0x4;\nbuffer[0] = 0xff11ff11;\nret = rt_device_write(otp_dev, pos, (void *)buffer, size);\n\n// \u5173\u95ed\u8bbe\u5907\nrt_device_close(otp_dev);\n\n"})}),"\n",(0,r.jsx)(d.h5,{id:"1372-\u5185\u6838\u6001\u7a0b\u5e8f\u4f7f\u7528-otp",children:"1.3.7.2 \u5185\u6838\u6001\u7a0b\u5e8f\u4f7f\u7528 OTP"}),"\n",(0,r.jsx)(d.p,{children:"\u5728rt-smart\u4e2d\uff0c\u5185\u6838\u6001\u5176\u5b83\u9a71\u52a8\u7a0b\u5e8f\u60f3\u8981\u8bfb\u5199 OTP \u7a7a\u95f4\u65f6\uff0c\u53ea\u9700\u8981\u8c03\u7528 OTP \u9a71\u52a8\u63d0\u4f9b\u7684\u63a5\u53e3\u5373\u53ef\u3002\u5177\u4f53\u7684\u6b65\u9aa4\u5982\u4e0b\u6240\u793a\uff1a"}),"\n",(0,r.jsxs)(d.ol,{children:["\n",(0,r.jsxs)(d.li,{children:["\u6dfb\u52a0\u5934\u6587\u4ef6 ",(0,r.jsx)(d.code,{children:"drv_otp.h"}),"\uff1b"]}),"\n",(0,r.jsx)(d.li,{children:"\u6839\u636e\u8bbe\u5907\u540d\u79f0\u83b7\u53d6\u8bbe\u5907\u53e5\u67c4\uff1b"}),"\n",(0,r.jsx)(d.li,{children:"\u521d\u59cb\u5316\u53c2\u6570\uff0c\u5305\u62ec\u504f\u79fb\u91cf\u3001\u7f13\u51b2\u533a\u3001\u5927\u5c0f\uff1b"}),"\n",(0,r.jsxs)(d.li,{children:["\u901a\u8fc7\u8bbe\u5907\u53e5\u67c4\u548c\u53c2\u6570\u503c\u4ece OTP \u8bbe\u5907\u4e2d\u8bfb\u53d6/\u5199\u5165\u6570\u636e\uff1b","\n",(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsx)(d.li,{children:"otp_device_read"}),"\n",(0,r.jsx)(d.li,{children:"otp_device_write"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:"\u5176\u4e2d\uff0csnippet \u4ee3\u7801\u5982\u4e0b\u6240\u793a\uff1a"}),"\n",(0,r.jsx)(d.pre,{children:(0,r.jsx)(d.code,{className:"language-c",children:"#include drv_otp.h\n\n// \u83b7\u53d6\u53e5\u67c4\notp_dev = rt_device_find(\u201cotp\u201d);\n\n// \u4ece(otp_read_base + 0x0)\u5730\u5740\u5904\u8bfb\u53d60xC00\u5b57\u8282\u7684\u6570\u636e\nuint32_t pos = 0x0;\nuint32_t  size = 0xC00;\nuint32_t buffer[768] = {0};\nret = otp_device_read(otp_dev, pos, (void *)buf, size);\n\n// \u5411(otp_write_base + 0x0)\u5730\u5740\u5904\u5199 0xff11ff11\npos = 0x0;\nsize = 0x4;\nbuffer[0] = 0xff11ff11;\nret = otp_device_write(otp_dev, pos, (void *)buffer, size);\n\n"})}),"\n",(0,r.jsx)(d.h5,{id:"1373-\u6ce8\u610f\u4e8b\u9879",children:"1.3.7.3 \u6ce8\u610f\u4e8b\u9879"}),"\n",(0,r.jsx)(d.p,{children:"\u5728\u4f7f\u7528\u8bfb\u5199 API \u7684\u65f6\u5019\uff0c\u9700\u8981\u6ce8\u610f\u4ee5\u4e0b\u51e0\u4e2a\u5173\u952e\u70b9\uff1a"}),"\n",(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsx)(d.li,{children:"\u5371\u9669\u64cd\u4f5c\uff1aOTP \u7a7a\u95f4\u4e3a\u4e00\u6b21\u53ef\u7f16\u7a0b\u7684\u533a\u57df\uff0cbit \u4f4d\u4e00\u65e6\u75310\u5199\u4e3a1\uff0c\u4fbf\u4e0d\u80fd\u6062\u590d\uff1b"}),"\n",(0,r.jsxs)(d.li,{children:["\u8bfb\u5199\u504f\u79fb\u91cf\uff1a\u8bfb\u64cd\u4f5c\u548c\u5199\u64cd\u4f5c\u7684\u57fa\u5730\u5740\u662f\u4e0d\u540c\u7684\uff0cOTP \u533a\u57df\u7684\u53ef\u8bfb\u7a7a\u95f4\u8303\u56f4\u4e3a",(0,r.jsx)(d.code,{children:"(otp_read_base + 0x0)~(otp_read_base + 0xc00)"}),"\uff0c\u53ef\u5199\u7a7a\u95f4\u7684\u957f\u5ea6\u4e3a",(0,r.jsx)(d.code,{children:"(otp_write_base + 0x0)~(otp_write_base + 0x200)"}),";"]}),"\n",(0,r.jsx)(d.li,{children:"\u8bfb\u5199size\uff1asize \u662f4\u7684\u500d\u6570\u3002"}),"\n"]}),"\n",(0,r.jsx)(d.h4,{id:"138-ts",children:"1.3.8 TS"}),"\n",(0,r.jsx)(d.p,{children:"\u5927\u6838\u4fa7 TS \u9a71\u52a8\u53ef\u4ee5\u652f\u6301\u88ab\u5185\u6838\u6001\u5176\u5b83\u9a71\u52a8\u8c03\u7528\u3001\u7528\u6237\u6001\u5e94\u7528\u7a0b\u5e8f\u8c03\u7528\u7b49\u573a\u666f\uff0c\u4e0b\u9762\uff0c\u5c06\u5206\u522b\u4ecb\u7ecd\u8fd9\u4e24\u79cd\u5e94\u7528\u573a\u666f\u4e0b TS \u9a71\u52a8\u7684\u4f7f\u7528\u65b9\u6cd5\u3001\u6ce8\u610f\u4e8b\u9879\u3002"}),"\n",(0,r.jsx)(d.h5,{id:"1381-\u7528\u6237\u6001\u7a0b\u5e8f\u4f7f\u7528-ts",children:"1.3.8.1 \u7528\u6237\u6001\u7a0b\u5e8f\u4f7f\u7528 TS"}),"\n",(0,r.jsxs)(d.p,{children:["\u5728 rt-smart \u4e2d\uff0c\u5e94\u7528\u7a0b\u5e8f\u901a\u8fc7 I/O \u8bbe\u5907\u7ba1\u7406\u63a5\u53e3\u6765\u8bbf\u95ee\u786c\u4ef6\u8bbe\u5907\uff0c\u5f53\u5b9e\u73b0\u5bf9\u5e94\u7684\u8bbe\u5907\u9a71\u52a8\u4e4b\u540e\uff0c\u5e94\u7528\u7a0b\u5e8f\u5c31\u53ef\u4ee5\u8bbf\u95ee\u8be5\u786c\u4ef6\u3002Rt-smart \u7528\u6237\u5c42\u901a\u8fc7\u64cd\u4f5c ",(0,r.jsx)(d.code,{children:"/dev/ts"})," \u6765\u8bbf\u95ee TS \u786c\u4ef6\uff0c\u7528\u6237\u6001\u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528 TS \u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7 ",(0,r.jsx)(d.code,{children:"open"}),"\u3001",(0,r.jsx)(d.code,{children:"read"}),"\u3001",(0,r.jsx)(d.code,{children:"close"})," \u7b49\u64cd\u4f5c\u6765\u8bbf\u95ee ts \u8bbe\u5907\u3002\u7528\u6237\u6001\u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528 TS \u7684\u5177\u4f53\u64cd\u4f5c\u5982\u4e0b\uff1a"]}),"\n",(0,r.jsxs)(d.ol,{children:["\n",(0,r.jsxs)(d.li,{children:["\u6dfb\u52a0\u5934\u6587\u4ef6 ",(0,r.jsx)(d.code,{children:"rtdevice.h"}),"\uff1b"]}),"\n",(0,r.jsx)(d.li,{children:"\u5e94\u7528\u7a0b\u5e8f\u6839\u636e\u8bbe\u5907\u540d\u79f0\u83b7\u53d6\u8bbe\u5907\u53e5\u67c4\uff1b"}),"\n",(0,r.jsx)(d.li,{children:"\u83b7\u5f97\u8bbe\u5907\u53e5\u67c4\u4e4b\u540e\uff0c\u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u6253\u5f00\u8bbe\u5907\uff1b"}),"\n",(0,r.jsx)(d.li,{children:"\u521d\u59cb\u5316\u53c2\u6570\uff0c\u5305\u62ec\u504f\u79fb\u91cf\u3001\u7f13\u51b2\u533a\u3001\u5927\u5c0f\uff1b"}),"\n",(0,r.jsx)(d.li,{children:"\u901a\u8fc7\u8bbe\u5907\u53e5\u67c4\u548c\u53c2\u6570\u503c\u4ece TS \u8bbe\u5907\u4e2d\u8bfb\u53d6\u6570\u636e\uff1b"}),"\n",(0,r.jsx)(d.li,{children:"\u5229\u7528\u8bbe\u5907\u53e5\u67c4\u5173\u95ed\u8bbe\u5907\u3002"}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:"\u5176\u4e2d\uff0csnippet \u4ee3\u7801\u5982\u4e0b\u6240\u793a\uff1a"}),"\n",(0,r.jsx)(d.pre,{children:(0,r.jsx)(d.code,{className:"language-c",children:'#include <rtdevice.h>\n#include <rtthread.h>\n\n// \u67e5\u627e\u8bbe\u5907\uff0c\u83b7\u53d6\u53e5\u67c4\nts_dev = rt_device_find(\u201cts\u201d);\n\n//  \u6253\u5f00\u8bbe\u5907\nret = rt_device_open(ts_dev, RT_DEVICE_OFLAG_RDWR);\n\n// \u521d\u59cb\u5316\u8bfb\u53c2\u6570\u5e76\u4eceTS\u8bbe\u5907\u4e2d\u8bfb\u503c\uff0c\u53c2\u6570\u5206\u522b\u4ee3\u8868\u8bfb\u53d6TS\u7684\u504f\u79fb\u91cf\u3001\u8981\u8bfb\u53d6\u7684\u5b57\u8282\u957f\u5ea6\u3001\u7f13\u51b2\u533a\nuint32_t pos = 0x0;\nuint32_t  size = 0x0;\nuint32_t buffer[1] = {0};\nret = rt_device_read (ts_dev, pos, (void *)buffer, size);\n\nts_val = *(uint32_t *)buffer;\ncode = (double)(ts_val & 0xfff);\n\nusleep(2600000);\n\nif(ts_val >> 12)\n{\n    temp = (1e-10 * pow(code, 4) * 1.01472 - 1e-6 * pow(code, 3) * 1.10063 + 4.36150 * 1e-3 * pow(code, 2) - 7.10128 * code + 3565.87);\n\n    printf("ts_val: 0x%x, TS = %lf C\\n", ts_val, temp);\n}\n\n// \u5173\u95ed\u8bbe\u5907\nrt_device_close(ts_dev);\n\n'})}),"\n",(0,r.jsx)(d.h5,{id:"1382-\u5185\u6838\u6001\u7a0b\u5e8f\u4f7f\u7528-ts",children:"1.3.8.2 \u5185\u6838\u6001\u7a0b\u5e8f\u4f7f\u7528 TS"}),"\n",(0,r.jsx)(d.p,{children:"\u5728rt-smart\u4e2d\uff0c\u5185\u6838\u6001\u5176\u5b83\u9a71\u52a8\u7a0b\u5e8f\u60f3\u8981\u8bfb\u82af\u7247\u7ed3\u6e29\u65f6\uff0c\u53ea\u9700\u8981\u8c03\u7528 TS \u9a71\u52a8\u63d0\u4f9b\u7684\u63a5\u53e3\u5373\u53ef\u3002\u5177\u4f53\u7684\u6b65\u9aa4\u5982\u4e0b\u6240\u793a\uff1a"}),"\n",(0,r.jsxs)(d.ol,{children:["\n",(0,r.jsxs)(d.li,{children:["\u6dfb\u52a0\u5934\u6587\u4ef6 ",(0,r.jsx)(d.code,{children:"drv_ts.h"}),"\uff1b"]}),"\n",(0,r.jsx)(d.li,{children:"\u6839\u636e\u8bbe\u5907\u540d\u79f0\u83b7\u53d6\u8bbe\u5907\u53e5\u67c4\uff1b"}),"\n",(0,r.jsx)(d.li,{children:"\u521d\u59cb\u5316\u53c2\u6570\uff0c\u5305\u62ec\u504f\u79fb\u91cf\u3001\u7f13\u51b2\u533a\u3001\u5927\u5c0f\uff1b"}),"\n",(0,r.jsxs)(d.li,{children:["\u901a\u8fc7\u8bbe\u5907\u53e5\u67c4\u548c\u53c2\u6570\u503c\u4ece TS \u8bbe\u5907\u4e2d\u8bfb\u53d6\u6e29\u5ea6\u6570\u636e\uff1b","\n",(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsx)(d.li,{children:"ts_device_read"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:"\u5176\u4e2d\uff0csnippet \u4ee3\u7801\u5982\u4e0b\u6240\u793a\uff1a"}),"\n",(0,r.jsx)(d.pre,{children:(0,r.jsx)(d.code,{className:"language-c",children:"#include drv_ts.h\n\n// \u67e5\u627e\u8bbe\u5907\uff0c\u83b7\u53d6\u53e5\u67c4\nts_dev = rt_device_find(\u201cts\u201d);\n\n// \u521d\u59cb\u5316\u8bfb\u53c2\u6570\u5e76\u4eceTS\u8bbe\u5907\u4e2d\u8bfb\u503c\uff0c\u53c2\u6570\u5206\u522b\u4ee3\u8868\u8bfb\u53d6TS\u7684\u504f\u79fb\u91cf\u3001\u8981\u8bfb\u53d6\u7684\u5b57\u8282\u957f\u5ea6\u3001\u7f13\u51b2\u533a\nuint32_t pos = 0x0;\nuint32_t  size = 0x0;\nuint32_t buffer[1] = {0};\nret = ts_device_read (ts_dev, pos, (void *)buffer, size);\n\n"})}),"\n",(0,r.jsx)(d.h5,{id:"1383-\u6ce8\u610f\u4e8b\u9879",children:"1.3.8.3 \u6ce8\u610f\u4e8b\u9879"}),"\n",(0,r.jsx)(d.p,{children:"\u5728\u8c03\u7528API\u8bfbTS\u6e29\u5ea6\u7684\u65f6\u5019\uff0c\u9700\u8981\u6ce8\u610f\u4ee5\u4e0b\u51e0\u4e2a\u5173\u952e\u70b9\uff1a"}),"\n",(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsx)(d.li,{children:"TS \u9a71\u52a8\u4f1a\u8bfb\u53d6 tsensor \u5bc4\u5b58\u5668\uff0c\u5c06\u5bc4\u5b58\u5668\u7684\u503c\u8fd4\u56de\uff0c\u4f46\u662f\u5bc4\u5b58\u5668\u7684\u503c\u5e76\u4e0d\u662f\u771f\u6b63\u7684\u6e29\u5ea6\u503c\uff0c\u9700\u8981\u7528\u6570\u5b66\u516c\u5f0f\u505a\u76f8\u5e94\u7684\u8f6c\u6362\uff0c\u8be6\u7ec6\u7684\u516c\u5f0f\u4fe1\u606f\u5982\u4e0b:"}),"\n"]}),"\n",(0,r.jsx)(d.pre,{children:(0,r.jsx)(d.code,{className:"language-c",children:"// code\u4e3a\u8bfb\u53d6TS\u5bc4\u5b58\u5668\u7684\u503c\u4fdd\u755912\u4f4d\u5f97\u5230\u7684\u7ed3\u679c\uff0ctemp\u4e3a\u82af\u7247\u7ed3\u6e29\ncode = ts_val & 0xfff;\ntemp = (1e-10 * pow(code, 4) * 1.01472 - 1e-6 * pow(code, 3) * 1.10063 + 4.36150 * 1e-3 * pow(code, 2) - 7.10128 * code + 3565.87);\n\n"})}),"\n",(0,r.jsx)(d.h4,{id:"139-pwm",children:"1.3.9 PWM"}),"\n",(0,r.jsx)(d.p,{children:"\u76ee\u524dPWM\u9a71\u52a8\u4ec5\u63d0\u4f9b\u4e86\u4ece\u5185\u6838\u6001\u7684\u8c03\u7528\u65b9\u6cd5\uff0c\u4f7f\u7528\u65b9\u6cd5\u5982\u4e0b\uff1a"}),"\n",(0,r.jsx)(d.h5,{id:"1391-\u5185\u6838\u6001\u7a0b\u5e8f\u4f7f\u7528pwm",children:"1.3.9.1 \u5185\u6838\u6001\u7a0b\u5e8f\u4f7f\u7528PWM"}),"\n",(0,r.jsx)(d.pre,{children:(0,r.jsx)(d.code,{className:"language-c",children:"pwm_demo:\n    pwm_dev = (struct rt_device_pwm *)rt_device_find(PWM_DEV_NAME);\n    /* \u8bbe\u7f6ePWM\u5468\u671f\u548c\u8109\u51b2\u5bbd\u5ea6 */\n    period = 100000;         /* PWM\u5468\u671f, \u5355\u4f4d\u4e3a\u7eb3\u79d2ns */\n    pulse = 50000;          /* PWM\u6b63\u8109\u51b2\u5bbd\u5ea6\u503c, \u5355\u4f4d\u4e3a\u7eb3\u79d2ns */\n    rt_pwm_set(pwm_dev, PWM_DEV_CHANNEL_2, period, pulse);\n    period = 100000;\n    pulse = 25000;\n    rt_pwm_set(pwm_dev, PWM_DEV_CHANNEL_3, period, pulse);\n    period = 100000;\n    pulse = 75000;\n    rt_pwm_set(pwm_dev, PWM_DEV_CHANNEL_4, period, pulse);\n    /* \u4f7f\u80fd\u8bbe\u5907\uff0c\u540c\u4e00\u8defpwm\u7684\u4e0d\u540cchannel\u4ec5\u9700\u4efb\u610fchannel\u4f7f\u80fd\u4e00\u6b21 */\n    rt_pwm_enable(pwm_dev, PWM_DEV_CHANNEL_2);\n    rt_pwm_enable(pwm_dev, PWM_DEV_CHANNEL_4);\n    sleep(10);\n    /* disable \u65f6\u540c\u7406 */\n    rt_pwm_disable(pwm_dev, PWM_DEV_CHANNEL_2);\n    rt_pwm_disable(pwm_dev, PWM_DEV_CHANNEL_4);\n"})}),"\n",(0,r.jsx)(d.h5,{id:"1392-finsh\u547d\u4ee4\u4f7f\u7528pwm",children:"1.3.9.2 FinSH\u547d\u4ee4\u4f7f\u7528PWM"}),"\n",(0,r.jsx)(d.pre,{children:(0,r.jsx)(d.code,{className:"language-shell",children:"\u8bbe\u7f6e PWM \u8bbe\u5907\u7684\u67d0\u4e2a\u901a\u9053\u7684\u5468\u671f\u548c\u5360\u7a7a\u6bd4\nmsh />pwm_set pwm1 1 500000 5000\n\n\u4f7f\u80fd PWM \u8bbe\u5907\u7684\u67d0\u4e2a\u901a\u9053\nmsh />pwm_enable pwm1 1\n\n\u5173\u95ed PWM \u8bbe\u5907\u7684\u67d0\u4e2a\u901a\u9053\nmsh />pwm_disable pwm1 1\n"})}),"\n",(0,r.jsx)(d.h5,{id:"1393-\u6ce8\u610f\u4e8b\u9879",children:"1.3.9.3 \u6ce8\u610f\u4e8b\u9879"}),"\n",(0,r.jsxs)(d.p,{children:["K230\u5171\u67096\u4e2aPWM\u901a\u9053\uff0c\u5176\u4e2dchannel 0 ~ 2\uff08pwm 0 ~ 2\uff09\u540c\u5c5e\u4e00\u8defPWM\uff0cchannel 3 ~ 5\uff08pwm 3 ~ 5\uff09\u901a\u5c5e\u4e00\u8defPWM\uff0c\u5728\u540c\u65f6\u4f7f\u7528\u591a\u901a\u9053PWM\u65f6\uff0c\u540c\u5c5e\u4e00\u8def\u7684PWM\uff0c\u4ec5\u9700\u4efb\u610f\u4f7f\u80fd\u5176\u4e2d\u4e00\u4e2achannel\u5373\u53ef\u3002\n\u5982 ",(0,r.jsx)(d.a,{href:"#1391-%E5%86%85%E6%A0%B8%E6%80%81%E7%A8%8B%E5%BA%8F%E4%BD%BF%E7%94%A8pwm",children:"1.3.9.1"})," \u4e2d\u7684\u793a\u4f8b\uff0cchannel3\u548cchannel4\u4ec5\u4f7f\u80fd\u4e86channel4\uff0c\u6b64\u65f6channel3\u4e5f\u88ab\u4f7f\u80fd\u3002"]}),"\n",(0,r.jsx)(d.h4,{id:"1310-rtc",children:"1.3.10 RTC"}),"\n",(0,r.jsx)(d.h5,{id:"13101-\u5185\u6838\u6001\u4f7f\u7528rtc",children:"1.3.10.1 \u5185\u6838\u6001\u4f7f\u7528RTC"}),"\n",(0,r.jsx)(d.p,{children:"RTC\u9a71\u52a8\u63d0\u4f9b\u4e86\u5185\u6838\u6001\u7684\u8c03\u7528\u65b9\u6cd5\uff0c\u4f7f\u7528\u65b9\u6cd5\u5982\u4e0b\uff1a"}),"\n",(0,r.jsx)(d.pre,{children:(0,r.jsx)(d.code,{className:"language-c",children:'time_t now;\nrt_device_t device = RT_NULL;\n\ndevice = rt_device_find(RTC_NAME);\nrt_device_open(device, 0);\nset_date(2024, 1, 1); //\u8bbe\u7f6e\u65e5\u671f\nset_time(12, 30, 0); //\u8bbe\u7f6e\u65f6\u95f4\n\nwhile(1)\n{\n    now = time(RT_NULL); //\u83b7\u53d6\u5f53\u524d\u65f6\u95f4\n    rt_kprintf("%s\\n", ctime(&now)); //\u6253\u5370\n    rt_thread_mdelay(1000);\n}\n'})}),"\n",(0,r.jsx)(d.p,{children:"\u5982\u679c\u8981\u4f7f\u7528K230 RTC\u7684\u4e2d\u65ad\u529f\u80fd\uff0c\u8bf7\u53c2\u8003\u4ee5\u4e0b\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(d.pre,{children:(0,r.jsx)(d.code,{className:"language-c",children:'void user_alarm_callback(void)\n{\n    rt_kprintf("[ user alarm callback function. ]\\n");\n}\n\nvoid alarm_rtc()\n{\n    time_t now;\n    uint32_t i;\n    struct tm p_tm;\n    rt_device_t dev = RT_NULL;\n    struct rt_alarm * alarm = RT_NULL;\n    struct kd_alarm_setup setup;\n\n    dev = rt_device_find(RTC_NAME);\n    rt_device_open(dev, 0);\n    set_date(2024, 1, 1);\n    set_time(1, 1, 0);\n\n    now = time(RT_NULL);\n    gmtime_r(&now,&p_tm);\n    setup.flag = RTC_INT_TICK_SECOND; //\u79d2\u7ea7tick\u4e2d\u65ad\uff0c\u6bcf\u79d2\u949f\u90fd\u4f1a\u89e6\u53d1\uff0c\u8bf7\u53c2\u8003\u5b8f\u5b9a\u4e49\n    setup.tm.tm_year = p_tm.tm_year;\n    setup.tm.tm_mon = p_tm.tm_mon;\n    setup.tm.tm_mday = p_tm.tm_mday;\n    setup.tm.tm_wday = p_tm.tm_wday;\n    setup.tm.tm_hour = p_tm.tm_hour;\n    setup.tm.tm_min = p_tm.tm_min;\n    setup.tm.tm_sec = p_tm.tm_sec;\n\n    rt_device_control(dev, RT_DEVICE_CTRL_RTC_SET_CALLBACK, &user_alarm_callback); //set rtc interrupt callback\n\n    rt_device_control(dev, RT_DEVICE_CTRL_RTC_SET_ALARM, &setup);   //set alarm time\n\n    for (i=0; i<5; i++)\n    {\n        now = time(RT_NULL);\n        rt_kprintf("%s\\n", ctime(&now));\n        rt_thread_mdelay(1000);\n    }\n    rt_device_control(dev, RT_DEVICE_CTRL_RTC_STOP_ALARM, RT_NULL); //close interrupt\n    rt_device_close(dev);\n}\n'})}),"\n",(0,r.jsx)(d.h5,{id:"13102-\u6ce8\u610f\u4e8b\u9879",children:"1.3.10.2 \u6ce8\u610f\u4e8b\u9879"}),"\n",(0,r.jsx)(d.p,{children:"\u4f7f\u7528K230\u7684RTC\u6a21\u5757\u65f6\uff0c\u5fc5\u987b\u5728\u82af\u7247\u4e0a\u7535\u65f6\u6fc0\u6d3bPMU(\u8bf7\u53c2\u8003PMU\u76f8\u5173\u6587\u6863)\uff0c\u5426\u5219RTC\u65e0\u6cd5\u5de5\u4f5c\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u4ee5 \u300aK230-USIP-EVB-LP3-V1.1\u300b\u4e3a\u4f8b\uff0c\u9700\u8981\u5c06J1\u533a\u57df\u7684\u6392\u9488io13 io14\u8fde\u63a5\u540e\u4e0a\u7535\u3002"}),"\n",(0,r.jsx)(d.p,{children:"K230\u7684RTC\u652f\u6301\u4e24\u79cd\u4e2d\u65ad\u6a21\u5f0f\uff1a"}),"\n",(0,r.jsx)(d.pre,{children:(0,r.jsx)(d.code,{className:"language-text",children:"1\u3001alarm\u4e2d\u65ad(\u5b9a\u65f6\u4e2d\u65ad)\uff0c\u5728\u5b9a\u65f6\u65f6\u95f4\u5230\u65f6\u53ea\u4ea7\u751f\u4e00\u6b21\u4e2d\u65ad\u3002\u6700\u5927\u7cbe\u5ea6\uff1a\u79d2\n\n2\u3001tick\u4e2d\u65ad(\u5468\u671f\u4e2d\u65ad)\uff0c\u5982\u6bcf\u79d2\u949f\uff0c\u6bcf\u5206\u949f\uff0c\u6bcf\u5c0f\u65f6\uff0c\u6bcf\u5929\u7b49\u90fd\u4f1a\u4ea7\u751f\u4e2d\u65ad\u3002\u6700\u5927\u7cbe\u5ea6\uff1a1/64\u79d2\n"})}),"\n",(0,r.jsx)(d.h4,{id:"1311-timer",children:"1.3.11 TIMER"}),"\n",(0,r.jsx)(d.h5,{id:"13111-\u5185\u6838\u6001\u4f7f\u7528timer",children:"1.3.11.1 \u5185\u6838\u6001\u4f7f\u7528TIMER"}),"\n",(0,r.jsx)(d.p,{children:"TIMER\u9a71\u52a8\u63d0\u4f9b\u4e86\u5185\u6838\u6001\u7684\u8c03\u7528\u65b9\u6cd5\uff0c\u4f7f\u7528\u65b9\u6cd5\u5982\u4e0b\uff1a"}),"\n",(0,r.jsx)(d.pre,{children:(0,r.jsx)(d.code,{className:"language-c",children:'static rt_err_t tmr_timeout_cb(rt_device_t dev, rt_size_t size)\n{\n    rt_kprintf("hwtimer timeout callback fucntion @tick\\n");\n    return RT_EOK;\n}\n\n/* \u4ee5\u4e0b\u793a\u4f8b\u4ee3\u7801\u7565\u53bb\u4e86\u51fd\u6570\u8c03\u7528\u7684\u9519\u8bef\u68c0\u67e5\uff0c\u4ec5\u4f9b\u53c2\u8003\u3002*/\nvoid test_hwtimer(void)\n{\n    rt_hwtimerval_t timerval;\n    rt_hwtimer_mode_t mode;\n    rt_size_t tsize;\n    rt_uint32_t freq = 25000000;  /* \u8ba1\u6570\u9891\u7387 \u53ef\u9009 12.5M 25M 50M 100M*/\n\n    tmr_dev_0 = rt_device_find("hwtimer0");\n    tmr_dev_1 = rt_device_find("hwtimer1");\n\n    rt_device_open(tmr_dev_0, RT_DEVICE_OFLAG_RDWR);\n    rt_device_open(tmr_dev_1, RT_DEVICE_OFLAG_RDWR);\n\n    /* \u5c06 freq \u6240\u8868\u793a\u7684\u8ba1\u6570\u9891\u7387\u5411timer\u8bbe\u7f6e */\n    rt_device_control(tmr_dev_0, HWTIMER_CTRL_FREQ_SET, &freq)\n    /* freq \u4e0d\u8bbe\u7f6e\u5219\u9a71\u52a8\u4f7f\u7528\u9ed8\u8ba4\u7684\u8ba1\u6570\u9891\u7387 */\n\n\n    /* \u7ed1\u5b9a\u4e2d\u65ad\u56de\u8c03\u51fd\u6570 */\n    rt_device_set_rx_indicate(tmr_dev_0, tmr_timeout_cb);\n    rt_device_set_rx_indicate(tmr_dev_1, tmr_timeout_cb);\n\n    timerval.sec = 10;\n    timerval.usec = 0;\n    tsize = sizeof(timerval);\n    mode = HWTIMER_MODE_ONESHOT;\n\n    rt_device_control(tmr_dev_0, HWTIMER_CTRL_MODE_SET, &mode);\n\n    /* \u5c06\u8ba1\u6570\u65f6\u95f4\u5411timer\u8bbe\u7f6e */\n    rt_device_write(tmr_dev_0, 0, &timerval, tsize);\n\n    timerval.sec = 5;\n    timerval.usec = 0;\n    tsize = sizeof(timerval);\n    mode = HWTIMER_MODE_ONESHOT;\n\n    rt_device_control(tmr_dev_1, HWTIMER_CTRL_MODE_SET, &mode);\n    rt_device_write(tmr_dev_1, 0, &timerval, tsize);\n\n    while(1)\n    {\n        /* \u83b7\u53d6\u5f53\u524d\u8ba1\u6570\u503c */\n        rt_device_read(tmr_dev_0, 0, &timerval, sizeof(timerval));\n        rt_kprintf("Read timer0: Sec = %d, Usec = %d\\n", timerval.sec, timerval.usec);\n\n        rt_device_read(tmr_dev_1, 0, &timerval, sizeof(timerval));\n        rt_kprintf("Read timer1: Sec = %d, Usec = %d\\n", timerval.sec, timerval.usec);\n\n        rt_thread_mdelay(1000);\n    }\n\n}\n'})}),"\n",(0,r.jsx)(d.h5,{id:"13112-\u6ce8\u610f\u4e8b\u9879",children:"1.3.11.2 \u6ce8\u610f\u4e8b\u9879"}),"\n",(0,r.jsx)(d.p,{children:"\u8bbe\u7f6efreq\u8ba1\u6570\u9891\u7387\u65f6\uff0c\u53ea\u670912.5M 25M 50M 100M\u53ef\u4f9b\u9009\u62e9\uff0c\u4e0d\u53ef\u8bbe\u7f6e\u5176\u4ed6\u6570\u503c\uff0cfreq\u8d8a\u5927\u8ba1\u6570\u7cbe\u5ea6\u8d8a\u9ad8\u3002"}),"\n",(0,r.jsx)(d.h2,{id:"2-api-\u53c2\u8003",children:"2. API \u53c2\u8003"}),"\n",(0,r.jsx)(d.h3,{id:"21-\u5185\u6838\u6001-api",children:"2.1 \u5185\u6838\u6001 API"}),"\n",(0,r.jsx)(d.h4,{id:"211-uart",children:"2.1.1 UART"}),"\n",(0,r.jsx)(d.p,{children:"UART\u6a21\u5757\u63d0\u4f9b\u4ee5\u4e0bAPI\uff1a"}),"\n",(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsx)(d.li,{children:(0,r.jsx)(d.a,{href:"#2111-rt_serial_init",children:"rt_serial_init"})}),"\n",(0,r.jsx)(d.li,{children:(0,r.jsx)(d.a,{href:"#2112-rt_serial_open",children:"rt_serial_open"})}),"\n",(0,r.jsx)(d.li,{children:(0,r.jsx)(d.a,{href:"#2113-rt_serial_close",children:"rt_serial_close"})}),"\n",(0,r.jsx)(d.li,{children:(0,r.jsx)(d.a,{href:"#2114-rt_serial_read",children:"rt_serial_read"})}),"\n",(0,r.jsx)(d.li,{children:(0,r.jsx)(d.a,{href:"#2115-rt_serial_write",children:"rt_serial_write"})}),"\n",(0,r.jsx)(d.li,{children:(0,r.jsx)(d.a,{href:"#2116-rt_serial_control",children:"rt_serial_control"})}),"\n"]}),"\n",(0,r.jsx)(d.h5,{id:"2111-rt_serial_init",children:"2.1.1.1 rt_serial_init"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u63cf\u8ff0\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u521d\u59cb\u5316\u4e00\u4e2a\u4e32\u53e3\u8bbe\u5907\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8bed\u6cd5\u3011"}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"rt_serial_init(struct rt_device *dev)"})}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u53c2\u6570\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u53c2\u6570\u540d\u79f0"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,r.jsx)(d.th,{children:"\u8f93\u5165/\u8f93\u51fa"})]})}),(0,r.jsx)(d.tbody,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"dev"}),(0,r.jsx)(d.td,{children:"\u8bbe\u5907\u53e5\u67c4"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]})})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8fd4\u56de\u503c\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u8fd4\u56de\u503c"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"RT_EOK"}),(0,r.jsx)(d.td,{children:"\u6210\u529f"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"\u5176\u4ed6"}),(0,r.jsx)(d.td,{children:"\u5931\u8d25"})]})]})]}),"\n",(0,r.jsx)(d.h5,{id:"2112-rt_serial_open",children:"2.1.1.2 rt_serial_open"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u63cf\u8ff0\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u6253\u5f00\u4e00\u4e2a\u4e32\u53e3\u8bbe\u5907\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8bed\u6cd5\u3011"}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"rt_serial_open(struct rt_device *dev, rt_uint16_t oflag)"})}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u53c2\u6570\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u53c2\u6570\u540d\u79f0"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,r.jsx)(d.th,{children:"\u8f93\u5165/\u8f93\u51fa"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"dev"}),(0,r.jsx)(d.td,{children:"\u8bbe\u5907\u53e5\u67c4"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"oflag"}),(0,r.jsxs)(d.td,{children:[(0,r.jsx)(d.code,{children:"RT_DEVICE_FLAG_INT_RX RT_DEVICE_FLAG_DMA_RX"})," ",(0,r.jsx)(d.code,{children:"RT_DEVICE_FLAG_INT_TX"})," ",(0,r.jsx)(d.code,{children:"RT_DEVICE_FLAG_DMA_TX"})]}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8fd4\u56de\u503c\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u8fd4\u56de\u503c"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"RT_EOK"}),(0,r.jsx)(d.td,{children:"\u6210\u529f"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"-RT_EIO"}),(0,r.jsx)(d.td,{children:"\u5931\u8d25"})]})]})]}),"\n",(0,r.jsx)(d.h5,{id:"2113-rt_serial_close",children:"2.1.1.3 rt_serial_close"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u63cf\u8ff0\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u5173\u95ed\u4e00\u4e2a\u4e32\u53e3\u8bbe\u5907\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8bed\u6cd5\u3011"}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"rt_serial_close(struct rt_device *dev)"})}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u53c2\u6570\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u53c2\u6570\u540d\u79f0"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,r.jsx)(d.th,{children:"\u8f93\u5165/\u8f93\u51fa"})]})}),(0,r.jsx)(d.tbody,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"dev"}),(0,r.jsx)(d.td,{children:"\u8bbe\u5907\u53e5\u67c4"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]})})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8fd4\u56de\u503c\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u8fd4\u56de\u503c"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"RT_EOK"}),(0,r.jsx)(d.td,{children:"\u6210\u529f"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"\u5176\u4ed6"}),(0,r.jsx)(d.td,{children:"\u5931\u8d25"})]})]})]}),"\n",(0,r.jsx)(d.h5,{id:"2114-rt_serial_read",children:"2.1.1.4 rt_serial_read"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u63cf\u8ff0\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u8bfb\u53d6\u4e32\u53e3\u6570\u636e\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8bed\u6cd5\u3011"}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"rt_serial_read(struct rt_device *dev, rt_off_t pos, void *buffer, rt_size_t size)"})}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u53c2\u6570\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u53c2\u6570\u540d\u79f0"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,r.jsx)(d.th,{children:"\u8f93\u5165/\u8f93\u51fa"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"dev"}),(0,r.jsx)(d.td,{children:"\u8bbe\u5907\u53e5\u67c4"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"pos"}),(0,r.jsx)(d.td,{children:"\u504f\u79fb\uff0c\u8bbe0\u5373\u53ef"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"buffer"}),(0,r.jsx)(d.td,{children:"\u7528\u4e8e\u88c5\u8f7d\u6570\u636e\u7684\u6307\u9488"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"size"}),(0,r.jsx)(d.td,{children:"\u8981\u8bfb\u53d6\u7684\u5927\u5c0f"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8fd4\u56de\u503c\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u8fd4\u56de\u503c"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"})]})}),(0,r.jsx)(d.tbody,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"rt_size_t"}),(0,r.jsx)(d.td,{children:"\u8bfb\u53d6\u5230\u7684\u5b57\u8282\u6570"})]})})]}),"\n",(0,r.jsx)(d.h5,{id:"2115-rt_serial_write",children:"2.1.1.5 rt_serial_write"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u63cf\u8ff0\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u53d1\u9001\u4e32\u53e3\u6570\u636e\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8bed\u6cd5\u3011"}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"rt_serial_write(struct rt_device *dev, rt_off_t pos, void *buffer, rt_size_t size)"})}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u53c2\u6570\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u53c2\u6570\u540d\u79f0"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,r.jsx)(d.th,{children:"\u8f93\u5165/\u8f93\u51fa"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"dev"}),(0,r.jsx)(d.td,{children:"\u8bbe\u5907\u53e5\u67c4"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"pos"}),(0,r.jsx)(d.td,{children:"\u504f\u79fb\uff0c\u8bbe0\u5373\u53ef"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"buffer"}),(0,r.jsx)(d.td,{children:"\u5c06\u8981\u5199\u5165\u6570\u636e\u7684\u6307\u9488"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"size"}),(0,r.jsx)(d.td,{children:"\u8981\u5199\u5165\u7684\u5927\u5c0f"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8fd4\u56de\u503c\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u8fd4\u56de\u503c"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"})]})}),(0,r.jsx)(d.tbody,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"rt_size_t"}),(0,r.jsx)(d.td,{children:"\u5199\u5165\u7684\u5b57\u8282\u6570"})]})})]}),"\n",(0,r.jsx)(d.h5,{id:"2116-rt_serial_control",children:"2.1.1.6 rt_serial_control"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u63cf\u8ff0\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u901a\u8fc7\u63a7\u5236\u63a5\u53e3\uff0c\u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u5bf9\u4e32\u53e3\u8bbe\u5907\u8fdb\u884c\u914d\u7f6e\uff0c\u5982\u6ce2\u7279\u7387\u3001\u6570\u636e\u4f4d\u3001\u6821\u9a8c\u4f4d\u3001\u63a5\u6536\u7f13\u51b2\u533a\u5927\u5c0f\u3001\u505c\u6b62\u4f4d\u7b49\u53c2\u6570\u7684\u4fee\u6539\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8bed\u6cd5\u3011"}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"rt_serial_control(struct rt_device *dev, int cmd, void *args)"})}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u53c2\u6570\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u53c2\u6570\u540d\u79f0"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,r.jsx)(d.th,{children:"\u8f93\u5165/\u8f93\u51fa"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"dev"}),(0,r.jsx)(d.td,{children:"\u8bbe\u5907\u53e5\u67c4"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"cmd"}),(0,r.jsxs)(d.td,{children:["\u547d\u4ee4\u63a7\u5236\u5b57\uff0c\u53ef\u53d6\u503c\uff1a",(0,r.jsx)(d.code,{children:"RT_DEVICE_CTRL_CONFIG"})]}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"args"}),(0,r.jsxs)(d.td,{children:["\u63a7\u5236\u7684\u53c2\u6570\uff0c\u53ef\u53d6\u7c7b\u578b\uff1a ",(0,r.jsx)(d.code,{children:"struct serial_configure"})]}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8fd4\u56de\u503c\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u8fd4\u56de\u503c"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"RT_EOK"}),(0,r.jsx)(d.td,{children:"\u51fd\u6570\u6267\u884c\u6210\u529f"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"-RT_ENOSYS"}),(0,r.jsx)(d.td,{children:"\u6267\u884c\u5931\u8d25\uff0cdev \u4e3a\u7a7a"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"\u5176\u4ed6"}),(0,r.jsx)(d.td,{children:"\u6267\u884c\u5931\u8d25"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u82af\u7247\u5dee\u5f02\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u9700\u6c42\u3011"}),"\n",(0,r.jsxs)(d.p,{children:["\u5934\u6587\u4ef6\uff1a",(0,r.jsx)(d.code,{children:"rtdevice.h"}),"\u3001",(0,r.jsx)(d.code,{children:"rtthread.h"})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u6ce8\u610f\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u4e3e\u4f8b\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u76f8\u5173\u4e3b\u9898\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.h4,{id:"212-i2c",children:"2.1.2 I2C"}),"\n",(0,r.jsx)(d.p,{children:"I2C\u6a21\u5757\u63d0\u4f9b\u4ee5\u4e0bAPI\uff1a"}),"\n",(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsx)(d.li,{children:(0,r.jsx)(d.a,{href:"#2121-rt_i2c_bus_device_find",children:"rt_i2c_bus_device_find"})}),"\n",(0,r.jsx)(d.li,{children:(0,r.jsx)(d.a,{href:"#2122-rt_i2c_master_send",children:"rt_i2c_master_send"})}),"\n",(0,r.jsx)(d.li,{children:(0,r.jsx)(d.a,{href:"#2123-rt_i2c_master_recv",children:"rt_i2c_master_recv"})}),"\n",(0,r.jsx)(d.li,{children:(0,r.jsx)(d.a,{href:"#2124-rt_i2c_transfer",children:"rt_i2c_transfer"})}),"\n"]}),"\n",(0,r.jsx)(d.h5,{id:"2121-rt_i2c_bus_device_find",children:"2.1.2.1 rt_i2c_bus_device_find"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u63cf\u8ff0\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u67e5\u627ei2c\u603b\u7ebf\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8bed\u6cd5\u3011"}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"rt_i2c_bus_device_find(const char *bus_name)"})}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u53c2\u6570\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u53c2\u6570\u540d\u79f0"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,r.jsx)(d.th,{children:"\u8f93\u5165/\u8f93\u51fa"})]})}),(0,r.jsx)(d.tbody,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"bus_name"}),(0,r.jsx)(d.td,{children:"I2C\u603b\u7ebf\u540d\u5b57"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]})})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8fd4\u56de\u503c\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u8fd4\u56de\u503c"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"rt_i2c_bus_device*"}),(0,r.jsx)(d.td,{children:"\u51fd\u6570\u6267\u884c\u6210\u529f\uff0c\u8fd4\u56de\u603b\u7ebf\u53e5\u67c4"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"RT_NULL"}),(0,r.jsx)(d.td,{children:"\u603b\u7ebf\u4e0d\u5b58\u5728"})]})]})]}),"\n",(0,r.jsx)(d.h5,{id:"2122-rt_i2c_master_send",children:"2.1.2.2 rt_i2c_master_send"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u63cf\u8ff0\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u5411 I2C \u4ece\u8bbe\u5907\u53d1\u9001\u6570\u636e\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8bed\u6cd5\u3011"}),"\n",(0,r.jsx)(d.pre,{children:(0,r.jsx)(d.code,{className:"language-text",children:"rt_i2c_master_send(struct rt_i2c_bus_device *bus,\nrt_uint16_t addr,\nrt_uint16_t flags,\nconst rt_uint8_t *buf,\nrt_uint32_t count);\n"})}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u53c2\u6570\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u53c2\u6570\u540d\u79f0"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,r.jsx)(d.th,{children:"\u8f93\u5165/\u8f93\u51fa"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"bus"}),(0,r.jsx)(d.td,{children:"I2c\u603b\u7ebf\u53e5\u67c4"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"addr"}),(0,r.jsx)(d.td,{children:"I2C \u4ece\u8bbe\u5907\u5730\u5740"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"flags"}),(0,r.jsxs)(d.td,{children:["\u6807\u5fd7\u4f4d\uff0c\u53ef\u4e3a",(0,r.jsx)(d.code,{children:"RT_I2C_WR RT_I2C_RD"}),"\u53ca\u4e4b\u5916\u7684\u5176\u4ed6\u6807\u5fd7\u4f4d\uff0c\u53ef\u4ee5\u8fdb\u884c `"]}),(0,r.jsx)(d.td,{children:"` \u64cd\u4f5c"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"buf"}),(0,r.jsx)(d.td,{children:"\u5f85\u53d1\u9001\u6570\u636e\u6570\u636e\u7f13\u51b2\u533a"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"count"}),(0,r.jsx)(d.td,{children:"\u5f85\u53d1\u9001\u6570\u636e\u5927\u5c0f\uff08\u5355\u4f4d\uff1a\u5b57\u8282\uff09"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8fd4\u56de\u503c\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u8fd4\u56de\u503c"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"\u6b63\u503c"}),(0,r.jsx)(d.td,{children:"\u6210\u529f\uff0c\u8fd4\u56de\u53d1\u9001\u7684\u5b57\u8282\u6570"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"\u8d1f\u503c"}),(0,r.jsx)(d.td,{children:"\u5931\u8d25"})]})]})]}),"\n",(0,r.jsx)(d.h5,{id:"2123-rt_i2c_master_recv",children:"2.1.2.3 rt_i2c_master_recv"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u63cf\u8ff0\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u5411 I2C \u4ece\u8bbe\u5907\u53d1\u9001\u6570\u636e\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8bed\u6cd5\u3011"}),"\n",(0,r.jsx)(d.pre,{children:(0,r.jsx)(d.code,{className:"language-text",children:"rt_i2c_master_recv(struct rt_i2c_bus_device *bus,\nrt_uint16_t addr,\nrt_uint16_t flags,\nrt_uint8_t *buf,\nrt_uint32_t count)\n"})}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u53c2\u6570\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u53c2\u6570\u540d\u79f0"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,r.jsx)(d.th,{children:"\u8f93\u5165/\u8f93\u51fa"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"bus"}),(0,r.jsx)(d.td,{children:"I2c\u603b\u7ebf\u53e5\u67c4"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"addr"}),(0,r.jsx)(d.td,{children:"I2C \u4ece\u8bbe\u5907\u5730\u5740"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"flags"}),(0,r.jsxs)(d.td,{children:["\u6807\u5fd7\u4f4d\uff0c\u53ef\u4e3a",(0,r.jsx)(d.code,{children:"RT_I2C_WR"})," ",(0,r.jsx)(d.code,{children:"RT_I2C_RD"}),"\u53ca\u4e4b\u5916\u7684\u5176\u4ed6\u6807\u5fd7\u4f4d\uff0c\u53ef\u4ee5\u8fdb\u884c `"]}),(0,r.jsx)(d.td,{children:"` \u64cd\u4f5c"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"buf"}),(0,r.jsx)(d.td,{children:"\u63a5\u6536\u6570\u636e\u6570\u636e\u7f13\u51b2\u533a"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"count"}),(0,r.jsx)(d.td,{children:"\u63a5\u6536\u6570\u636e\u5927\u5c0f\uff08\u5355\u4f4d\uff1a\u5b57\u8282\uff09"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8fd4\u56de\u503c\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u8fd4\u56de\u503c"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"\u6b63\u503c"}),(0,r.jsx)(d.td,{children:"\u6210\u529f\uff0c\u8fd4\u56de\u63a5\u6536\u5230\u7684\u5b57\u8282\u6570"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"\u8d1f\u503c"}),(0,r.jsx)(d.td,{children:"\u5931\u8d25"})]})]})]}),"\n",(0,r.jsx)(d.h5,{id:"2124-rt_i2c_transfer",children:"2.1.2.4 rt_i2c_transfer"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u63cf\u8ff0\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u5411 I2C \u4ece\u8bbe\u5907\u53d1\u9001\u6570\u636e\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8bed\u6cd5\u3011"}),"\n",(0,r.jsx)(d.pre,{children:(0,r.jsx)(d.code,{className:"language-text",children:"rt_i2c_transfer(struct rt_i2c_bus_device *bus,\nstruct rt_i2c_msg msgs[],\nrt_uint32_t num)\n"})}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u53c2\u6570\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u53c2\u6570\u540d\u79f0"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,r.jsx)(d.th,{children:"\u8f93\u5165/\u8f93\u51fa"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"bus"}),(0,r.jsx)(d.td,{children:"I2c\u603b\u7ebf\u53e5\u67c4"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"msg"}),(0,r.jsx)(d.td,{children:"\u5f85\u4f20\u8f93\u7684\u6d88\u606f\u6570\u7ec4\u6307\u9488"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"num"}),(0,r.jsx)(d.td,{children:"\u6d88\u606f\u6570\u7ec4\u7684\u5143\u7d20\u4e2a\u6570"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8fd4\u56de\u503c\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u8fd4\u56de\u503c"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"0"}),(0,r.jsx)(d.td,{children:"\u5931\u8d25\uff0c\u603b\u7ebf\u4e0d\u652f\u6301\u7684\u64cd\u4f5c"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"\u6b63\u503c"}),(0,r.jsx)(d.td,{children:"\u6210\u529f\uff0c\u8fd4\u56de\u4f20\u8f93msg\u7684\u6570\u91cf"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"-RT_EIO"}),(0,r.jsx)(d.td,{children:"\u4f20\u8f93\u5931\u8d25"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u82af\u7247\u5dee\u5f02\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u9700\u6c42\u3011"}),"\n",(0,r.jsxs)(d.p,{children:["\u5934\u6587\u4ef6\uff1a",(0,r.jsx)(d.code,{children:"drivers/i2c.h"})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u6ce8\u610f\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u4e3e\u4f8b\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u76f8\u5173\u4e3b\u9898\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.h4,{id:"213-gpio",children:"2.1.3 GPIO"}),"\n",(0,r.jsx)(d.p,{children:"GPIO\u6a21\u5757\u63d0\u4f9b\u4ee5\u4e0bAPI\uff1a"}),"\n",(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsx)(d.li,{children:(0,r.jsx)(d.a,{href:"#2131-kd_pin_mode",children:"kd_pin_mode"})}),"\n",(0,r.jsx)(d.li,{children:(0,r.jsx)(d.a,{href:"#2132-kd_pin_write",children:"kd_pin_write"})}),"\n",(0,r.jsx)(d.li,{children:(0,r.jsx)(d.a,{href:"#2133-kd_pin_read",children:"kd_pin_read"})}),"\n",(0,r.jsx)(d.li,{children:(0,r.jsx)(d.a,{href:"#2134-kd_pin_attach_irq",children:"kd_pin_attach_irq"})}),"\n",(0,r.jsx)(d.li,{children:(0,r.jsx)(d.a,{href:"#2135-kd_pin_detach_irq",children:"kd_pin_detach_irq"})}),"\n",(0,r.jsx)(d.li,{children:(0,r.jsx)(d.a,{href:"#2136-kd_pin_irq_enable",children:"kd_pin_irq_enable"})}),"\n",(0,r.jsx)(d.li,{children:(0,r.jsx)(d.a,{href:"#2137-gpio_device_ioctl",children:"gpio_device_ioctl"})}),"\n"]}),"\n",(0,r.jsx)(d.h5,{id:"2131-kd_pin_mode",children:"2.1.3.1 kd_pin_mode"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u63cf\u8ff0\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u8bbe\u7f6egpio\u7ba1\u811a\u8f93\u5165\u8f93\u51fa\u6a21\u5f0f\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8bed\u6cd5\u3011"}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"kd_pin_mode(rt_base_t pin, rt_base_t mode)"})}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u53c2\u6570\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u53c2\u6570\u540d\u79f0"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,r.jsx)(d.th,{children:"\u8f93\u5165/\u8f93\u51fa"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"pin"}),(0,r.jsx)(d.td,{children:"gpio\u7f16\u53f7"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"mode"}),(0,r.jsxs)(d.td,{children:["\u6a21\u5f0f\u3002",(0,r.jsx)(d.code,{children:"GPIO_DM_INPUT"}),"\u3001",(0,r.jsx)(d.code,{children:"GPIO_DM_INPUT_PULL_DOWN"}),"\u3001",(0,r.jsx)(d.code,{children:"GPIO_DM_INPUT_PULL_UP"}),"\u3001",(0,r.jsx)(d.code,{children:"GPIO_DM_OUTPUT"})]}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8fd4\u56de\u503c\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u8fd4\u56de\u503c"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"RT_EOK"}),(0,r.jsx)(d.td,{children:"\u6210\u529f"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"\u5176\u4ed6"}),(0,r.jsx)(d.td,{children:"\u5931\u8d25"})]})]})]}),"\n",(0,r.jsx)(d.h5,{id:"2132-kd_pin_write",children:"2.1.3.2 kd_pin_write"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u63cf\u8ff0\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u8bbe\u7f6egpio\u7ba1\u811a\u7535\u5e73\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8bed\u6cd5\u3011"}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"kd_pin_write(rt_base_t pin, rt_base_t value)"})}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u53c2\u6570\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u53c2\u6570\u540d\u79f0"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,r.jsx)(d.th,{children:"\u8f93\u5165/\u8f93\u51fa"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"pin"}),(0,r.jsx)(d.td,{children:"gpio\u7f16\u53f7"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"value"}),(0,r.jsxs)(d.td,{children:["\u7535\u5e73\u72b6\u6001\u3002",(0,r.jsx)(d.code,{children:"GPIO_PV_LOW"}),"\u3001",(0,r.jsx)(d.code,{children:"GPIO_PV_HIGH"})]}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8fd4\u56de\u503c\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u8fd4\u56de\u503c"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"})]})}),(0,r.jsx)(d.tbody,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"\u65e0\u8fd4\u56de\u503c"}),(0,r.jsx)(d.td,{})]})})]}),"\n",(0,r.jsx)(d.h5,{id:"2133-kd_pin_read",children:"2.1.3.3 kd_pin_read"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u63cf\u8ff0\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u8bbe\u7f6egpio\u7ba1\u811a\u7535\u5e73\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8bed\u6cd5\u3011"}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"kd_pin_read(rt_base_t pin)"})}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u53c2\u6570\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u53c2\u6570\u540d\u79f0"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,r.jsx)(d.th,{children:"\u8f93\u5165/\u8f93\u51fa"})]})}),(0,r.jsx)(d.tbody,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"pin"}),(0,r.jsx)(d.td,{children:"gpio\u7f16\u53f7"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]})})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8fd4\u56de\u503c\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u8fd4\u56de\u503c"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"0"}),(0,r.jsx)(d.td,{children:"\u7ba1\u811a\u5f53\u524d\u72b6\u6001\u4f4e\u7535\u5e73"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"1"}),(0,r.jsx)(d.td,{children:"\u7ba1\u811a\u5f53\u524d\u7535\u5e73\u72b6\u6001\u9ad8\u7535\u5e73"})]})]})]}),"\n",(0,r.jsx)(d.h5,{id:"2134-kd_pin_attach_irq",children:"2.1.3.4 kd_pin_attach_irq"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u63cf\u8ff0\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u7ed1\u5b9a\u7ba1\u811a\u4e2d\u65ad\u51fd\u6570\u4ee5\u53ca\u8bbe\u7f6e\u4e2d\u65ad\u65b9\u5f0f\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8bed\u6cd5\u3011"}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"kd_pin_attach_irq(rt_int32_t pin,rt_uint32_t mode, void (*hdr)(void *args), void *args)"})}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u53c2\u6570\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u53c2\u6570\u540d\u79f0"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,r.jsx)(d.th,{children:"\u8f93\u5165/\u8f93\u51fa"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"pin"}),(0,r.jsx)(d.td,{children:"gpio\u7f16\u53f7"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"mode"}),(0,r.jsxs)(d.td,{children:["\u4e2d\u65ad\u65b9\u5f0f\u3002 ",(0,r.jsx)(d.code,{children:"GPIO_PE_RISING"}),"\u3001 ",(0,r.jsx)(d.code,{children:"GPIO_PE_FALLING"}),"\u3001 ",(0,r.jsx)(d.code,{children:"GPIO_PE_BOTH"}),"\u3001 ",(0,r.jsx)(d.code,{children:"GPIO_PE_HIGH"}),"\u3001 ",(0,r.jsx)(d.code,{children:"GPIO_PE_LOW"})]}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"hdr"}),(0,r.jsx)(d.td,{children:"\u4e2d\u65ad\u56de\u8c03\u51fd\u6570\uff0c\u7531\u7528\u6237\u8bbe\u7f6e"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"args"}),(0,r.jsx)(d.td,{children:"\u4e2d\u65ad\u56de\u8c03\u51fd\u6570\u7684\u53c2\u6570\uff0c\u53ef\u4ee5\u4e3aRT_NULL"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8fd4\u56de\u503c\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u8fd4\u56de\u503c"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"RT_EOK"}),(0,r.jsx)(d.td,{children:"\u7ed1\u5b9a\u6210\u529f"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"\u9519\u8bef\u7801"}),(0,r.jsx)(d.td,{children:"\u7ed1\u5b9a\u5931\u8d25"})]})]})]}),"\n",(0,r.jsx)(d.h5,{id:"2135-kd_pin_detach_irq",children:"2.1.3.5 kd_pin_detach_irq"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u63cf\u8ff0\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u89e3\u9664\u7ba1\u811a\u4e2d\u65ad\u51fd\u6570\u7684\u7ed1\u5b9a\uff0c\u5e76\u7981\u6b62gpio\u7ba1\u811a\u7684\u4e2d\u65ad\u4f7f\u80fd\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8bed\u6cd5\u3011"}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"kd_pin_detach_irq(rt_int32_t pin)"})}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u53c2\u6570\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u53c2\u6570\u540d\u79f0"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,r.jsx)(d.th,{children:"\u8f93\u5165/\u8f93\u51fa"})]})}),(0,r.jsx)(d.tbody,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"pin"}),(0,r.jsx)(d.td,{children:"gpio\u7f16\u53f7"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]})})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8fd4\u56de\u503c\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u8fd4\u56de\u503c"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"\u7ba1\u811a\u7f16\u53f7"}),(0,r.jsx)(d.td,{children:"\u89e3\u9664\u6210\u529f"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"\u9519\u8bef\u7801"}),(0,r.jsx)(d.td,{children:"\u89e3\u9664\u5931\u8d25"})]})]})]}),"\n",(0,r.jsx)(d.h5,{id:"2136-kd_pin_irq_enable",children:"2.1.3.6 kd_pin_irq_enable"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u63cf\u8ff0\u3011"}),"\n",(0,r.jsx)(d.p,{children:"gpio\u7ba1\u811a\u7684\u4e2d\u65ad\u4f7f\u80fd\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8bed\u6cd5\u3011"}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"kd_pin_irq_enable(rt_base_t pin, rt_uint32_t enabled)"})}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u53c2\u6570\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u53c2\u6570\u540d\u79f0"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,r.jsx)(d.th,{children:"\u8f93\u5165/\u8f93\u51fa"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"pin"}),(0,r.jsx)(d.td,{children:"gpio\u7f16\u53f7"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"enabled"}),(0,r.jsxs)(d.td,{children:["\u662f\u5426\u4f7f\u80fd\u3002",(0,r.jsx)(d.code,{children:"True/false"})]}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8fd4\u56de\u503c\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u8fd4\u56de\u503c"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"RT_EOK"}),(0,r.jsx)(d.td,{children:"\u4f7f\u80fd\u6210\u529f"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"\u9519\u8bef\u7801"}),(0,r.jsx)(d.td,{children:"\u4f7f\u80fd\u5931\u8d25"})]})]})]}),"\n",(0,r.jsx)(d.h5,{id:"2137-gpio_device_ioctl",children:"2.1.3.7 gpio_device_ioctl"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u63cf\u8ff0\u3011"}),"\n",(0,r.jsx)(d.p,{children:"gpio\u529f\u80fd\u63a7\u5236\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8bed\u6cd5\u3011"}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"gpio_device_ioctl(rt_device_t dev, int cmd, void *args)"})}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u53c2\u6570\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u53c2\u6570\u540d\u79f0"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,r.jsx)(d.th,{children:"\u8f93\u5165/\u8f93\u51fa"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"dev"}),(0,r.jsx)(d.td,{children:"gpio\u53e5\u67c4"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"cmd"}),(0,r.jsxs)(d.td,{children:["\u63a7\u5236\u547d\u4ee4\u3002 ",(0,r.jsx)(d.code,{children:"KD_GPIO_DM_OUTPUT"}),"\u3001 ",(0,r.jsx)(d.code,{children:"KD_GPIO_DM_INPUT"}),"\u3001 ",(0,r.jsx)(d.code,{children:"KD_GPIO_DM_INPUT_PULL_UP"}),"\u3001 ",(0,r.jsx)(d.code,{children:"KD_GPIO_DM_INPUT_PULL_DOWN"}),"\u3001 ",(0,r.jsx)(d.code,{children:"KD_GPIO_WRITE_LOW"}),"\u3001 ",(0,r.jsx)(d.code,{children:"KD_GPIO_WRITE_HIGH"}),"\u3001 ",(0,r.jsx)(d.code,{children:"KD_GPIO_READ_VALUE"})]}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"args"}),(0,r.jsx)(d.td,{children:"\u7528\u4e8e\u4ece\u7528\u6237\u4f20\u4e0b\u6765\u7684\u6570\u636e\u7ed3\u6784\u6307\u9488\uff0c\u6570\u636e\u7ed3\u6784\u4e2d\u5e94\u5305\u542b\u7ba1\u811a\u7f16\u53f7"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8fd4\u56de\u503c\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u8fd4\u56de\u503c"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"RT_EOK"}),(0,r.jsx)(d.td,{children:"\u6210\u529f"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"\u9519\u8bef\u7801"}),(0,r.jsx)(d.td,{children:"\u5931\u8d25"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u82af\u7247\u5dee\u5f02\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u9700\u6c42\u3011"}),"\n",(0,r.jsxs)(d.p,{children:["\u5934\u6587\u4ef6\uff1a",(0,r.jsx)(d.code,{children:"drv_gpio.h"})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u6ce8\u610f\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u4e3e\u4f8b\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u76f8\u5173\u4e3b\u9898\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.h4,{id:"214-hard-lock",children:"2.1.4 Hard-lock"}),"\n",(0,r.jsx)(d.p,{children:"Hard-lock\u6a21\u5757\u63d0\u4f9b\u4ee5\u4e0bAPI\uff1a"}),"\n",(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsx)(d.li,{children:(0,r.jsx)(d.a,{href:"#2141-kd_request_lock",children:"kd_request_lock"})}),"\n",(0,r.jsx)(d.li,{children:(0,r.jsx)(d.a,{href:"#2142-kd_hardlock_lock",children:"kd_hardlock_lock"})}),"\n",(0,r.jsx)(d.li,{children:(0,r.jsx)(d.a,{href:"#2143-kd_hardlock_unlock",children:"kd_hardlock_unlock"})}),"\n"]}),"\n",(0,r.jsx)(d.h5,{id:"2141-kd_request_lock",children:"2.1.4.1 kd_request_lock"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u63cf\u8ff0\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u7533\u8bf7\u4f7f\u7528\u9501\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8bed\u6cd5\u3011"}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"kd_request_lock(rt_uint32_t num)"})}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u53c2\u6570\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u53c2\u6570\u540d\u79f0"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,r.jsx)(d.th,{children:"\u8f93\u5165/\u8f93\u51fa"})]})}),(0,r.jsx)(d.tbody,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"num"}),(0,r.jsx)(d.td,{children:"\u9501\u7f16\u53f7\u30020~127"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]})})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8fd4\u56de\u503c\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u8fd4\u56de\u503c"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"0"}),(0,r.jsx)(d.td,{children:"\u7533\u8bf7\u6210\u529f"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"-1"}),(0,r.jsx)(d.td,{children:"\u7533\u8bf7\u5931\u8d25"})]})]})]}),"\n",(0,r.jsx)(d.h5,{id:"2142-kd_hardlock_lock",children:"2.1.4.2 kd_hardlock_lock"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u63cf\u8ff0\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u52a0\u9501\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8bed\u6cd5\u3011"}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"kd_hardlock_lock (rt_uint32_t num)"})}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u53c2\u6570\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u53c2\u6570\u540d\u79f0"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,r.jsx)(d.th,{children:"\u8f93\u5165/\u8f93\u51fa"})]})}),(0,r.jsx)(d.tbody,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"num"}),(0,r.jsx)(d.td,{children:"\u9501\u7f16\u53f7\u30020~127"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]})})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8fd4\u56de\u503c\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u8fd4\u56de\u503c"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"0"}),(0,r.jsx)(d.td,{children:"\u52a0\u9501\u6210\u529f"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"-1"}),(0,r.jsx)(d.td,{children:"\u9501\u6b63\u5728\u52a0\u9501\u72b6\u6001\uff0c\u672c\u6b21\u65e0\u6cd5\u52a0\u9501"})]})]})]}),"\n",(0,r.jsx)(d.h5,{id:"2143-kd_hardlock_unlock",children:"2.1.4.3 kd_hardlock_unlock"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u63cf\u8ff0\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u52a0\u9501\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8bed\u6cd5\u3011"}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"kd_hardlock_unlock (rt_uint32_t num)"})}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u53c2\u6570\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u53c2\u6570\u540d\u79f0"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,r.jsx)(d.th,{children:"\u8f93\u5165/\u8f93\u51fa"})]})}),(0,r.jsx)(d.tbody,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"num"}),(0,r.jsx)(d.td,{children:"\u9501\u7f16\u53f7\u30020~127"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]})})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8fd4\u56de\u503c\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u8fd4\u56de\u503c"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"})]})}),(0,r.jsx)(d.tbody,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"\u65e0\u8fd4\u56de\u503c"}),(0,r.jsx)(d.td,{})]})})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u82af\u7247\u5dee\u5f02\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u9700\u6c42\u3011"}),"\n",(0,r.jsxs)(d.p,{children:["\u5934\u6587\u4ef6\uff1a",(0,r.jsx)(d.code,{children:"drv_hardlock.h"})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u6ce8\u610f\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u4e3e\u4f8b\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u76f8\u5173\u4e3b\u9898\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.h4,{id:"215-adc",children:"2.1.5 ADC"}),"\n",(0,r.jsx)(d.p,{children:"ADC \u6a21\u5757\u63d0\u4f9b\u4ee5\u4e0bAPI\uff1a"}),"\n",(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsx)(d.li,{children:(0,r.jsx)(d.a,{href:"#2151-rt_device_find",children:"rt_device_find"})}),"\n",(0,r.jsx)(d.li,{children:(0,r.jsx)(d.a,{href:"#2152-rt_adc_enable",children:"rt_adc_enable"})}),"\n",(0,r.jsx)(d.li,{children:(0,r.jsx)(d.a,{href:"#2153-rt_adc_read",children:"rt_adc_read"})}),"\n",(0,r.jsx)(d.li,{children:(0,r.jsx)(d.a,{href:"#2154-rt_adc_disable",children:"rt_adc_disable"})}),"\n"]}),"\n",(0,r.jsx)(d.h5,{id:"2151-rt_device_find",children:"2.1.5.1 rt_device_find"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u63cf\u8ff0\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u5e94\u7528\u7a0b\u5e8f\u6839\u636e ADC \u8bbe\u5907\u540d\u79f0\u83b7\u53d6\u8bbe\u5907\u53e5\u67c4\uff0c\u8fdb\u800c\u53ef\u4ee5\u64cd\u4f5c ADC \u8bbe\u5907\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8bed\u6cd5\u3011"}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"rt_device_t rt_device_find(const char* name);"})}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u53c2\u6570\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u53c2\u6570\u540d\u79f0"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,r.jsx)(d.th,{children:"\u8f93\u5165/\u8f93\u51fa"})]})}),(0,r.jsx)(d.tbody,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"name"}),(0,r.jsx)(d.td,{children:"adc \u8bbe\u5907\u540d\u79f0"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]})})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8fd4\u56de\u503c\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u8fd4\u56de\u503c"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"\u8bbe\u5907\u53e5\u67c4"}),(0,r.jsx)(d.td,{children:"\u67e5\u627e\u5230\u5bf9\u5e94\u8bbe\u5907\u5c06\u8fd4\u56de\u76f8\u5e94\u7684\u8bbe\u5907\u53e5\u67c4"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"RT_NULL"}),(0,r.jsx)(d.td,{children:"\u6ca1\u6709\u627e\u5230\u8bbe\u5907"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u82af\u7247\u5dee\u5f02\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u9700\u6c42\u3011"}),"\n",(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsxs)(d.li,{children:["\u5934\u6587\u4ef6\uff1a",(0,r.jsx)(d.code,{children:"rtdevice.h"}),"\u3001",(0,r.jsx)(d.code,{children:"rtthread.h"})]}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u6ce8\u610f\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u4e3e\u4f8b\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u76f8\u5173\u4e3b\u9898\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.h5,{id:"2152-rt_adc_enable",children:"2.1.5.2 rt_adc_enable"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u63cf\u8ff0\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u5728\u8bfb\u53d6 adc \u8bbe\u5907\u6570\u636e\u524d\u9700\u8981\u5148\u4f7f\u80fd\u8bbe\u5907\uff0c\u901a\u8fc7\u6b64\u51fd\u6570\u4f7f\u80fd adc\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8bed\u6cd5\u3011"}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"rt_err_t rt_adc_enable(rt_adc_device_t dev, rt_uint32_t channel);"})}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u53c2\u6570\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u53c2\u6570\u540d\u79f0"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,r.jsx)(d.th,{children:"\u8f93\u5165/\u8f93\u51fa"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"dev"}),(0,r.jsx)(d.td,{children:"adc \u8bbe\u5907\u53e5\u67c4"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"channel"}),(0,r.jsx)(d.td,{children:"adc \u901a\u9053"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8fd4\u56de\u503c\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u8fd4\u56de\u503c"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"RT_EOK"}),(0,r.jsx)(d.td,{children:"\u6210\u529f"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"-RT_ENOSYS"}),(0,r.jsx)(d.td,{children:"\u5931\u8d25\uff0c\u8bbe\u5907\u64cd\u4f5c\u65b9\u6cd5\u4e3a\u7a7a"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"\u5176\u4ed6\u9519\u8bef\u7801"}),(0,r.jsx)(d.td,{children:"\u5931\u8d25"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u82af\u7247\u5dee\u5f02\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u9700\u6c42\u3011"}),"\n",(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsxs)(d.li,{children:["\u5934\u6587\u4ef6\uff1a",(0,r.jsx)(d.code,{children:"rtdevice.h"}),"\u3001",(0,r.jsx)(d.code,{children:"rtthread.h"})]}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u6ce8\u610f\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u4e3e\u4f8b\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u76f8\u5173\u4e3b\u9898\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.h5,{id:"2153-rt_adc_read",children:"2.1.5.3 rt_adc_read"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u63cf\u8ff0\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u8bfb\u53d6 adc \u901a\u9053\u91c7\u6837\u503c\u53ef\u901a\u8fc7\u6b64\u51fd\u6570\u5b8c\u6210\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8bed\u6cd5\u3011"}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"rt_err_t rt_adc_read(rt_adc_device_t dev, rt_uint32_t channel);"})}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u53c2\u6570\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u53c2\u6570\u540d\u79f0"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,r.jsx)(d.th,{children:"\u8f93\u5165/\u8f93\u51fa"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"dev"}),(0,r.jsx)(d.td,{children:"adc \u8bbe\u5907\u53e5\u67c4"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"channel"}),(0,r.jsx)(d.td,{children:"adc \u901a\u9053"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8fd4\u56de\u503c\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u8fd4\u56de\u503c"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"})]})}),(0,r.jsx)(d.tbody,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"\u8bfb\u53d6\u7684\u6570\u503c"}),(0,r.jsx)(d.td,{children:"\u8bfb\u53d6\u7684\u6570\u503c"})]})})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u82af\u7247\u5dee\u5f02\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u9700\u6c42\u3011"}),"\n",(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsxs)(d.li,{children:["\u5934\u6587\u4ef6\uff1a",(0,r.jsx)(d.code,{children:"rtdevice.h"}),"\u3001",(0,r.jsx)(d.code,{children:"rtthread.h"})]}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u6ce8\u610f\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u4e3e\u4f8b\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u76f8\u5173\u4e3b\u9898\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.h5,{id:"2154-rt_adc_disable",children:"2.1.5.4 rt_adc_disable"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u63cf\u8ff0\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u5173\u95ed adc \u901a\u9053\u53ef\u901a\u8fc7\u6b64\u51fd\u6570\u5b8c\u6210\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8bed\u6cd5\u3011"}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"rt_err_t rt_adc_disable(rt_adc_device_t dev, rt_uint32_t channel);"})}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u53c2\u6570\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u53c2\u6570\u540d\u79f0"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,r.jsx)(d.th,{children:"\u8f93\u5165/\u8f93\u51fa"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"dev"}),(0,r.jsx)(d.td,{children:"adc \u8bbe\u5907\u53e5\u67c4"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"channel"}),(0,r.jsx)(d.td,{children:"adc \u901a\u9053"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8fd4\u56de\u503c\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u8fd4\u56de\u503c"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"RT_EOK"}),(0,r.jsx)(d.td,{children:"\u6210\u529f"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"-RT_ENOSYS"}),(0,r.jsx)(d.td,{children:"\u5931\u8d25\uff0c\u8bbe\u5907\u64cd\u4f5c\u65b9\u6cd5\u4e3a\u7a7a"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"\u5176\u4ed6\u9519\u8bef\u7801"}),(0,r.jsx)(d.td,{children:"\u5931\u8d25"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u82af\u7247\u5dee\u5f02\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u9700\u6c42\u3011"}),"\n",(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsxs)(d.li,{children:["\u5934\u6587\u4ef6\uff1a",(0,r.jsx)(d.code,{children:"rtdevice.h"}),"\u3001",(0,r.jsx)(d.code,{children:"rtthread.h"})]}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u6ce8\u610f\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u4e3e\u4f8b\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u76f8\u5173\u4e3b\u9898\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.h4,{id:"216-wdt",children:"2.1.6 WDT"}),"\n",(0,r.jsx)(d.p,{children:"WDT \u6a21\u5757\u63d0\u4f9b\u4ee5\u4e0bAPI\uff1a"}),"\n",(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsx)(d.li,{children:(0,r.jsx)(d.a,{href:"#2161-rt_device_find",children:"rt_device_find"})}),"\n",(0,r.jsx)(d.li,{children:(0,r.jsx)(d.a,{href:"#2162-rt_device_init",children:"rt_device_init"})}),"\n",(0,r.jsx)(d.li,{children:(0,r.jsx)(d.a,{href:"#2163-rt_device_control",children:"rt_device_control"})}),"\n"]}),"\n",(0,r.jsx)(d.h5,{id:"2161-rt_device_find",children:"2.1.6.1 rt_device_find"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u63cf\u8ff0\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u5e94\u7528\u7a0b\u5e8f\u6839\u636e WDT \u8bbe\u5907\u540d\u79f0\u83b7\u53d6\u8bbe\u5907\u53e5\u67c4\uff0c\u8fdb\u800c\u53ef\u4ee5\u64cd\u4f5c WDT \u8bbe\u5907\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8bed\u6cd5\u3011"}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"rt_device_t rt_device_find(const char* name);"})}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u53c2\u6570\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u53c2\u6570\u540d\u79f0"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,r.jsx)(d.th,{children:"\u8f93\u5165/\u8f93\u51fa"})]})}),(0,r.jsx)(d.tbody,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"name"}),(0,r.jsx)(d.td,{children:"wdt \u8bbe\u5907\u540d\u79f0"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]})})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8fd4\u56de\u503c\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u8fd4\u56de\u503c"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"\u8bbe\u5907\u53e5\u67c4"}),(0,r.jsx)(d.td,{children:"\u67e5\u627e\u5230\u5bf9\u5e94\u8bbe\u5907\u5c06\u8fd4\u56de\u76f8\u5e94\u7684\u8bbe\u5907\u53e5\u67c4"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"RT_NULL"}),(0,r.jsx)(d.td,{children:"\u6ca1\u6709\u627e\u5230\u8bbe\u5907"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u82af\u7247\u5dee\u5f02\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u9700\u6c42\u3011"}),"\n",(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsxs)(d.li,{children:["\u5934\u6587\u4ef6\uff1a",(0,r.jsx)(d.code,{children:"rtdevice.h"}),"\u3001",(0,r.jsx)(d.code,{children:"rtthread.h"})]}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u6ce8\u610f\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u4e3e\u4f8b\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u76f8\u5173\u4e3b\u9898\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.h5,{id:"2162-rt_device_init",children:"2.1.6.2 rt_device_init"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u63cf\u8ff0\u3011"}),"\n",(0,r.jsxs)(d.p,{children:["\u521d\u59cb\u5316 WDT \u8bbe\u5907\uff0c\u4e3b\u8981\u662f\u5bf9",(0,r.jsx)(d.code,{children:"timeout table"}),"\u7684\u521d\u59cb\u5316\u3002"]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8bed\u6cd5\u3011"}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"rt_err_t rt_device_init(rt_device_t dev)"})}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u53c2\u6570\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u53c2\u6570\u540d\u79f0"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,r.jsx)(d.th,{children:"\u8f93\u5165/\u8f93\u51fa"})]})}),(0,r.jsx)(d.tbody,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"dev"}),(0,r.jsx)(d.td,{children:"wdt \u8bbe\u5907\u53e5\u67c4"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]})})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8fd4\u56de\u503c\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u8fd4\u56de\u503c"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"})]})}),(0,r.jsx)(d.tbody,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"RT_EOK"}),(0,r.jsx)(d.td,{children:"\u521d\u59cb\u5316\u6210\u529f"})]})})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u82af\u7247\u5dee\u5f02\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u9700\u6c42\u3011"}),"\n",(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsxs)(d.li,{children:["\u5934\u6587\u4ef6\uff1a",(0,r.jsx)(d.code,{children:"rtthread.h"})]}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u6ce8\u610f\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u4e3e\u4f8b\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u76f8\u5173\u4e3b\u9898\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.h5,{id:"2163-rt_device_control",children:"2.1.6.3 rt_device_control"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u63cf\u8ff0\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u529f\u80fd\u578b\u51fd\u6570\uff0c\u6839\u636e\u4f20\u5165cmd\u4e0d\u540c\u53ef\u4ee5\u5411\u4e0b\u8c03\u7528\u4e0d\u540c\u529f\u80fd\uff0c\u7c7b\u4f3c\u7528\u6237\u5c42ioctl\u7684\u529f\u80fd\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8bed\u6cd5\u3011"}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"rt_err_t rt_device_control(rt_device_t dev, int cmd, void *arg)"})}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u53c2\u6570\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u53c2\u6570\u540d\u79f0"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,r.jsx)(d.th,{children:"\u8f93\u5165/\u8f93\u51fa"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"dev"}),(0,r.jsx)(d.td,{children:"wdt \u8bbe\u5907\u53e5\u67c4"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"cmd"}),(0,r.jsx)(d.td,{children:"wdt contrl\u51fd\u6570\u5b8f\u5b9a\u4e49"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"arg"}),(0,r.jsx)(d.td,{children:"\u4f20\u5165\u7684\u6570\u636e\u7684\u6307\u9488"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8fd4\u56de\u503c\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u8fd4\u56de\u503c"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"RT_EOK"}),(0,r.jsx)(d.td,{children:"\u529f\u80fd\u8c03\u7528\u6210\u529f"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"RT_EINVAL"}),(0,r.jsx)(d.td,{children:"\u4f20\u5165cmd\u65e0\u6548"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"RT_ENOSYS"}),(0,r.jsx)(d.td,{children:"\u9a71\u52a8\u65e0contrl\u63a5\u53e3"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u82af\u7247\u5dee\u5f02\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u9700\u6c42\u3011"}),"\n",(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsxs)(d.li,{children:["\u5934\u6587\u4ef6\uff1a",(0,r.jsx)(d.code,{children:"rtthread.h"})]}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u6ce8\u610f\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u4e3e\u4f8b\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u76f8\u5173\u4e3b\u9898\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.h4,{id:"217-otp",children:"2.1.7 OTP"}),"\n",(0,r.jsx)(d.p,{children:"\u5927\u6838 rt-smart \u4e2d\uff0cOTP \u6a21\u5757\u4e3b\u8981\u63d0\u4f9b\u4e86\u4ee5\u4e0b API\uff1a"}),"\n",(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsx)(d.li,{children:(0,r.jsx)(d.a,{href:"#2171-otp_device_read",children:"otp_device_read"})}),"\n",(0,r.jsx)(d.li,{children:(0,r.jsx)(d.a,{href:"#2172-otp_device_write",children:"otp_device_write"})}),"\n"]}),"\n",(0,r.jsx)(d.h5,{id:"2171-otp_device_read",children:"2.1.7.1 otp_device_read"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u63cf\u8ff0\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u8bfb OTP \u7a7a\u95f4\uff0c\u53ef\u8bfb\u8303\u56f4\uff1a\u504f\u79fb\u91cf 0x0~0xbfc\uff0csize \u4e3a 0xc00\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8bed\u6cd5\u3011"}),"\n",(0,r.jsx)(d.p,{children:"otp_device_read(rt_device_t dev, rt_off_t pos, void *buffer, rt_size_t size);"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u53c2\u6570\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u53c2\u6570\u540d\u79f0"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,r.jsx)(d.th,{children:"\u8f93\u5165/\u8f93\u51fa"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"dev"}),(0,r.jsx)(d.td,{children:"\u8bbe\u5907\u53e5\u67c4"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"pos"}),(0,r.jsx)(d.td,{children:"\u8981\u8bfb\u53d6\u5730\u5740\u7684\u504f\u79fb\u91cf"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"buffer"}),(0,r.jsx)(d.td,{children:"\u5185\u5b58\u7f13\u51b2\u533a\u6307\u9488\uff0c\u8bfb\u53d6\u7684\u6570\u636e\u5c06\u4f1a\u88ab\u4fdd\u5b58\u5728\u7f13\u51b2\u533a\u4e2d"}),(0,r.jsx)(d.td,{children:"\u8f93\u51fa"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"size"}),(0,r.jsx)(d.td,{children:"\u8bfb\u53d6\u6570\u636e\u7684\u5927\u5c0f\uff08byte\uff09"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8fd4\u56de\u503c\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u8fd4\u56de\u503c"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"\u8bfb\u5230\u6570\u636e\u7684\u5b9e\u9645\u5927\u5c0f"}),(0,r.jsx)(d.td,{children:"\u4ee5\u5b57\u8282 byte \u4e3a\u5355\u4f4d"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"0"}),(0,r.jsx)(d.td,{children:"\u8bfb\u53d6\u5931\u8d25\uff0c\u53c2\u8003\u9519\u8bef\u7801\u5b9a\u4e49"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u82af\u7247\u5dee\u5f02\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u9700\u6c42\u3011"}),"\n",(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsx)(d.li,{children:"\u5934\u6587\u4ef6\uff1adrv_otp.h"}),"\n",(0,r.jsx)(d.li,{children:"\u5e93\u6587\u4ef6\uff1a\u65e0"}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u6ce8\u610f\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u4e3e\u4f8b\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u76f8\u5173\u4e3b\u9898\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.h5,{id:"2172-otp_device_write",children:"2.1.7.2 otp_device_write"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u63cf\u8ff0\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u5199 OTP \u7a7a\u95f4\uff0c\u53ef\u5199\u8303\u56f4\uff1a\u504f\u79fb\u91cf 0x0~0x1fc\uff0csize \u4e3a 0x200\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8bed\u6cd5\u3011"}),"\n",(0,r.jsx)(d.p,{children:"otp_device_write(rt_device_t dev, rt_off_t pos, const void *buffer, rt_size_t size);"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u53c2\u6570\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u53c2\u6570\u540d\u79f0"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,r.jsx)(d.th,{children:"\u8f93\u5165/\u8f93\u51fa"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"dev"}),(0,r.jsx)(d.td,{children:"\u8bbe\u5907\u53e5\u67c4"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"pos"}),(0,r.jsx)(d.td,{children:"\u8981\u5199\u5165\u6570\u636e\u7684\u504f\u79fb\u91cf"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"buffer"}),(0,r.jsx)(d.td,{children:"\u5185\u5b58\u7f13\u51b2\u533a\u6307\u9488\uff0c\u653e\u7f6e\u8981\u5199\u5165\u7684\u6570\u636e"}),(0,r.jsx)(d.td,{children:"\u8f93\u51fa"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"size"}),(0,r.jsx)(d.td,{children:"\u5438\u5165\u6570\u636e\u7684\u5927\u5c0f\uff08byte\uff09"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8fd4\u56de\u503c\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u8fd4\u56de\u503c"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"\u5199\u5165\u6570\u636e\u7684\u5b9e\u9645\u5927\u5c0f"}),(0,r.jsx)(d.td,{children:"\u4ee5\u5b57\u8282 byte \u4e3a\u5355\u4f4d"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"0"}),(0,r.jsx)(d.td,{children:"\u5199\u5165\u5931\u8d25\uff0c\u53c2\u8003\u9519\u8bef\u7801\u5b9a\u4e49"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u82af\u7247\u5dee\u5f02\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u9700\u6c42\u3011"}),"\n",(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsx)(d.li,{children:"\u5934\u6587\u4ef6\uff1adrv_otp.h"}),"\n",(0,r.jsx)(d.li,{children:"\u5e93\u6587\u4ef6\uff1a\u65e0"}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u6ce8\u610f\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u4e3e\u4f8b\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u76f8\u5173\u4e3b\u9898\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.h4,{id:"218-ts",children:"2.1.8 TS"}),"\n",(0,r.jsx)(d.p,{children:"\u5927\u6838 rt-smart \u4e2d\uff0cTS \u6a21\u5757\u4e3b\u8981\u63d0\u4f9b\u4e86\u4ee5\u4e0b API\uff1a"}),"\n",(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsx)(d.li,{children:(0,r.jsx)(d.a,{href:"#2181-ts_device_read",children:"ts_device_read"})}),"\n"]}),"\n",(0,r.jsx)(d.h5,{id:"2181-ts_device_read",children:"2.1.8.1 ts_device_read"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u63cf\u8ff0\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u8bfb\u82af\u7247\u7ed3\u6e29\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8bed\u6cd5\u3011"}),"\n",(0,r.jsx)(d.p,{children:"ts_device_read(rt_device_t dev, rt_off_t pos, void *buffer, rt_size_t size);"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u53c2\u6570\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u53c2\u6570\u540d\u79f0"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,r.jsx)(d.th,{children:"\u8f93\u5165/\u8f93\u51fa"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"dev"}),(0,r.jsx)(d.td,{children:"\u8bbe\u5907\u53e5\u67c4"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"pos"}),(0,r.jsx)(d.td,{children:"\u8981\u8bfb\u53d6\u5730\u5740\u7684\u504f\u79fb\u91cf\uff0c\u8bbe\u7f6e\u4e3a0"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"buffer"}),(0,r.jsx)(d.td,{children:"\u5185\u5b58\u7f13\u51b2\u533a\u6307\u9488\uff0c\u8bfb\u53d6\u7684\u6570\u636e\u5c06\u4f1a\u88ab\u4fdd\u5b58\u5728\u7f13\u51b2\u533a\u4e2d"}),(0,r.jsx)(d.td,{children:"\u8f93\u51fa"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"size"}),(0,r.jsx)(d.td,{children:"\u8bfb\u53d6\u6570\u636e\u7684\u5927\u5c0f\uff08byte\uff09\uff0c\u8bbe\u7f6e\u4e3a0"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8fd4\u56de\u503c\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u8fd4\u56de\u503c"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"\u8bfb\u5230\u6570\u636e\u7684\u5b9e\u9645\u5927\u5c0f"}),(0,r.jsx)(d.td,{children:"\u4ee5\u5b57\u8282 byte \u4e3a\u5355\u4f4d"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"0"}),(0,r.jsx)(d.td,{children:"\u8bfb\u53d6\u5931\u8d25\uff0c\u53c2\u8003\u9519\u8bef\u7801\u5b9a\u4e49"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u82af\u7247\u5dee\u5f02\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u9700\u6c42\u3011"}),"\n",(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsx)(d.li,{children:"\u5934\u6587\u4ef6\uff1adrv_ts.h"}),"\n",(0,r.jsx)(d.li,{children:"\u5e93\u6587\u4ef6\uff1a\u65e0"}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u6ce8\u610f\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u4e3e\u4f8b\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u76f8\u5173\u4e3b\u9898\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.h4,{id:"219-pwm",children:"2.1.9 PWM"}),"\n",(0,r.jsx)(d.p,{children:"PWM\u6a21\u5757\u63d0\u4f9b\u4ee5\u4e0b\u5185\u6838\u6001API\uff1a"}),"\n",(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsx)(d.li,{children:(0,r.jsx)(d.a,{href:"#2191-rt_pwm_set",children:"rt_pwm_set"})}),"\n",(0,r.jsx)(d.li,{children:(0,r.jsx)(d.a,{href:"#2192-rt_pwm_enable",children:"rt_pwm_enable"})}),"\n",(0,r.jsx)(d.li,{children:(0,r.jsx)(d.a,{href:"#2193-rt_pwm_disable",children:"rt_pwm_disable"})}),"\n"]}),"\n",(0,r.jsx)(d.h5,{id:"2191-rt_pwm_set",children:"2.1.9.1 rt_pwm_set"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u63cf\u8ff0\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u8bbe\u7f6ePWM\u8bbe\u5907\u7684\u5468\u671f\u548c\u6b63\u8109\u51b2\u5bbd\u5ea6\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8bed\u6cd5\u3011"}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"rt_pwm_set(struct rt_device_pwm *device, int channel, rt_uint32_t period, rt_uint32_t pulse)"})}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u53c2\u6570\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u53c2\u6570\u540d\u79f0"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,r.jsx)(d.th,{children:"\u8f93\u5165/\u8f93\u51fa"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"device"}),(0,r.jsx)(d.td,{children:"PWM \u8bbe\u5907\u53e5\u67c4"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"channel"}),(0,r.jsx)(d.td,{children:"pwm\u901a\u9053\u53f7"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"period"}),(0,r.jsx)(d.td,{children:"pwm\u5468\u671f(ns)"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"pulse"}),(0,r.jsx)(d.td,{children:"pwm\u6b63\u8109\u51b2\u5bbd\u5ea6(ns)"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8fd4\u56de\u503c\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u8fd4\u56de\u503c"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"RT_EOK"}),(0,r.jsx)(d.td,{children:"\u6210\u529f"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"-RT_EIO"}),(0,r.jsx)(d.td,{children:"device \u4e3a\u7a7a"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"-RT_ENOSYS"}),(0,r.jsx)(d.td,{children:"\u8bbe\u5907\u64cd\u4f5c\u65b9\u6cd5\u4e3a\u7a7a"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"\u5176\u4ed6\u9519\u8bef\u7801"}),(0,r.jsx)(d.td,{children:"\u6267\u884c\u5931\u8d25"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u82af\u7247\u5dee\u5f02\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u9700\u6c42\u3011"}),"\n",(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsxs)(d.li,{children:["\u5934\u6587\u4ef6\uff1a",(0,r.jsx)(d.code,{children:"drivers/rt_drv_pwm.h"})]}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u6ce8\u610f\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u4e3e\u4f8b\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u76f8\u5173\u4e3b\u9898\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.h5,{id:"2192-rt_pwm_enable",children:"2.1.9.2 rt_pwm_enable"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u63cf\u8ff0\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u4f7f\u80fd PWM \u8bbe\u5907\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8bed\u6cd5\u3011"}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"rt_err_t rt_pwm_enable(struct rt_device_pwm *device, int channel);"})}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u53c2\u6570\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u53c2\u6570\u540d\u79f0"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,r.jsx)(d.th,{children:"\u8f93\u5165/\u8f93\u51fa"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"device"}),(0,r.jsx)(d.td,{children:"PWM \u8bbe\u5907\u53e5\u67c4"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"channel"}),(0,r.jsx)(d.td,{children:"pwm\u901a\u9053\u53f7"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8fd4\u56de\u503c\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u8fd4\u56de\u503c"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"RT_EOK"}),(0,r.jsx)(d.td,{children:"\u8bbe\u5907\u4f7f\u80fd\u6210\u529f"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"-RT_ENOSYS"}),(0,r.jsx)(d.td,{children:"\u8bbe\u5907\u64cd\u4f5c\u65b9\u6cd5\u4e3a\u7a7a"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"\u5176\u4ed6\u9519\u8bef\u7801"}),(0,r.jsx)(d.td,{children:"\u8bbe\u5907\u4f7f\u80fd\u5931\u8d25"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u82af\u7247\u5dee\u5f02\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u9700\u6c42\u3011"}),"\n",(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsxs)(d.li,{children:["\u5934\u6587\u4ef6\uff1a",(0,r.jsx)(d.code,{children:"drivers/rt_drv_pwm.h"})]}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u6ce8\u610f\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u4e3e\u4f8b\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u76f8\u5173\u4e3b\u9898\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.h5,{id:"2193-rt_pwm_disable",children:"2.1.9.3 rt_pwm_disable"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u63cf\u8ff0\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u5173\u95ed PWM \u8bbe\u5907\u5bf9\u5e94\u901a\u9053\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8bed\u6cd5\u3011"}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"rt_err_t rt_pwm_disable(struct rt_device_pwm *device, int channel);"})}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u53c2\u6570\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u53c2\u6570\u540d\u79f0"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,r.jsx)(d.th,{children:"\u8f93\u5165/\u8f93\u51fa"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"device"}),(0,r.jsx)(d.td,{children:"PWM \u8bbe\u5907\u53e5\u67c4"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"channel"}),(0,r.jsx)(d.td,{children:"pwm\u901a\u9053\u53f7"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8fd4\u56de\u503c\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u8fd4\u56de\u503c"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"RT_EOK"}),(0,r.jsx)(d.td,{children:"\u8bbe\u5907\u5173\u95ed\u6210\u529f"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"-RT_EIO"}),(0,r.jsx)(d.td,{children:"\u8bbe\u5907\u53e5\u67c4\u4e3a\u7a7a"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"\u5176\u4ed6\u9519\u8bef\u7801"}),(0,r.jsx)(d.td,{children:"\u8bbe\u5907\u5173\u95ed\u5931\u8d25"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u82af\u7247\u5dee\u5f02\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u9700\u6c42\u3011"}),"\n",(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsxs)(d.li,{children:["\u5934\u6587\u4ef6\uff1a",(0,r.jsx)(d.code,{children:"drivers/rt_drv_pwm.h"})]}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u6ce8\u610f\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u4e3e\u4f8b\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u76f8\u5173\u4e3b\u9898\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.h4,{id:"2110-rtc",children:"2.1.10 RTC"}),"\n",(0,r.jsx)(d.p,{children:"PWM\u6a21\u5757\u63d0\u4f9b\u4ee5\u4e0b\u5185\u6838\u6001API\uff1a"}),"\n",(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsx)(d.li,{children:(0,r.jsx)(d.a,{href:"#21101-set_date",children:"set_date"})}),"\n",(0,r.jsx)(d.li,{children:(0,r.jsx)(d.a,{href:"#21102-set_time",children:"set_time"})}),"\n"]}),"\n",(0,r.jsx)(d.h5,{id:"21101-set_date",children:"2.1.10.1 set_date"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u63cf\u8ff0\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u8bbe\u7f6e\u65e5\u671f\uff0c\u5e74\u3001\u6708\u3001\u65e5\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8bed\u6cd5\u3011"}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"rt_err_t set_date(rt_uint32_t year, rt_uint32_t month, rt_uint32_t day)"})}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u53c2\u6570\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u53c2\u6570\u540d\u79f0"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,r.jsx)(d.th,{children:"\u8f93\u5165/\u8f93\u51fa"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"year"}),(0,r.jsx)(d.td,{children:"\u5f85\u8bbe\u7f6e\u7684\u5e74\u4efd"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"month"}),(0,r.jsx)(d.td,{children:"\u5f85\u8bbe\u7f6e\u7684\u6708\u4efd"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"day"}),(0,r.jsx)(d.td,{children:"\u5f85\u8bbe\u7f6e\u7684\u65e5"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8fd4\u56de\u503c\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u8fd4\u56de\u503c"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"RT_EOK"}),(0,r.jsx)(d.td,{children:"\u8bbe\u7f6e\u6210\u529f"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"-RT_ERROR"}),(0,r.jsx)(d.td,{children:"\u5931\u8d25\uff0c\u6ca1\u6709\u627e\u5230 rtc \u8bbe\u5907"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"\u5176\u4ed6\u9519\u8bef\u7801"}),(0,r.jsx)(d.td,{children:"\u5931\u8d25"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u82af\u7247\u5dee\u5f02\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u9700\u6c42\u3011"}),"\n",(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsxs)(d.li,{children:["\u5934\u6587\u4ef6\uff1a",(0,r.jsx)(d.code,{children:"time.h"})]}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u6ce8\u610f\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u4e3e\u4f8b\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u76f8\u5173\u4e3b\u9898\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.h5,{id:"21102-set_time",children:"2.1.10.2 set_time"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u63cf\u8ff0\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u8bbe\u7f6e\u65e5\u671f\uff0c\u5e74\u3001\u6708\u3001\u65e5\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8bed\u6cd5\u3011"}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"rt_err_t set_time(rt_uint32_t hour, rt_uint32_t minute, rt_uint32_t second)"})}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u53c2\u6570\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u53c2\u6570\u540d\u79f0"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,r.jsx)(d.th,{children:"\u8f93\u5165/\u8f93\u51fa"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"hour"}),(0,r.jsx)(d.td,{children:"\u5f85\u8bbe\u7f6e\u7684\u65f6"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"minute"}),(0,r.jsx)(d.td,{children:"\u5f85\u8bbe\u7f6e\u7684\u5206"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"second"}),(0,r.jsx)(d.td,{children:"\u5f85\u8bbe\u7f6e\u7684\u79d2"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8fd4\u56de\u503c\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u8fd4\u56de\u503c"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"RT_EOK"}),(0,r.jsx)(d.td,{children:"\u8bbe\u7f6e\u6210\u529f"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"-RT_ERROR"}),(0,r.jsx)(d.td,{children:"\u5931\u8d25\uff0c\u6ca1\u6709\u627e\u5230 rtc \u8bbe\u5907"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"\u5176\u4ed6\u9519\u8bef\u7801"}),(0,r.jsx)(d.td,{children:"\u5931\u8d25"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u82af\u7247\u5dee\u5f02\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u9700\u6c42\u3011"}),"\n",(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsxs)(d.li,{children:["\u5934\u6587\u4ef6\uff1a",(0,r.jsx)(d.code,{children:"time.h"})]}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u6ce8\u610f\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u4e3e\u4f8b\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u76f8\u5173\u4e3b\u9898\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.h4,{id:"2111-timer",children:"2.1.11 TIMER"}),"\n",(0,r.jsx)(d.p,{children:"TIMER\u6a21\u5757\u63d0\u4f9b\u4ee5\u4e0b\u5185\u6838\u6001API\uff1a"}),"\n",(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsx)(d.li,{children:(0,r.jsx)(d.code,{children:"rt_device_open"})}),"\n",(0,r.jsx)(d.li,{children:(0,r.jsx)(d.code,{children:"rt_device_control"})}),"\n",(0,r.jsx)(d.li,{children:(0,r.jsx)(d.a,{href:"#21111-rt_device_set_rx_indicate",children:"rt_device_set_rx_indicate"})}),"\n",(0,r.jsx)(d.li,{children:(0,r.jsx)(d.code,{children:"rt_device_read"})}),"\n",(0,r.jsx)(d.li,{children:(0,r.jsx)(d.code,{children:"rt_device_write"})}),"\n"]}),"\n",(0,r.jsx)(d.h5,{id:"21111-rt_device_set_rx_indicate",children:"2.1.11.1 rt_device_set_rx_indicate"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u63cf\u8ff0\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u8bbe\u7f6e\u56de\u8c03\u51fd\u6570\uff0c\u7528\u4e8edevice\u63a5\u6536\u5230\u6570\u636e\u65f6\u8c03\u7528\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8bed\u6cd5\u3011"}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"rt_err_t rt_device_set_rx_indicate(rt_device_t dev, rt_err_t (*rx_ind)(rt_device_t dev, rt_size_t size))"})}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u53c2\u6570\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u53c2\u6570\u540d\u79f0"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,r.jsx)(d.th,{children:"\u8f93\u5165/\u8f93\u51fa"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"dev"}),(0,r.jsx)(d.td,{children:"\u6253\u5f00\u7684\u8bbe\u5907\u53e5\u67c4"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"*rx_ind"}),(0,r.jsx)(d.td,{children:"\u56de\u8c03\u51fd\u6570\u6307\u9488"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8fd4\u56de\u503c\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u8fd4\u56de\u503c"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"RT_EOK"}),(0,r.jsx)(d.td,{children:"\u8bbe\u7f6e\u6210\u529f"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"\u5176\u4ed6\u9519\u8bef\u7801"}),(0,r.jsx)(d.td,{children:"\u5931\u8d25"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u82af\u7247\u5dee\u5f02\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u9700\u6c42\u3011"}),"\n",(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsxs)(d.li,{children:["\u5934\u6587\u4ef6\uff1a",(0,r.jsx)(d.code,{children:"rtthread.h"})]}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u6ce8\u610f\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u4e3e\u4f8b\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u76f8\u5173\u4e3b\u9898\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.h3,{id:"22-\u7528\u6237\u6001-api",children:"2.2 \u7528\u6237\u6001 API"}),"\n",(0,r.jsx)(d.h4,{id:"221-adc",children:"2.2.1 ADC"}),"\n",(0,r.jsx)(d.p,{children:"ADC \u6a21\u5757\u5728\u7528\u6237\u6001\u63d0\u4f9b\u4ee5\u4e0bAPI\uff1a"}),"\n",(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsx)(d.li,{children:(0,r.jsx)(d.a,{href:"#2211-rt_device_find",children:"rt_device_find"})}),"\n",(0,r.jsx)(d.li,{children:(0,r.jsx)(d.a,{href:"#2212-rt_device_open",children:"rt_device_open"})}),"\n",(0,r.jsx)(d.li,{children:(0,r.jsx)(d.a,{href:"#2213-rt_device_control",children:"rt_device_control"})}),"\n",(0,r.jsx)(d.li,{children:(0,r.jsx)(d.a,{href:"#2214-rt_device_read",children:"rt_device_read"})}),"\n"]}),"\n",(0,r.jsx)(d.h5,{id:"2211-rt_device_find",children:"2.2.1.1 rt_device_find"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u63cf\u8ff0\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u67e5\u627e\u8bbe\u5907\u3002\u8be5\u51fd\u6570\u901a\u8fc7\u6307\u5b9a\u7684\u540d\u79f0\u67e5\u627e\u8bbe\u5907\u3002\u5e94\u7528\u7a0b\u5e8f\u6839\u636e\u8bbe\u5907\u540d\u79f0\u83b7\u53d6\u8bbe\u5907\u53e5\u67c4\uff0c\u8fdb\u800c\u53ef\u4ee5\u64cd\u4f5c\u8bbe\u5907\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8bed\u6cd5\u3011"}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"rt_device_t rt_device_find(const char *name);"})}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u53c2\u6570\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u53c2\u6570\u540d\u79f0"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,r.jsx)(d.th,{children:"\u8f93\u5165/\u8f93\u51fa"})]})}),(0,r.jsx)(d.tbody,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"name"}),(0,r.jsx)(d.td,{children:"\u8bbe\u5907\u7684\u540d\u79f0\u3002"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]})})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8fd4\u56de\u503c\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u8fd4\u56de\u503c"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"rt_device_t"}),(0,r.jsx)(d.td,{children:"\u6210\u529f\u8fd4\u56de\u8bbe\u5907\u53e5\u67c4"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"RT_NULL"}),(0,r.jsx)(d.td,{children:"\u5931\u8d25\u8fd4\u56de RT_NULL"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u82af\u7247\u5dee\u5f02\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u9700\u6c42\u3011"}),"\n",(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsxs)(d.li,{children:["\u5934\u6587\u4ef6\uff1a",(0,r.jsx)(d.code,{children:"rtdevice.h"}),"\u3001",(0,r.jsx)(d.code,{children:"rtthread.h"})]}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u6ce8\u610f\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u4e3e\u4f8b\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u76f8\u5173\u4e3b\u9898\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.h5,{id:"2212-rt_device_open",children:"2.2.1.2 rt_device_open"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u63cf\u8ff0\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u6253\u5f00\u8bbe\u5907\u3002\u901a\u8fc7\u8bbe\u5907\u53e5\u67c4\uff0c\u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u6253\u5f00\u548c\u5173\u95ed\u8bbe\u5907\uff0c\u6253\u5f00\u8bbe\u5907\u65f6\u4f1a\u68c0\u6d4b\u8bbe\u5907\u662f\u5426\u5df2\u7ecf\u521d\u59cb\u5316\uff0c\u6ca1\u6709\u521d\u59cb\u5316\u5219\u4f1a\u9ed8\u8ba4\u8c03\u7528\u521d\u59cb\u5316\u63a5\u53e3\u521d\u59cb\u5316\u8bbe\u5907\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8bed\u6cd5\u3011"}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"rt_err_t rt_device_open(rt_device_t dev, rt_uint16_t oflag);"})}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u53c2\u6570\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u53c2\u6570\u540d\u79f0"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,r.jsx)(d.th,{children:"\u8f93\u5165/\u8f93\u51fa"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"dev"}),(0,r.jsx)(d.td,{children:"\u8bbe\u5907\u53e5\u67c4"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"oflag"}),(0,r.jsxs)(d.td,{children:["\u8bbe\u5907\u7684\u6253\u5f00\u6a21\u5f0f\u6807\u5fd7\u4f4d\uff0c\u652f\u6301 ",(0,r.jsx)(d.code,{children:"RT_DEVICE_FLAG_RDWR"})]}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8fd4\u56de\u503c\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u8fd4\u56de\u503c"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"RT_EOK"}),(0,r.jsx)(d.td,{children:"\u6210\u529f\u8fd4\u56de RT_EOK"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"rt \u9519\u8bef\u7801"}),(0,r.jsx)(d.td,{children:"\u5931\u8d25\u8fd4\u56de\u9519\u8bef\u7801"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u82af\u7247\u5dee\u5f02\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u9700\u6c42\u3011"}),"\n",(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsxs)(d.li,{children:["\u5934\u6587\u4ef6\uff1a",(0,r.jsx)(d.code,{children:"rtdevice.h"}),"\u3001",(0,r.jsx)(d.code,{children:"rtthread.h"})]}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u6ce8\u610f\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u4e3e\u4f8b\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u76f8\u5173\u4e3b\u9898\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.h5,{id:"2213-rt_device_control",children:"2.2.1.3 rt_device_control"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u63cf\u8ff0\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u8be5\u51fd\u6570\u5c06\u5728\u8bbe\u5907\u4e0a\u6267\u884c\u5404\u79cd\u63a7\u5236\u529f\u80fd\uff0c\u901a\u8fc7\u6b64\u51fd\u6570\u4f7f\u80fd adc \u8bbe\u5907\u7684\u67d0\u4e2a\u901a\u9053\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8bed\u6cd5\u3011"}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"rt_err_t rt_device_control(rt_device_t dev, int cmd, void *arg);"})}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u53c2\u6570\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u53c2\u6570\u540d\u79f0"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,r.jsx)(d.th,{children:"\u8f93\u5165/\u8f93\u51fa"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"dev"}),(0,r.jsx)(d.td,{children:"\u8bbe\u5907\u53e5\u67c4"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"cmd"}),(0,r.jsx)(d.td,{children:"\u547d\u4ee4\u63a7\u5236\u5b57\uff0c\u8fd9\u4e2a\u53c2\u6570\u901a\u5e38\u662f\u4e0e\u8bbe\u5907\u9a71\u52a8\u7a0b\u5e8f\u76f8\u5173\u30020 \u4ee3\u8868\u4f7f\u80fd adc \u5bf9\u5e94\u901a\u9053\uff0c1 \u4ee3\u8868\u5173\u95ed adc \u5bf9\u5e94\u901a\u9053"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"arg"}),(0,r.jsx)(d.td,{children:"\u63a7\u5236\u547d\u4ee4\u76f8\u5173\u7684\u53c2\u6570\u3002\u8fd9\u91cc\u5bf9\u5e94 adc \u901a\u9053\u53f7"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8fd4\u56de\u503c\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u8fd4\u56de\u503c"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"RT_EOK"}),(0,r.jsx)(d.td,{children:"\u6210\u529f\u8fd4\u56de RT_EOK"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"rt \u9519\u8bef\u7801"}),(0,r.jsx)(d.td,{children:"\u5931\u8d25\u8fd4\u56de\u9519\u8bef\u7801"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u82af\u7247\u5dee\u5f02\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u9700\u6c42\u3011"}),"\n",(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsxs)(d.li,{children:["\u5934\u6587\u4ef6\uff1a",(0,r.jsx)(d.code,{children:"rtdevice.h"}),"\u3001",(0,r.jsx)(d.code,{children:"rtthread.h"})]}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u6ce8\u610f\u3011"}),"\n",(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsx)(d.li,{children:"\u5e94\u8be5\u4f7f\u7528 1.2.2 \u8282\u4e2d\u7b2c\u4e09\u90e8\u5206\u793a\u4f8b\u4ee3\u7801\u4f20\u5165\u901a\u9053\u53f7\u3002"}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u4e3e\u4f8b\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u76f8\u5173\u4e3b\u9898\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.h5,{id:"2214-rt_device_read",children:"2.2.1.4 rt_device_read"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u63cf\u8ff0\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u8be5\u51fd\u6570\u5c06\u4ece\u8bbe\u5907\u8bfb\u53d6\u6570\u636e\u3002\u53c2\u6570\u4e3a adc \u8bbe\u5907\u53e5\u67c4\u65f6\uff0c\u8be5\u51fd\u6570\u5c06\u8bfb\u53d6 adc \u901a\u9053\u7684\u91c7\u6837\u503c\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8bed\u6cd5\u3011"}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"rt_size_t rt_device_read(rt_device_t dev, rt_off_t pos, void *buffer, rt_size_t size);"})}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u53c2\u6570\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u53c2\u6570\u540d\u79f0"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,r.jsx)(d.th,{children:"\u8f93\u5165/\u8f93\u51fa"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"dev"}),(0,r.jsx)(d.td,{children:"\u8bbe\u5907\u53e5\u67c4\u3002\u5728\u8fd9\u91cc\u4f7f\u7528\u83b7\u53d6\u7684 adc \u8bbe\u5907\u53e5\u67c4"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"pos"}),(0,r.jsx)(d.td,{children:"\u8bfb\u53d6\u7684\u504f\u79fb\u91cf\u3002\u5728\u8fd9\u91cc\u5bf9\u5e94\u901a\u9053\u53f7"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"buffer"}),(0,r.jsx)(d.td,{children:"\u7528\u4e8e\u4fdd\u5b58\u8bfb\u53d6\u6570\u636e\u7684\u6570\u636e\u7f13\u51b2\u533a\u3002\u5728\u8fd9\u91cc\u5e94\u8be5\u4f7f\u7528\u4e00\u4e2a 32 \u4f4d\u65e0\u7b26\u53f7\u6570"}),(0,r.jsx)(d.td,{children:"\u8f93\u51fa"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"size"}),(0,r.jsx)(d.td,{children:"\u7f13\u51b2\u533a\u7684\u5927\u5c0f\u3002\u5728\u8fd9\u91cc\u5e94\u8be5\u4e3a 4 \u5b57\u8282"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8fd4\u56de\u503c\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u8fd4\u56de\u503c"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"rt_size_t"}),(0,r.jsx)(d.td,{children:"\u6210\u529f\u5219\u8fd4\u56de\u5b9e\u9645\u8bfb\u53d6\u7684\u5927\u5c0f\uff0c\u5982\u679c\u662f\u5b57\u7b26\u8bbe\u5907\uff0c\u8fd4\u56de\u5927\u5c0f\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\uff0c\u5982\u679c\u662f\u5757\u8bbe\u5907\uff0c\u8fd4\u56de\u7684\u5927\u5c0f\u4ee5\u5757\u4e3a\u5355\u4f4d"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"buffer"}),(0,r.jsx)(d.td,{children:"\u7528\u6237\u4fdd\u5b58\u8bfb\u53d6\u6570\u636e\u7684\u6570\u636e\u7f13\u51b2\u533a\u3002\u5728\u8fd9\u91cc\u662f adc \u901a\u9053\u7684\u91c7\u6837\u503c"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"0"}),(0,r.jsx)(d.td,{children:"\u5931\u8d25\u5219\u8fd4\u56de 0"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u82af\u7247\u5dee\u5f02\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u9700\u6c42\u3011"}),"\n",(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsxs)(d.li,{children:["\u5934\u6587\u4ef6\uff1a",(0,r.jsx)(d.code,{children:"rtdevice.h"}),"\u3001",(0,r.jsx)(d.code,{children:"rtthread.h"})]}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u6ce8\u610f\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u4e3e\u4f8b\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u76f8\u5173\u4e3b\u9898\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.h4,{id:"222-wdt",children:"2.2.2 WDT"}),"\n",(0,r.jsx)(d.p,{children:"WDT \u6a21\u5757\u5728\u7528\u6237\u6001\u53ef\u4ee5\u4f7f\u7528posix\u63a5\u53e3\uff1a"}),"\n",(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsx)(d.li,{children:(0,r.jsx)(d.a,{href:"#2221-open",children:"open"})}),"\n",(0,r.jsx)(d.li,{children:(0,r.jsx)(d.a,{href:"#2222-ioctl",children:"ioctl"})}),"\n"]}),"\n",(0,r.jsx)(d.h5,{id:"2221-open",children:"2.2.2.1 open"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u63cf\u8ff0\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u4ece\u7528\u6237\u6001\u6253\u5f00\u8bbe\u5907\u8282\u70b9\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u8bed\u6cd5\u3011"}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"int open(const char *file, int flags, ...);"})}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u53c2\u6570\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u53c2\u6570\u540d\u79f0"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,r.jsx)(d.th,{children:"\u8f93\u5165/\u8f93\u51fa"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"file"}),(0,r.jsx)(d.td,{children:"\u8bbe\u5907\u8282\u70b9\u8def\u5f84"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"flags"}),(0,r.jsxs)(d.td,{children:["\u6a21\u5f0f ",(0,r.jsx)(d.code,{children:"O_RDONLY"})," ",(0,r.jsx)(d.code,{children:"O_WRONLY"})," ",(0,r.jsx)(d.code,{children:"O_RDWR"}),"\u7b49"]}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8fd4\u56de\u503c\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u8fd4\u56de\u503c"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"\u5927\u4e8e0"}),(0,r.jsx)(d.td,{children:"\u6210\u529f\u5219\u8fd4\u56de\u6253\u5f00\u7684\u8bbe\u5907\u8282\u70b9\u63cf\u8ff0\u7b26"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"\u5c0f\u4e8e0"}),(0,r.jsx)(d.td,{children:"\u5931\u8d25"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u82af\u7247\u5dee\u5f02\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u9700\u6c42\u3011"}),"\n",(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsxs)(d.li,{children:["\u5934\u6587\u4ef6\uff1a",(0,r.jsx)(d.code,{children:"fcntl.h"})]}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u6ce8\u610f\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u4e3e\u4f8b\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u76f8\u5173\u4e3b\u9898\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.h5,{id:"2222-ioctl",children:"2.2.2.2 ioctl"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u63cf\u8ff0\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u901a\u8fc7\u4f20\u5165\u4e0d\u540c\u7684\u53c2\u6570\u8c03\u7528\u9a71\u52a8\u7684\u4e0d\u540c\u529f\u80fd\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u8bed\u6cd5\u3011"}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"int ioctl(int fildes, int cmd, ...);"})}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u53c2\u6570\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u53c2\u6570\u540d\u79f0"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,r.jsx)(d.th,{children:"\u8f93\u5165/\u8f93\u51fa"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"fildes"}),(0,r.jsx)(d.td,{children:"\u8bbe\u5907\u63cf\u8ff0\u7b26"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"cmd"}),(0,r.jsx)(d.td,{children:"\u547d\u4ee4"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8fd4\u56de\u503c\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u8fd4\u56de\u503c"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"0"}),(0,r.jsx)(d.td,{children:"\u6210\u529f"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"\u975e0"}),(0,r.jsx)(d.td,{children:"\u5931\u8d25"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u82af\u7247\u5dee\u5f02\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u9700\u6c42\u3011"}),"\n",(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsxs)(d.li,{children:["\u5934\u6587\u4ef6\uff1a",(0,r.jsx)(d.code,{children:"sys/ioctl.h"})]}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u6ce8\u610f\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u4e3e\u4f8b\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u76f8\u5173\u4e3b\u9898\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.h4,{id:"223-otp",children:"2.2.3 OTP"}),"\n",(0,r.jsx)(d.p,{children:"OTP \u6a21\u5757\u5728\u7528\u6237\u6001\u63d0\u4f9b\u4ee5\u4e0bAPI\uff1a"}),"\n",(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsx)(d.li,{children:(0,r.jsx)(d.a,{href:"#2231-rt_device_find",children:"rt_device_find"})}),"\n",(0,r.jsx)(d.li,{children:(0,r.jsx)(d.a,{href:"#2232-rt_device_open",children:"rt_device_open"})}),"\n",(0,r.jsx)(d.li,{children:(0,r.jsx)(d.a,{href:"#2233-rt_device_read",children:"rt_device_read"})}),"\n",(0,r.jsx)(d.li,{children:(0,r.jsx)(d.a,{href:"#2234-rt_device_write",children:"rt_device_write"})}),"\n",(0,r.jsx)(d.li,{children:(0,r.jsx)(d.a,{href:"#2235-rt_device_close",children:"rt_device_close"})}),"\n"]}),"\n",(0,r.jsx)(d.h5,{id:"2231-rt_device_find",children:"2.2.3.1 rt_device_find"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u63cf\u8ff0\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u67e5\u627e\u8bbe\u5907\u3002\u8be5\u51fd\u6570\u901a\u8fc7\u6307\u5b9a\u7684\u540d\u79f0\u67e5\u627e\u8bbe\u5907\u3002\u5e94\u7528\u7a0b\u5e8f\u6839\u636e\u8bbe\u5907\u540d\u79f0\u83b7\u53d6\u8bbe\u5907\u53e5\u67c4\uff0c\u8fdb\u800c\u53ef\u4ee5\u64cd\u4f5c\u8bbe\u5907\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8bed\u6cd5\u3011"}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"rt_device_t rt_device_find(const char *name);"})}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u53c2\u6570\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u53c2\u6570\u540d\u79f0"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,r.jsx)(d.th,{children:"\u8f93\u5165/\u8f93\u51fa"})]})}),(0,r.jsx)(d.tbody,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"name"}),(0,r.jsx)(d.td,{children:"\u8bbe\u5907\u7684\u540d\u79f0\u3002"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]})})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8fd4\u56de\u503c\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u8fd4\u56de\u503c"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"rt_device_t"}),(0,r.jsx)(d.td,{children:"\u6210\u529f\u8fd4\u56de\u8bbe\u5907\u53e5\u67c4"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"RT_NULL"}),(0,r.jsx)(d.td,{children:"\u5931\u8d25\u8fd4\u56de RT_NULL"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u82af\u7247\u5dee\u5f02\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u9700\u6c42\u3011"}),"\n",(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsxs)(d.li,{children:["\u5934\u6587\u4ef6\uff1a",(0,r.jsx)(d.code,{children:"rtdevice.h"}),"\u3001",(0,r.jsx)(d.code,{children:"rtthread.h"})]}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u6ce8\u610f\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u4e3e\u4f8b\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u76f8\u5173\u4e3b\u9898\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.h5,{id:"2232-rt_device_open",children:"2.2.3.2 rt_device_open"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u63cf\u8ff0\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u6253\u5f00\u8bbe\u5907\u3002\u901a\u8fc7\u8bbe\u5907\u53e5\u67c4\uff0c\u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u6253\u5f00\u548c\u5173\u95ed\u8bbe\u5907\uff0c\u6253\u5f00\u8bbe\u5907\u65f6\u4f1a\u68c0\u6d4b\u8bbe\u5907\u662f\u5426\u5df2\u7ecf\u521d\u59cb\u5316\uff0c\u6ca1\u6709\u521d\u59cb\u5316\u5219\u4f1a\u9ed8\u8ba4\u8c03\u7528\u521d\u59cb\u5316\u63a5\u53e3\u521d\u59cb\u5316\u8bbe\u5907\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8bed\u6cd5\u3011"}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"rt_err_t rt_device_open(rt_device_t dev, rt_uint16_t oflag);"})}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u53c2\u6570\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u53c2\u6570\u540d\u79f0"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,r.jsx)(d.th,{children:"\u8f93\u5165/\u8f93\u51fa"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"dev"}),(0,r.jsx)(d.td,{children:"\u8bbe\u5907\u53e5\u67c4"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"oflag"}),(0,r.jsxs)(d.td,{children:["\u8bbe\u5907\u7684\u6253\u5f00\u6a21\u5f0f\u6807\u5fd7\u4f4d\uff0c\u652f\u6301 ",(0,r.jsx)(d.code,{children:"RT_DEVICE_FLAG_RDWR"})]}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8fd4\u56de\u503c\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u8fd4\u56de\u503c"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"RT_EOK"}),(0,r.jsx)(d.td,{children:"\u6210\u529f\u8fd4\u56de RT_EOK"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"rt \u9519\u8bef\u7801"}),(0,r.jsx)(d.td,{children:"\u5931\u8d25\u8fd4\u56de\u9519\u8bef\u7801"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u82af\u7247\u5dee\u5f02\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u9700\u6c42\u3011"}),"\n",(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsxs)(d.li,{children:["\u5934\u6587\u4ef6\uff1a",(0,r.jsx)(d.code,{children:"rtdevice.h"}),"\u3001",(0,r.jsx)(d.code,{children:"rtthread.h"})]}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u6ce8\u610f\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u4e3e\u4f8b\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u76f8\u5173\u4e3b\u9898\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.h5,{id:"2233-rt_device_read",children:"2.2.3.3 rt_device_read"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u63cf\u8ff0\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u4ece OTP \u8bbe\u5907\u4e2d\u8bfb\u53d6\u6570\u636e\uff0c\u53ef\u8bfb\u8303\u56f4\uff1a\u504f\u79fb\u91cf 0x0~0xbfc\uff0csize \u4e3a 0xc00\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8bed\u6cd5\u3011"}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"rt_size_t rt_device_read(rt_device_t dev, rt_off_t pos, void *buffer, rt_size_t size);"})}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u53c2\u6570\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u53c2\u6570\u540d\u79f0"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,r.jsx)(d.th,{children:"\u8f93\u5165/\u8f93\u51fa"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"dev"}),(0,r.jsx)(d.td,{children:"\u8bbe\u5907\u53e5\u67c4\u3002\u5728\u8fd9\u91cc\u4f7f\u7528\u83b7\u53d6\u7684 otp \u8bbe\u5907\u53e5\u67c4"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"pos"}),(0,r.jsx)(d.td,{children:"\u8bfb\u53d6\u7684\u504f\u79fb\u91cf\u3002\u5728\u8fd9\u91cc\u5bf9\u5e94\u8981\u8bfb\u53d6\u5730\u5740\u7684\u504f\u79fb\u91cf"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"buffer"}),(0,r.jsx)(d.td,{children:"\u7528\u4e8e\u4fdd\u5b58\u8bfb\u53d6\u6570\u636e\u7684\u6570\u636e\u7f13\u51b2\u533a\u3002\u5728\u8fd9\u91cc\u5e94\u8be5\u4f7f\u7528\u4e00\u4e2a 32 \u4f4d\u65e0\u7b26\u53f7\u6570"}),(0,r.jsx)(d.td,{children:"\u8f93\u51fa"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"size"}),(0,r.jsx)(d.td,{children:"\u7f13\u51b2\u533a\u7684\u5927\u5c0f\u3002\u5728\u8fd9\u91cc\u5bf9\u5e94\u8bfb\u53d6\u6570\u636e\u7684\u5927\u5c0f\uff08bytes\uff09"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8fd4\u56de\u503c\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u8fd4\u56de\u503c"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"rt_size_t"}),(0,r.jsx)(d.td,{children:"\u6210\u529f\u5219\u8fd4\u56de\u5b9e\u9645\u8bfb\u53d6\u7684\u5927\u5c0f\uff0c\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"0"}),(0,r.jsx)(d.td,{children:"\u5931\u8d25\u5219\u8fd4\u56de 0"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u82af\u7247\u5dee\u5f02\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u9700\u6c42\u3011"}),"\n",(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsxs)(d.li,{children:["\u5934\u6587\u4ef6\uff1a",(0,r.jsx)(d.code,{children:"rtdevice.h"}),"\u3001",(0,r.jsx)(d.code,{children:"rtthread.h"})]}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u6ce8\u610f\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u4e3e\u4f8b\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u76f8\u5173\u4e3b\u9898\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.h5,{id:"2234-rt_device_write",children:"2.2.3.4 rt_device_write"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u63cf\u8ff0\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u5411 OTP \u8bbe\u5907\u4e2d\u5199\u5165\u6570\u636e\uff0c\u53ef\u5199\u8303\u56f4\uff1a\u504f\u79fb\u91cf 0x0~0x1fc\uff0csize \u4e3a 0x200\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8bed\u6cd5\u3011"}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"rt_size_t otp_device_write(rt_device_t dev, rt_off_t pos, const void *buffer, rt_size_t size);"})}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u53c2\u6570\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u53c2\u6570\u540d\u79f0"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,r.jsx)(d.th,{children:"\u8f93\u5165/\u8f93\u51fa"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"dev"}),(0,r.jsx)(d.td,{children:"\u8bbe\u5907\u53e5\u67c4\u3002\u5728\u8fd9\u91cc\u4f7f\u7528\u83b7\u53d6\u7684 otp \u8bbe\u5907\u53e5\u67c4"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"pos"}),(0,r.jsx)(d.td,{children:"\u504f\u79fb\u91cf\u3002\u5728\u8fd9\u91cc\u5bf9\u5e94\u8981\u5199\u5165\u6570\u636e\u7684\u504f\u79fb\u91cf"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"buffer"}),(0,r.jsx)(d.td,{children:"\u7528\u4e8e\u4fdd\u5b58\u8bfb\u53d6\u6570\u636e\u7684\u6570\u636e\u7f13\u51b2\u533a\u3002\u653e\u7f6e\u8981\u5199\u5165\u7684\u6570\u636e"}),(0,r.jsx)(d.td,{children:"\u8f93\u51fa"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"size"}),(0,r.jsx)(d.td,{children:"\u7f13\u51b2\u533a\u7684\u5927\u5c0f\u3002\u5728\u8fd9\u91cc\u5bf9\u5e94\u5199\u5165\u6570\u636e\u7684\u5927\u5c0f\uff08bytes\uff09"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8fd4\u56de\u503c\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u8fd4\u56de\u503c"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"rt_size_t"}),(0,r.jsx)(d.td,{children:"\u6210\u529f\u5219\u8fd4\u56de\u5b9e\u9645\u5199\u5165\u6570\u636e\u7684\u5927\u5c0f\uff0c\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"0"}),(0,r.jsx)(d.td,{children:"\u5931\u8d25\u5219\u8fd4\u56de 0"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u82af\u7247\u5dee\u5f02\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u9700\u6c42\u3011"}),"\n",(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsxs)(d.li,{children:["\u5934\u6587\u4ef6\uff1a",(0,r.jsx)(d.code,{children:"rtdevice.h"}),"\u3001",(0,r.jsx)(d.code,{children:"rtthread.h"})]}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u6ce8\u610f\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u4e3e\u4f8b\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u76f8\u5173\u4e3b\u9898\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.h5,{id:"2235-rt_device_close",children:"2.2.3.5 rt_device_close"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u63cf\u8ff0\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u5173\u95ed\u8bbe\u5907\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8bed\u6cd5\u3011"}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"rt_err_t rt_device_close(rt_device_t dev);"})}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u53c2\u6570\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u53c2\u6570\u540d\u79f0"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,r.jsx)(d.th,{children:"\u8f93\u5165/\u8f93\u51fa"})]})}),(0,r.jsx)(d.tbody,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"dev"}),(0,r.jsx)(d.td,{children:"\u8bbe\u5907\u53e5\u67c4\u3002\u5728\u8fd9\u91cc\u4f7f\u7528\u83b7\u53d6\u7684 otp \u8bbe\u5907\u53e5\u67c4"}),(0,r.jsx)(d.td,{children:"\u8f93\u5165"})]})})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8fd4\u56de\u503c\u3011"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u8fd4\u56de\u503c"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"rt_err_t"}),(0,r.jsx)(d.td,{children:"\u6210\u529f\u5219\u5173\u95ed\u8bbe\u5907"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"\u9519\u8bef\u7801"}),(0,r.jsx)(d.td,{children:"\u5931\u8d25\u5219\u8fd4\u56de\u9519\u8bef\u7801"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u82af\u7247\u5dee\u5f02\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u9700\u6c42\u3011"}),"\n",(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsxs)(d.li,{children:["\u5934\u6587\u4ef6\uff1a",(0,r.jsx)(d.code,{children:"rtdevice.h"}),"\u3001",(0,r.jsx)(d.code,{children:"rtthread.h"})]}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u6ce8\u610f\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u4e3e\u4f8b\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u76f8\u5173\u4e3b\u9898\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.h4,{id:"224-ts",children:"2.2.4 TS"}),"\n",(0,r.jsxs)(d.p,{children:["TS \u6a21\u5757\u5728\u7528\u6237\u6001\u63d0\u4f9b\u4ee5\u4e0b API\uff0c\u8fd9\u4e9b API \u8ddf OTP \u63d0\u4f9b\u7684 API \u4fdd\u6301\u4e00\u81f4\uff0c\u8bf7\u53c2\u8003 ",(0,r.jsx)(d.a,{href:"#223-otp",children:"OTP"})," \u4e2d\u5bf9\u4e8e\u7528\u6237\u6001 API \u7684\u4ecb\u7ecd\u3002"]}),"\n",(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsx)(d.li,{children:"rt_device_find"}),"\n",(0,r.jsx)(d.li,{children:"rt_device_open"}),"\n",(0,r.jsx)(d.li,{children:"rt_device_read"}),"\n",(0,r.jsx)(d.li,{children:"rt_device_close"}),"\n"]}),"\n",(0,r.jsx)(d.h2,{id:"3-\u6570\u636e\u7c7b\u578b",children:"3. \u6570\u636e\u7c7b\u578b"}),"\n",(0,r.jsx)(d.p,{children:"UART\u6a21\u5757\u4f7f\u7528\u5230\u7684\u6570\u636e\u7c7b\u578b\uff1a\u672a\u5b9a\u4e49\u79c1\u6709\u6570\u636e\u7c7b\u578b"}),"\n",(0,r.jsx)(d.p,{children:"I2C\u6a21\u5757\u4f7f\u7528\u5230\u7684\u6570\u636e\u7c7b\u578b\uff1a\u672a\u5b9a\u4e49\u79c1\u6709\u6570\u636e\u7c7b\u578b"}),"\n",(0,r.jsx)(d.p,{children:"ADC \u6a21\u5757\u4f7f\u7528\u5230\u7684\u6570\u636e\u7c7b\u578b\uff1a\u672a\u5b9a\u4e49\u79c1\u6709\u6570\u636e\u7c7b\u578b"}),"\n",(0,r.jsx)(d.p,{children:"GPIO\u6a21\u5757\u4f7f\u7528\u5230\u7684\u6570\u636e\u7c7b\u578b\uff1a"}),"\n",(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsx)(d.li,{children:(0,r.jsx)(d.a,{href:"#31-struct-rt_device_gpio",children:"struct rt_device_gpio"})}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:"ADC \u6a21\u5757\u4f7f\u7528\u5230\u7684\u6570\u636e\u7c7b\u578b\uff1a\u672a\u5b9a\u4e49\u79c1\u6709\u6570\u636e\u7c7b\u578b"}),"\n",(0,r.jsx)(d.p,{children:"Hard-lock\u6a21\u5757\u4f7f\u7528\u5230\u7684\u6570\u636e\u7c7b\u578b\uff1a"}),"\n",(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsx)(d.li,{children:(0,r.jsx)(d.a,{href:"#32-device_hardlock",children:"struct device_hardlock"})}),"\n"]}),"\n",(0,r.jsx)(d.p,{children:"WDT \u6a21\u5757\u4f7f\u7528\u5230\u7684\u6570\u636e\u7c7b\u578b\uff1a\u672a\u5b9a\u4e49\u79c1\u6709\u6570\u636e\u7c7b\u578b"}),"\n",(0,r.jsx)(d.p,{children:"OTP \u6a21\u5757\u4f7f\u7528\u5230\u7684\u6570\u636e\u7c7b\u578b\uff1a\u672a\u5b9a\u4e49\u79c1\u6709\u6570\u636e\u7c7b\u578b"}),"\n",(0,r.jsx)(d.p,{children:"TS \u6a21\u5757\u4f7f\u7528\u5230\u7684\u6570\u636e\u7c7b\u578b\uff1a\u672a\u5b9a\u4e49\u79c1\u6709\u6570\u636e\u7c7b\u578b"}),"\n",(0,r.jsx)(d.p,{children:"PWM \u6a21\u5757\u4f7f\u7528\u5230\u7684\u6570\u636e\u7c7b\u578b\uff1a\u672a\u5b9a\u4e49\u79c1\u6709\u6570\u636e\u7c7b\u578b"}),"\n",(0,r.jsx)(d.p,{children:"RTC \u6a21\u5757\u4f7f\u7528\u5230\u7684\u6570\u636e\u7c7b\u578b\uff1a"}),"\n",(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsx)(d.li,{children:(0,r.jsx)(d.a,{href:"#33-struct-kd_alarm_setup",children:"struct kd_alarm_setup"})}),"\n"]}),"\n",(0,r.jsx)(d.h3,{id:"31-struct-rt_device_gpio",children:"3.1 struct rt_device_gpio"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8bf4\u660e\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u7528\u6237\u4f20\u8fdb\u6765\u7684gpio\u7ba1\u811a\u548c\u8bfb\u53d6\u7ba1\u811a\u65f6\u7528\u4e8e\u88c5\u8f7d\u8fd4\u56de\u503c\u7684\u96c6\u5408\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u5b9a\u4e49\u3011"}),"\n",(0,r.jsx)(d.pre,{children:(0,r.jsx)(d.code,{className:"language-text",children:"struct rt_device_gpio\n{\n    rt_uint16_t pin; //\u7ba1\u811a\u6807\u53f7\n    rt_uint16_t value; //\u8bfb\u7ba1\u811a\u7535\u5e73\u65f6\u7528\u4e8e\u88c5\u8f7d\u8bfb\u56de\u7684\u7535\u5e73\u503c\n};\n"})}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u6ce8\u610f\u4e8b\u9879\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u76f8\u5173\u6570\u636e\u7c7b\u578b\u53ca\u63a5\u53e3\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.h3,{id:"32-device_hardlock",children:"3.2 device_hardlock"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8bf4\u660e\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u9a71\u52a8\u4e2d\u5bf9hardlock\u8bbe\u5907\u7684\u62bd\u8c61\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u5b9a\u4e49\u3011"}),"\n",(0,r.jsx)(d.pre,{children:(0,r.jsx)(d.code,{className:"language-text",children:"struct device_hardlock\n{\n    volatile void *hw_base; // \u6a21\u5757\u5185\u6838\u57fa\u5730\u5740\n    char used[HARDLOCK_MAX]; //\u7528\u4e8e\u6807\u5fd7\u9501\u662f\u5426\u88ab\u4f7f\u7528\uff0c\u7533\u8bf7\u65f6\u4f1a\u5c06\u5bf9\u5e94\u7f16\u53f7\u7f6e1\n};\n"})}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u6ce8\u610f\u4e8b\u9879\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u76f8\u5173\u6570\u636e\u7c7b\u578b\u53ca\u63a5\u53e3\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.h3,{id:"33-struct-kd_alarm_setup",children:"3.3 struct kd_alarm_setup"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u8bf4\u660e\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u5728\u914d\u7f6eRTC\u4e2d\u65ad\u65f6\uff0c\u5c06\u4e2d\u65ad\u7c7b\u578b\u548c\u5b9a\u65f6\u65f6\u95f4\u4e00\u540c\u5411\u4e0b\u6ce8\u518c\u8fdb\u9a71\u52a8\u4e2d\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u5b9a\u4e49\u3011"}),"\n",(0,r.jsx)(d.pre,{children:(0,r.jsx)(d.code,{className:"language-text",children:"struct kd_alarm_setup\n{\n    rt_uint32_t flag;  /* alarm flag */\n    struct tm tm;     /* when will the alarm wake up user */\n};\n"})}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u6ce8\u610f\u4e8b\u9879\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.p,{children:"\u3010\u76f8\u5173\u6570\u636e\u7c7b\u578b\u53ca\u63a5\u53e3\u3011"}),"\n",(0,r.jsx)(d.p,{children:"\u65e0"}),"\n",(0,r.jsx)(d.h2,{id:"4-\u9519\u8bef\u7801",children:"4. \u9519\u8bef\u7801"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u9519\u8bef\u4ee3\u7801"}),(0,r.jsx)(d.th,{children:"\u5b8f\u5b9a\u4e49"}),(0,r.jsx)(d.th,{children:"\u63cf\u8ff0"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"RT_EOK"}),(0,r.jsx)(d.td,{children:"0"}),(0,r.jsx)(d.td,{children:"\u6210\u529f"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"RT_ERROR"}),(0,r.jsx)(d.td,{children:"1"}),(0,r.jsx)(d.td,{children:"\u53d1\u751f\u4e86\u9519\u8bef"})]})]})]}),"\n",(0,r.jsx)(d.h2,{id:"5-\u8ba1\u7b97\u516c\u5f0f",children:"5. \u8ba1\u7b97\u516c\u5f0f"}),"\n",(0,r.jsx)(d.h3,{id:"51-adc-\u8ba1\u7b97\u516c\u5f0f",children:"5.1 ADC \u8ba1\u7b97\u516c\u5f0f"}),"\n",(0,r.jsx)(d.p,{children:"adc \u786c\u4ef6\u53c2\u8003\u7535\u538b\u4e3a 1.8V\uff0c12 bit \u6570\u5b57\u4fe1\u53f7\u8f93\u51fa\uff0c\u53d7\u566a\u58f0\u5e72\u6270\u6709\u6548\u4f4d\u4e3a 10 bit\u3002\u901a\u8fc7 API \u83b7\u53d6 adc \u91c7\u6837\u7535\u538b\u503c\u4ee5\u540e\uff0c\u8f6c\u6362\u4e3a\u5b9e\u9645\u7535\u538b\u503c\u7684\u8ba1\u7b97\u516c\u5f0f\u5982\u4e0b\uff1a"}),"\n",(0,r.jsx)(d.p,{children:"\u4f8b\u5982\uff0c\u5728 msh \u83b7\u53d6 adc \u7684\u91c7\u6837\u503c\u4e3a 0x713\uff0c\u5373 1811 \u65f6\uff0c\u5b9e\u9645\u7535\u538b\u503c\u4e3a\uff1a"}),"\n",(0,r.jsx)(d.p,{children:"V~1.8V\uff0c\u6d6e\u52a8\u8303\u56f4\u4e3a 5mv\u3002"}),"\n",(0,r.jsx)(d.h3,{id:"52-wdt\u8d85\u65f6\u65f6\u95f4\u8ba1\u7b97\u516c\u5f0f",children:"5.2 WDT\u8d85\u65f6\u65f6\u95f4\u8ba1\u7b97\u516c\u5f0f"}),"\n",(0,r.jsx)(d.pre,{children:(0,r.jsx)(d.code,{className:"language-text",children:"value = clock * timeout;   timeout\uff1a\u7528\u6237\u8bbe\u7f6e\u7684\u8d85\u65f6\u65f6\u95f4\uff0c\u5355\u4f4d\u662f\uff1a\u79d2\nlog2(value) = ret + 16;\nret = log2(value) - 16;\n"})}),"\n",(0,r.jsx)(d.p,{children:"ret\u5c31\u662f\u6700\u7ec8\u5c06\u8981\u914d\u7f6e\u5230wdt\u6a21\u5757\u7684\u8d85\u65f6\u65f6\u95f4\u503c\u3002"}),"\n",(0,r.jsx)(d.p,{children:"\u7528\u6237\u5e76\u4e0d\u9700\u8981\u5173\u5fc3\u8d85\u65f6\u65f6\u95f4\u5982\u4f55\u8ba1\u7b97\uff0c\u8ba1\u7b97\u8fc7\u7a0b\u5df2\u7ecf\u5728\u9a71\u52a8\u4e2d\u5b9e\u73b0\uff0c\u5f53\u7528\u6237\u8c03\u7528ioctl\u6216rt_device_control\u914d\u7f6e\u8d85\u65f6\u65f6\u95f4\u65f6\uff0c\u9a71\u52a8\u5c06\u4f1a\u627e\u5230\u4e00\u4e2a\u6700\u63a5\u8fd1\u7528\u6237\u8bbe\u7f6e\u7684\u65f6\u95f4\u7684\u503c\u914d\u7f6e\u8fdbwdt\u6a21\u5757\u3002"})]})}function j(e={}){const{wrapper:d}={...(0,i.R)(),...e.components};return d?(0,r.jsx)(d,{...e,children:(0,r.jsx)(x,{...e})}):x(e)}},88715:(e,d,n)=>{n.d(d,{A:()=>r});const r=n.p+"assets/images/4c13711677925f891f88c5f3451b1630-4aadbdf27b90dc46ac894bc3c1d6fbb9.png"},68802:(e,d,n)=>{n.d(d,{A:()=>r});const r=n.p+"assets/images/56a2648fb35340c3f3ab275da91b1247-c9cfb0bc99275c1e4524112700d3ad01.png"},73237:(e,d,n)=>{n.d(d,{A:()=>r});const r=n.p+"assets/images/8dab3c90fd04037c474ffe4dcb6ebcad-ae0a32ad30c4b194b2e7b6e2d80eb5f9.png"},61145:(e,d,n)=>{n.d(d,{A:()=>r});const r=n.p+"assets/images/d57457f620fd3083c6a6da9f4da78a1e-b835061dd446efc690db1c4b519a69b0.png"},50070:(e,d,n)=>{n.d(d,{A:()=>r});const r=n.p+"assets/images/fd9ce5570d02a5a3248c036db4bf4ca2-b533887afc77b5e36182168b3e64ee5d.png"},50552:(e,d,n)=>{n.d(d,{A:()=>r});const r=n.p+"assets/images/otp_rtt-374bc315a4b18c4090c7483eb9af9855.png"},65869:(e,d,n)=>{n.d(d,{A:()=>r});const r=n.p+"assets/images/pwm-driver-9ff9d0545436236aa15e893d7c16eed8.png"},66426:(e,d,n)=>{n.d(d,{A:()=>r});const r=n.p+"assets/images/rtc-driver-bd61afcf3d28a4dda9bc306532c03db8.png"},99056:(e,d,n)=>{n.d(d,{A:()=>r});const r=n.p+"assets/images/timer-driver-b07e3b6a554878e4321703144b70109c.png"},23330:(e,d,n)=>{n.d(d,{A:()=>r});const r=n.p+"assets/images/ts_rtt-c9ce87b9b5001cd06e048d1cc747d5db.png"},95020:(e,d,n)=>{n.d(d,{A:()=>r});const r=n.p+"assets/images/wdt_driver_model-e5b0e3b5dd0660310fa546a78512e92d.png"},28453:(e,d,n)=>{n.d(d,{R:()=>l,x:()=>c});var r=n(96540);const i={},s=r.createContext(i);function l(e){const d=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(d):{...d,...e}}),[d,e])}function c(e){let d;return d=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),r.createElement(s.Provider,{value:d},e.children)}}}]);